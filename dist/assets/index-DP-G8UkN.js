(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nk={exports:{}},lh={},Ok={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu=Symbol.for("react.element"),g2=Symbol.for("react.portal"),v2=Symbol.for("react.fragment"),y2=Symbol.for("react.strict_mode"),b2=Symbol.for("react.profiler"),x2=Symbol.for("react.provider"),w2=Symbol.for("react.context"),_2=Symbol.for("react.forward_ref"),S2=Symbol.for("react.suspense"),E2=Symbol.for("react.memo"),T2=Symbol.for("react.lazy"),dx=Symbol.iterator;function k2(e){return e===null||typeof e!="object"?null:(e=dx&&e[dx]||e["@@iterator"],typeof e=="function"?e:null)}var Rk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mk=Object.assign,$k={};function ws(e,t,n){this.props=e,this.context=t,this.refs=$k,this.updater=n||Rk}ws.prototype.isReactComponent={};ws.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ws.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dk(){}Dk.prototype=ws.prototype;function qy(e,t,n){this.props=e,this.context=t,this.refs=$k,this.updater=n||Rk}var Gy=qy.prototype=new Dk;Gy.constructor=qy;Mk(Gy,ws.prototype);Gy.isPureReactComponent=!0;var fx=Array.isArray,jk=Object.prototype.hasOwnProperty,Hy={current:null},Lk={key:!0,ref:!0,__self:!0,__source:!0};function Uk(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)jk.call(t,r)&&!Lk.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Yu,type:e,key:o,ref:a,props:i,_owner:Hy.current}}function A2(e,t){return{$$typeof:Yu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yu}function C2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hx=/\/+/g;function Mp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?C2(""+e.key):t.toString(36)}function id(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Yu:case g2:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Mp(a,0):r,fx(i)?(n="",e!=null&&(n=e.replace(hx,"$&/")+"/"),id(i,t,n,"",function(u){return u})):i!=null&&(Wy(i)&&(i=A2(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(hx,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",fx(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+Mp(o,s);a+=id(o,t,n,l,i)}else if(l=k2(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+Mp(o,s++),a+=id(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function pc(e,t,n){if(e==null)return e;var r=[],i=0;return id(e,r,"","",function(o){return t.call(n,o,i++)}),r}function P2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},od={transition:null},I2={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:od,ReactCurrentOwner:Hy};function Fk(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:pc,forEach:function(e,t,n){pc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pc(e,function(){t++}),t},toArray:function(e){return pc(e,function(t){return t})||[]},only:function(e){if(!Wy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=ws;xe.Fragment=v2;xe.Profiler=b2;xe.PureComponent=qy;xe.StrictMode=y2;xe.Suspense=S2;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I2;xe.act=Fk;xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Mk({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Hy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)jk.call(t,l)&&!Lk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Yu,type:e.type,key:i,ref:o,props:r,_owner:a}};xe.createContext=function(e){return e={$$typeof:w2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:x2,_context:e},e.Consumer=e};xe.createElement=Uk;xe.createFactory=function(e){var t=Uk.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:_2,render:e}};xe.isValidElement=Wy;xe.lazy=function(e){return{$$typeof:T2,_payload:{_status:-1,_result:e},_init:P2}};xe.memo=function(e,t){return{$$typeof:E2,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=od.transition;od.transition={};try{e()}finally{od.transition=t}};xe.unstable_act=Fk;xe.useCallback=function(e,t){return tn.current.useCallback(e,t)};xe.useContext=function(e){return tn.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};xe.useEffect=function(e,t){return tn.current.useEffect(e,t)};xe.useId=function(){return tn.current.useId()};xe.useImperativeHandle=function(e,t,n){return tn.current.useImperativeHandle(e,t,n)};xe.useInsertionEffect=function(e,t){return tn.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return tn.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return tn.current.useMemo(e,t)};xe.useReducer=function(e,t,n){return tn.current.useReducer(e,t,n)};xe.useRef=function(e){return tn.current.useRef(e)};xe.useState=function(e){return tn.current.useState(e)};xe.useSyncExternalStore=function(e,t,n){return tn.current.useSyncExternalStore(e,t,n)};xe.useTransition=function(){return tn.current.useTransition()};xe.version="18.3.1";Ok.exports=xe;var O=Ok.exports;const I=Oe(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2=O,O2=Symbol.for("react.element"),R2=Symbol.for("react.fragment"),M2=Object.prototype.hasOwnProperty,$2=N2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D2={key:!0,ref:!0,__self:!0,__source:!0};function Bk(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)M2.call(t,r)&&!D2.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:O2,type:e,key:o,ref:a,props:i,_owner:$2.current}}lh.Fragment=R2;lh.jsx=Bk;lh.jsxs=Bk;Nk.exports=lh;var m=Nk.exports,Km={},zk={exports:{}},En={},Vk={exports:{}},qk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,j){var z=P.length;P.push(j);e:for(;0<z;){var Y=z-1>>>1,H=P[Y];if(0<i(H,j))P[Y]=j,P[z]=H,z=Y;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var j=P[0],z=P.pop();if(z!==j){P[0]=z;e:for(var Y=0,H=P.length,ie=H>>>1;Y<ie;){var he=2*(Y+1)-1,ye=P[he],Fe=he+1,Ot=P[Fe];if(0>i(ye,z))Fe<H&&0>i(Ot,ye)?(P[Y]=Ot,P[Fe]=z,Y=Fe):(P[Y]=ye,P[he]=z,Y=he);else if(Fe<H&&0>i(Ot,z))P[Y]=Ot,P[Fe]=z,Y=Fe;else break e}}return j}function i(P,j){var z=P.sortIndex-j.sortIndex;return z!==0?z:P.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,g=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(P){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=P)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function T(P){if(b=!1,_(P),!v)if(n(l)!==null)v=!0,U(E);else{var j=n(u);j!==null&&V(T,j.startTime-P)}}function E(P,j){v=!1,b&&(b=!1,w(A),A=-1),g=!0;var z=h;try{for(_(j),d=n(l);d!==null&&(!(d.expirationTime>j)||P&&!R());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var H=Y(d.expirationTime<=j);j=e.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),_(j)}else r(l);d=n(l)}if(d!==null)var ie=!0;else{var he=n(u);he!==null&&V(T,he.startTime-j),ie=!1}return ie}finally{d=null,h=z,g=!1}}var S=!1,k=null,A=-1,C=5,N=-1;function R(){return!(e.unstable_now()-N<C)}function M(){if(k!==null){var P=e.unstable_now();N=P;var j=!0;try{j=k(!0,P)}finally{j?L():(S=!1,k=null)}}else S=!1}var L;if(typeof x=="function")L=function(){x(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,D=$.port2;$.port1.onmessage=M,L=function(){D.postMessage(null)}}else L=function(){y(M,0)};function U(P){k=P,S||(S=!0,L())}function V(P,j){A=y(function(){P(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,U(E))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var z=h;h=j;try{return P()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,j){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var z=h;h=P;try{return j()}finally{h=z}},e.unstable_scheduleCallback=function(P,j,z){var Y=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,P){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,P={id:c++,callback:j,priorityLevel:P,startTime:z,expirationTime:H,sortIndex:-1},z>Y?(P.sortIndex=z,t(u,P),n(l)===null&&P===n(u)&&(b?(w(A),A=-1):b=!0,V(T,z-Y))):(P.sortIndex=H,t(l,P),v||g||(v=!0,U(E))),P},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(P){var j=h;return function(){var z=h;h=j;try{return P.apply(this,arguments)}finally{h=z}}}})(qk);Vk.exports=qk;var j2=Vk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L2=O,Sn=j2;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gk=new Set,Ll={};function Mo(e,t){Ba(e,t),Ba(e+"Capture",t)}function Ba(e,t){for(Ll[e]=t,e=0;e<t.length;e++)Gk.add(t[e])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jm=Object.prototype.hasOwnProperty,U2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,px={},mx={};function F2(e){return Jm.call(mx,e)?!0:Jm.call(px,e)?!1:U2.test(e)?mx[e]=!0:(px[e]=!0,!1)}function B2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function z2(e,t,n,r){if(t===null||typeof t>"u"||B2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nn(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ky=/[\-:]([a-z])/g;function Jy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ky,Jy);Lt[t]=new nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ky,Jy);Lt[t]=new nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ky,Jy);Lt[t]=new nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new nn(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yy(e,t,n,r){var i=Lt.hasOwnProperty(t)?Lt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(z2(t,n,i,r)&&(n=null),r||i===null?F2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jr=L2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mc=Symbol.for("react.element"),sa=Symbol.for("react.portal"),la=Symbol.for("react.fragment"),Xy=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),Hk=Symbol.for("react.provider"),Wk=Symbol.for("react.context"),Qy=Symbol.for("react.forward_ref"),Xm=Symbol.for("react.suspense"),Qm=Symbol.for("react.suspense_list"),Zy=Symbol.for("react.memo"),si=Symbol.for("react.lazy"),Kk=Symbol.for("react.offscreen"),gx=Symbol.iterator;function Gs(e){return e===null||typeof e!="object"?null:(e=gx&&e[gx]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,$p;function hl(e){if($p===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$p=t&&t[1]||""}return`
`+$p+e}var Dp=!1;function jp(e,t){if(!e||Dp)return"";Dp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{Dp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hl(e):""}function V2(e){switch(e.tag){case 5:return hl(e.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return e=jp(e.type,!1),e;case 11:return e=jp(e.type.render,!1),e;case 1:return e=jp(e.type,!0),e;default:return""}}function Zm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case la:return"Fragment";case sa:return"Portal";case Ym:return"Profiler";case Xy:return"StrictMode";case Xm:return"Suspense";case Qm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wk:return(e.displayName||"Context")+".Consumer";case Hk:return(e._context.displayName||"Context")+".Provider";case Qy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zy:return t=e.displayName||null,t!==null?t:Zm(e.type)||"Memo";case si:t=e._payload,e=e._init;try{return Zm(e(t))}catch{}}return null}function q2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zm(t);case 8:return t===Xy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G2(e){var t=Jk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gc(e){e._valueTracker||(e._valueTracker=G2(e))}function Yk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eg(e,t){var n=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Oi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xk(e,t){t=t.checked,t!=null&&Yy(e,"checked",t,!1)}function tg(e,t){Xk(e,t);var n=Oi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ng(e,t.type,n):t.hasOwnProperty("defaultValue")&&ng(e,t.type,Oi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ng(e,t,n){(t!=="number"||wd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pl=Array.isArray;function Ca(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Oi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(pl(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Oi(n)}}function Qk(e,t){var n=Oi(t.value),r=Oi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ig(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vc,eA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vc=vc||document.createElement("div"),vc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ul(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H2=["Webkit","ms","Moz","O"];Object.keys(xl).forEach(function(e){H2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xl[t]=xl[e]})});function tA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xl.hasOwnProperty(e)&&xl[e]?(""+t).trim():t+"px"}function nA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var W2=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function og(e,t){if(t){if(W2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function ag(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sg=null;function e0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lg=null,Pa=null,Ia=null;function wx(e){if(e=Zu(e)){if(typeof lg!="function")throw Error(K(280));var t=e.stateNode;t&&(t=hh(t),lg(e.stateNode,e.type,t))}}function rA(e){Pa?Ia?Ia.push(e):Ia=[e]:Pa=e}function iA(){if(Pa){var e=Pa,t=Ia;if(Ia=Pa=null,wx(e),t)for(e=0;e<t.length;e++)wx(t[e])}}function oA(e,t){return e(t)}function aA(){}var Lp=!1;function sA(e,t,n){if(Lp)return e(t,n);Lp=!0;try{return oA(e,t,n)}finally{Lp=!1,(Pa!==null||Ia!==null)&&(aA(),iA())}}function Fl(e,t){var n=e.stateNode;if(n===null)return null;var r=hh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var ug=!1;if(Br)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){ug=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{ug=!1}function K2(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var wl=!1,_d=null,Sd=!1,cg=null,J2={onError:function(e){wl=!0,_d=e}};function Y2(e,t,n,r,i,o,a,s,l){wl=!1,_d=null,K2.apply(J2,arguments)}function X2(e,t,n,r,i,o,a,s,l){if(Y2.apply(this,arguments),wl){if(wl){var u=_d;wl=!1,_d=null}else throw Error(K(198));Sd||(Sd=!0,cg=u)}}function $o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _x(e){if($o(e)!==e)throw Error(K(188))}function Q2(e){var t=e.alternate;if(!t){if(t=$o(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return _x(i),e;if(o===r)return _x(i),t;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function uA(e){return e=Q2(e),e!==null?cA(e):null}function cA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cA(e);if(t!==null)return t;e=e.sibling}return null}var dA=Sn.unstable_scheduleCallback,Sx=Sn.unstable_cancelCallback,Z2=Sn.unstable_shouldYield,eM=Sn.unstable_requestPaint,lt=Sn.unstable_now,tM=Sn.unstable_getCurrentPriorityLevel,t0=Sn.unstable_ImmediatePriority,fA=Sn.unstable_UserBlockingPriority,Ed=Sn.unstable_NormalPriority,nM=Sn.unstable_LowPriority,hA=Sn.unstable_IdlePriority,uh=null,gr=null;function rM(e){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(uh,e,void 0,(e.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:aM,iM=Math.log,oM=Math.LN2;function aM(e){return e>>>=0,e===0?32:31-(iM(e)/oM|0)|0}var yc=64,bc=4194304;function ml(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Td(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=ml(s):(o&=a,o!==0&&(r=ml(o)))}else a=n&~i,a!==0?r=ml(a):o!==0&&(r=ml(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tr(t),i=1<<n,r|=e[n],t&=~i;return r}function sM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-tr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=sM(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function dg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pA(){var e=yc;return yc<<=1,!(yc&4194240)&&(yc=64),e}function Up(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tr(t),e[t]=n}function uM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-tr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function n0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Re=0;function mA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gA,r0,vA,yA,bA,fg=!1,xc=[],_i=null,Si=null,Ei=null,Bl=new Map,zl=new Map,fi=[],cM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ex(e,t){switch(e){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Bl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(t.pointerId)}}function Ws(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Zu(t),t!==null&&r0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dM(e,t,n,r,i){switch(t){case"focusin":return _i=Ws(_i,e,t,n,r,i),!0;case"dragenter":return Si=Ws(Si,e,t,n,r,i),!0;case"mouseover":return Ei=Ws(Ei,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Bl.set(o,Ws(Bl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,zl.set(o,Ws(zl.get(o)||null,e,t,n,r,i)),!0}return!1}function xA(e){var t=lo(e.target);if(t!==null){var n=$o(t);if(n!==null){if(t=n.tag,t===13){if(t=lA(n),t!==null){e.blockedOn=t,bA(e.priority,function(){vA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ad(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sg=r,n.target.dispatchEvent(r),sg=null}else return t=Zu(n),t!==null&&r0(t),e.blockedOn=n,!1;t.shift()}return!0}function Tx(e,t,n){ad(e)&&n.delete(t)}function fM(){fg=!1,_i!==null&&ad(_i)&&(_i=null),Si!==null&&ad(Si)&&(Si=null),Ei!==null&&ad(Ei)&&(Ei=null),Bl.forEach(Tx),zl.forEach(Tx)}function Ks(e,t){e.blockedOn===t&&(e.blockedOn=null,fg||(fg=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,fM)))}function Vl(e){function t(i){return Ks(i,e)}if(0<xc.length){Ks(xc[0],e);for(var n=1;n<xc.length;n++){var r=xc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_i!==null&&Ks(_i,e),Si!==null&&Ks(Si,e),Ei!==null&&Ks(Ei,e),Bl.forEach(t),zl.forEach(t),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)xA(n),n.blockedOn===null&&fi.shift()}var Na=Jr.ReactCurrentBatchConfig,kd=!0;function hM(e,t,n,r){var i=Re,o=Na.transition;Na.transition=null;try{Re=1,i0(e,t,n,r)}finally{Re=i,Na.transition=o}}function pM(e,t,n,r){var i=Re,o=Na.transition;Na.transition=null;try{Re=4,i0(e,t,n,r)}finally{Re=i,Na.transition=o}}function i0(e,t,n,r){if(kd){var i=hg(e,t,n,r);if(i===null)Jp(e,t,r,Ad,n),Ex(e,r);else if(dM(i,e,t,n,r))r.stopPropagation();else if(Ex(e,r),t&4&&-1<cM.indexOf(e)){for(;i!==null;){var o=Zu(i);if(o!==null&&gA(o),o=hg(e,t,n,r),o===null&&Jp(e,t,r,Ad,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Jp(e,t,r,null,n)}}var Ad=null;function hg(e,t,n,r){if(Ad=null,e=e0(r),e=lo(e),e!==null)if(t=$o(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ad=e,null}function wA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tM()){case t0:return 1;case fA:return 4;case Ed:case nM:return 16;case hA:return 536870912;default:return 16}default:return 16}}var gi=null,o0=null,sd=null;function _A(){if(sd)return sd;var e,t=o0,n=t.length,r,i="value"in gi?gi.value:gi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return sd=i.slice(e,1<r?1-r:void 0)}function ld(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wc(){return!0}function kx(){return!1}function Tn(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wc:kx,this.isPropagationStopped=kx,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),t}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a0=Tn(_s),Qu=rt({},_s,{view:0,detail:0}),mM=Tn(Qu),Fp,Bp,Js,ch=rt({},Qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Js&&(Js&&e.type==="mousemove"?(Fp=e.screenX-Js.screenX,Bp=e.screenY-Js.screenY):Bp=Fp=0,Js=e),Fp)},movementY:function(e){return"movementY"in e?e.movementY:Bp}}),Ax=Tn(ch),gM=rt({},ch,{dataTransfer:0}),vM=Tn(gM),yM=rt({},Qu,{relatedTarget:0}),zp=Tn(yM),bM=rt({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),xM=Tn(bM),wM=rt({},_s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_M=Tn(wM),SM=rt({},_s,{data:0}),Cx=Tn(SM),EM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kM[e])?!!t[e]:!1}function s0(){return AM}var CM=rt({},Qu,{key:function(e){if(e.key){var t=EM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ld(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s0,charCode:function(e){return e.type==="keypress"?ld(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ld(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PM=Tn(CM),IM=rt({},ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Px=Tn(IM),NM=rt({},Qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s0}),OM=Tn(NM),RM=rt({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),MM=Tn(RM),$M=rt({},ch,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DM=Tn($M),jM=[9,13,27,32],l0=Br&&"CompositionEvent"in window,_l=null;Br&&"documentMode"in document&&(_l=document.documentMode);var LM=Br&&"TextEvent"in window&&!_l,SA=Br&&(!l0||_l&&8<_l&&11>=_l),Ix=" ",Nx=!1;function EA(e,t){switch(e){case"keyup":return jM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function UM(e,t){switch(e){case"compositionend":return TA(t);case"keypress":return t.which!==32?null:(Nx=!0,Ix);case"textInput":return e=t.data,e===Ix&&Nx?null:e;default:return null}}function FM(e,t){if(ua)return e==="compositionend"||!l0&&EA(e,t)?(e=_A(),sd=o0=gi=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return SA&&t.locale!=="ko"?null:t.data;default:return null}}var BM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ox(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BM[e.type]:t==="textarea"}function kA(e,t,n,r){rA(r),t=Cd(t,"onChange"),0<t.length&&(n=new a0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Sl=null,ql=null;function zM(e){jA(e,0)}function dh(e){var t=fa(e);if(Yk(t))return e}function VM(e,t){if(e==="change")return t}var AA=!1;if(Br){var Vp;if(Br){var qp="oninput"in document;if(!qp){var Rx=document.createElement("div");Rx.setAttribute("oninput","return;"),qp=typeof Rx.oninput=="function"}Vp=qp}else Vp=!1;AA=Vp&&(!document.documentMode||9<document.documentMode)}function Mx(){Sl&&(Sl.detachEvent("onpropertychange",CA),ql=Sl=null)}function CA(e){if(e.propertyName==="value"&&dh(ql)){var t=[];kA(t,ql,e,e0(e)),sA(zM,t)}}function qM(e,t,n){e==="focusin"?(Mx(),Sl=t,ql=n,Sl.attachEvent("onpropertychange",CA)):e==="focusout"&&Mx()}function GM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dh(ql)}function HM(e,t){if(e==="click")return dh(t)}function WM(e,t){if(e==="input"||e==="change")return dh(t)}function KM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ar=typeof Object.is=="function"?Object.is:KM;function Gl(e,t){if(ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jm.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function $x(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dx(e,t){var n=$x(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$x(n)}}function PA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function IA(){for(var e=window,t=wd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wd(e.document)}return t}function u0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JM(e){var t=IA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&PA(n.ownerDocument.documentElement,n)){if(r!==null&&u0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Dx(n,o);var a=Dx(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var YM=Br&&"documentMode"in document&&11>=document.documentMode,ca=null,pg=null,El=null,mg=!1;function jx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mg||ca==null||ca!==wd(r)||(r=ca,"selectionStart"in r&&u0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),El&&Gl(El,r)||(El=r,r=Cd(pg,"onSelect"),0<r.length&&(t=new a0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ca)))}function _c(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var da={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionend:_c("Transition","TransitionEnd")},Gp={},NA={};Br&&(NA=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function fh(e){if(Gp[e])return Gp[e];if(!da[e])return e;var t=da[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in NA)return Gp[e]=t[n];return e}var OA=fh("animationend"),RA=fh("animationiteration"),MA=fh("animationstart"),$A=fh("transitionend"),DA=new Map,Lx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(e,t){DA.set(e,t),Mo(t,[e])}for(var Hp=0;Hp<Lx.length;Hp++){var Wp=Lx[Hp],XM=Wp.toLowerCase(),QM=Wp[0].toUpperCase()+Wp.slice(1);Mi(XM,"on"+QM)}Mi(OA,"onAnimationEnd");Mi(RA,"onAnimationIteration");Mi(MA,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi($A,"onTransitionEnd");Ba("onMouseEnter",["mouseout","mouseover"]);Ba("onMouseLeave",["mouseout","mouseover"]);Ba("onPointerEnter",["pointerout","pointerover"]);Ba("onPointerLeave",["pointerout","pointerover"]);Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZM=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function Ux(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,X2(r,t,void 0,e),e.currentTarget=null}function jA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Ux(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Ux(i,s,u),o=l}}}if(Sd)throw e=cg,Sd=!1,cg=null,e}function He(e,t){var n=t[xg];n===void 0&&(n=t[xg]=new Set);var r=e+"__bubble";n.has(r)||(LA(t,e,2,!1),n.add(r))}function Kp(e,t,n){var r=0;t&&(r|=4),LA(n,e,r,t)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Hl(e){if(!e[Sc]){e[Sc]=!0,Gk.forEach(function(n){n!=="selectionchange"&&(ZM.has(n)||Kp(n,!1,e),Kp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sc]||(t[Sc]=!0,Kp("selectionchange",!1,t))}}function LA(e,t,n,r){switch(wA(t)){case 1:var i=hM;break;case 4:i=pM;break;default:i=i0}n=i.bind(null,t,n,e),i=void 0,!ug||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Jp(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=lo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}sA(function(){var u=o,c=e0(n),d=[];e:{var h=DA.get(e);if(h!==void 0){var g=a0,v=e;switch(e){case"keypress":if(ld(n)===0)break e;case"keydown":case"keyup":g=PM;break;case"focusin":v="focus",g=zp;break;case"focusout":v="blur",g=zp;break;case"beforeblur":case"afterblur":g=zp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ax;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=OM;break;case OA:case RA:case MA:g=xM;break;case $A:g=MM;break;case"scroll":g=mM;break;case"wheel":g=DM;break;case"copy":case"cut":case"paste":g=_M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Px}var b=(t&4)!==0,y=!b&&e==="scroll",w=b?h!==null?h+"Capture":null:h;b=[];for(var x=u,_;x!==null;){_=x;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,w!==null&&(T=Fl(x,w),T!=null&&b.push(Wl(x,T,_)))),y)break;x=x.return}0<b.length&&(h=new g(h,v,null,n,c),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==sg&&(v=n.relatedTarget||n.fromElement)&&(lo(v)||v[zr]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?lo(v):null,v!==null&&(y=$o(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(b=Ax,T="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=Px,T="onPointerLeave",w="onPointerEnter",x="pointer"),y=g==null?h:fa(g),_=v==null?h:fa(v),h=new b(T,x+"leave",g,n,c),h.target=y,h.relatedTarget=_,T=null,lo(c)===u&&(b=new b(w,x+"enter",v,n,c),b.target=_,b.relatedTarget=y,T=b),y=T,g&&v)t:{for(b=g,w=v,x=0,_=b;_;_=Wo(_))x++;for(_=0,T=w;T;T=Wo(T))_++;for(;0<x-_;)b=Wo(b),x--;for(;0<_-x;)w=Wo(w),_--;for(;x--;){if(b===w||w!==null&&b===w.alternate)break t;b=Wo(b),w=Wo(w)}b=null}else b=null;g!==null&&Fx(d,h,g,b,!1),v!==null&&y!==null&&Fx(d,y,v,b,!0)}}e:{if(h=u?fa(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var E=VM;else if(Ox(h))if(AA)E=WM;else{E=GM;var S=qM}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=HM);if(E&&(E=E(e,u))){kA(d,E,n,c);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&ng(h,"number",h.value)}switch(S=u?fa(u):window,e){case"focusin":(Ox(S)||S.contentEditable==="true")&&(ca=S,pg=u,El=null);break;case"focusout":El=pg=ca=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,jx(d,n,c);break;case"selectionchange":if(YM)break;case"keydown":case"keyup":jx(d,n,c)}var k;if(l0)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ua?EA(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(SA&&n.locale!=="ko"&&(ua||A!=="onCompositionStart"?A==="onCompositionEnd"&&ua&&(k=_A()):(gi=c,o0="value"in gi?gi.value:gi.textContent,ua=!0)),S=Cd(u,A),0<S.length&&(A=new Cx(A,e,null,n,c),d.push({event:A,listeners:S}),k?A.data=k:(k=TA(n),k!==null&&(A.data=k)))),(k=LM?UM(e,n):FM(e,n))&&(u=Cd(u,"onBeforeInput"),0<u.length&&(c=new Cx("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}jA(d,t)})}function Wl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Fl(e,n),o!=null&&r.unshift(Wl(e,o,i)),o=Fl(e,t),o!=null&&r.push(Wl(e,o,i))),e=e.return}return r}function Wo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fx(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Fl(n,o),l!=null&&a.unshift(Wl(n,l,s))):i||(l=Fl(n,o),l!=null&&a.push(Wl(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var e$=/\r\n?/g,t$=/\u0000|\uFFFD/g;function Bx(e){return(typeof e=="string"?e:""+e).replace(e$,`
`).replace(t$,"")}function Ec(e,t,n){if(t=Bx(t),Bx(e)!==t&&n)throw Error(K(425))}function Pd(){}var gg=null,vg=null;function yg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bg=typeof setTimeout=="function"?setTimeout:void 0,n$=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,r$=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(e){return zx.resolve(null).then(e).catch(i$)}:bg;function i$(e){setTimeout(function(){throw e})}function Yp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Vl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vl(t)}function Ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),hr="__reactFiber$"+Ss,Kl="__reactProps$"+Ss,zr="__reactContainer$"+Ss,xg="__reactEvents$"+Ss,o$="__reactListeners$"+Ss,a$="__reactHandles$"+Ss;function lo(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zr]||n[hr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vx(e);e!==null;){if(n=e[hr])return n;e=Vx(e)}return t}e=n,n=e.parentNode}return null}function Zu(e){return e=e[hr]||e[zr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function hh(e){return e[Kl]||null}var wg=[],ha=-1;function $i(e){return{current:e}}function Je(e){0>ha||(e.current=wg[ha],wg[ha]=null,ha--)}function qe(e,t){ha++,wg[ha]=e.current,e.current=t}var Ri={},Gt=$i(Ri),ln=$i(!1),So=Ri;function za(e,t){var n=e.type.contextTypes;if(!n)return Ri;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function un(e){return e=e.childContextTypes,e!=null}function Id(){Je(ln),Je(Gt)}function qx(e,t,n){if(Gt.current!==Ri)throw Error(K(168));qe(Gt,t),qe(ln,n)}function UA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(K(108,q2(e)||"Unknown",i));return rt({},n,r)}function Nd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ri,So=Gt.current,qe(Gt,e),qe(ln,ln.current),!0}function Gx(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=UA(e,t,So),r.__reactInternalMemoizedMergedChildContext=e,Je(ln),Je(Gt),qe(Gt,e)):Je(ln),qe(ln,n)}var Nr=null,ph=!1,Xp=!1;function FA(e){Nr===null?Nr=[e]:Nr.push(e)}function s$(e){ph=!0,FA(e)}function Di(){if(!Xp&&Nr!==null){Xp=!0;var e=0,t=Re;try{var n=Nr;for(Re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nr=null,ph=!1}catch(i){throw Nr!==null&&(Nr=Nr.slice(e+1)),dA(t0,Di),i}finally{Re=t,Xp=!1}}return null}var pa=[],ma=0,Od=null,Rd=0,In=[],Nn=0,Eo=null,Or=1,Rr="";function Qi(e,t){pa[ma++]=Rd,pa[ma++]=Od,Od=e,Rd=t}function BA(e,t,n){In[Nn++]=Or,In[Nn++]=Rr,In[Nn++]=Eo,Eo=e;var r=Or;e=Rr;var i=32-tr(r)-1;r&=~(1<<i),n+=1;var o=32-tr(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Or=1<<32-tr(t)+i|n<<i|r,Rr=o+e}else Or=1<<o|n<<i|r,Rr=e}function c0(e){e.return!==null&&(Qi(e,1),BA(e,1,0))}function d0(e){for(;e===Od;)Od=pa[--ma],pa[ma]=null,Rd=pa[--ma],pa[ma]=null;for(;e===Eo;)Eo=In[--Nn],In[Nn]=null,Rr=In[--Nn],In[Nn]=null,Or=In[--Nn],In[Nn]=null}var wn=null,bn=null,Qe=!1,Zn=null;function zA(e,t){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wn=e,bn=Ti(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wn=e,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Eo!==null?{id:Or,overflow:Rr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wn=e,bn=null,!0):!1;default:return!1}}function _g(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sg(e){if(Qe){var t=bn;if(t){var n=t;if(!Hx(e,t)){if(_g(e))throw Error(K(418));t=Ti(n.nextSibling);var r=wn;t&&Hx(e,t)?zA(r,n):(e.flags=e.flags&-4097|2,Qe=!1,wn=e)}}else{if(_g(e))throw Error(K(418));e.flags=e.flags&-4097|2,Qe=!1,wn=e}}}function Wx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function Tc(e){if(e!==wn)return!1;if(!Qe)return Wx(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yg(e.type,e.memoizedProps)),t&&(t=bn)){if(_g(e))throw VA(),Error(K(418));for(;t;)zA(e,t),t=Ti(t.nextSibling)}if(Wx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bn=Ti(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bn=null}}else bn=wn?Ti(e.stateNode.nextSibling):null;return!0}function VA(){for(var e=bn;e;)e=Ti(e.nextSibling)}function Va(){bn=wn=null,Qe=!1}function f0(e){Zn===null?Zn=[e]:Zn.push(e)}var l$=Jr.ReactCurrentBatchConfig;function Ys(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function kc(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kx(e){var t=e._init;return t(e._payload)}function qA(e){function t(w,x){if(e){var _=w.deletions;_===null?(w.deletions=[x],w.flags|=16):_.push(x)}}function n(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=Pi(w,x),w.index=0,w.sibling=null,w}function o(w,x,_){return w.index=_,e?(_=w.alternate,_!==null?(_=_.index,_<x?(w.flags|=2,x):_):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function s(w,x,_,T){return x===null||x.tag!==6?(x=im(_,w.mode,T),x.return=w,x):(x=i(x,_),x.return=w,x)}function l(w,x,_,T){var E=_.type;return E===la?c(w,x,_.props.children,T,_.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===si&&Kx(E)===x.type)?(T=i(x,_.props),T.ref=Ys(w,x,_),T.return=w,T):(T=md(_.type,_.key,_.props,null,w.mode,T),T.ref=Ys(w,x,_),T.return=w,T)}function u(w,x,_,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=om(_,w.mode,T),x.return=w,x):(x=i(x,_.children||[]),x.return=w,x)}function c(w,x,_,T,E){return x===null||x.tag!==7?(x=bo(_,w.mode,T,E),x.return=w,x):(x=i(x,_),x.return=w,x)}function d(w,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=im(""+x,w.mode,_),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mc:return _=md(x.type,x.key,x.props,null,w.mode,_),_.ref=Ys(w,null,x),_.return=w,_;case sa:return x=om(x,w.mode,_),x.return=w,x;case si:var T=x._init;return d(w,T(x._payload),_)}if(pl(x)||Gs(x))return x=bo(x,w.mode,_,null),x.return=w,x;kc(w,x)}return null}function h(w,x,_,T){var E=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:s(w,x,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case mc:return _.key===E?l(w,x,_,T):null;case sa:return _.key===E?u(w,x,_,T):null;case si:return E=_._init,h(w,x,E(_._payload),T)}if(pl(_)||Gs(_))return E!==null?null:c(w,x,_,T,null);kc(w,_)}return null}function g(w,x,_,T,E){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(_)||null,s(x,w,""+T,E);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case mc:return w=w.get(T.key===null?_:T.key)||null,l(x,w,T,E);case sa:return w=w.get(T.key===null?_:T.key)||null,u(x,w,T,E);case si:var S=T._init;return g(w,x,_,S(T._payload),E)}if(pl(T)||Gs(T))return w=w.get(_)||null,c(x,w,T,E,null);kc(x,T)}return null}function v(w,x,_,T){for(var E=null,S=null,k=x,A=x=0,C=null;k!==null&&A<_.length;A++){k.index>A?(C=k,k=null):C=k.sibling;var N=h(w,k,_[A],T);if(N===null){k===null&&(k=C);break}e&&k&&N.alternate===null&&t(w,k),x=o(N,x,A),S===null?E=N:S.sibling=N,S=N,k=C}if(A===_.length)return n(w,k),Qe&&Qi(w,A),E;if(k===null){for(;A<_.length;A++)k=d(w,_[A],T),k!==null&&(x=o(k,x,A),S===null?E=k:S.sibling=k,S=k);return Qe&&Qi(w,A),E}for(k=r(w,k);A<_.length;A++)C=g(k,w,A,_[A],T),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?A:C.key),x=o(C,x,A),S===null?E=C:S.sibling=C,S=C);return e&&k.forEach(function(R){return t(w,R)}),Qe&&Qi(w,A),E}function b(w,x,_,T){var E=Gs(_);if(typeof E!="function")throw Error(K(150));if(_=E.call(_),_==null)throw Error(K(151));for(var S=E=null,k=x,A=x=0,C=null,N=_.next();k!==null&&!N.done;A++,N=_.next()){k.index>A?(C=k,k=null):C=k.sibling;var R=h(w,k,N.value,T);if(R===null){k===null&&(k=C);break}e&&k&&R.alternate===null&&t(w,k),x=o(R,x,A),S===null?E=R:S.sibling=R,S=R,k=C}if(N.done)return n(w,k),Qe&&Qi(w,A),E;if(k===null){for(;!N.done;A++,N=_.next())N=d(w,N.value,T),N!==null&&(x=o(N,x,A),S===null?E=N:S.sibling=N,S=N);return Qe&&Qi(w,A),E}for(k=r(w,k);!N.done;A++,N=_.next())N=g(k,w,A,N.value,T),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?A:N.key),x=o(N,x,A),S===null?E=N:S.sibling=N,S=N);return e&&k.forEach(function(M){return t(w,M)}),Qe&&Qi(w,A),E}function y(w,x,_,T){if(typeof _=="object"&&_!==null&&_.type===la&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case mc:e:{for(var E=_.key,S=x;S!==null;){if(S.key===E){if(E=_.type,E===la){if(S.tag===7){n(w,S.sibling),x=i(S,_.props.children),x.return=w,w=x;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===si&&Kx(E)===S.type){n(w,S.sibling),x=i(S,_.props),x.ref=Ys(w,S,_),x.return=w,w=x;break e}n(w,S);break}else t(w,S);S=S.sibling}_.type===la?(x=bo(_.props.children,w.mode,T,_.key),x.return=w,w=x):(T=md(_.type,_.key,_.props,null,w.mode,T),T.ref=Ys(w,x,_),T.return=w,w=T)}return a(w);case sa:e:{for(S=_.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(w,x.sibling),x=i(x,_.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else t(w,x);x=x.sibling}x=om(_,w.mode,T),x.return=w,w=x}return a(w);case si:return S=_._init,y(w,x,S(_._payload),T)}if(pl(_))return v(w,x,_,T);if(Gs(_))return b(w,x,_,T);kc(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(w,x.sibling),x=i(x,_),x.return=w,w=x):(n(w,x),x=im(_,w.mode,T),x.return=w,w=x),a(w)):n(w,x)}return y}var qa=qA(!0),GA=qA(!1),Md=$i(null),$d=null,ga=null,h0=null;function p0(){h0=ga=$d=null}function m0(e){var t=Md.current;Je(Md),e._currentValue=t}function Eg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oa(e,t){$d=e,h0=ga=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(an=!0),e.firstContext=null)}function jn(e){var t=e._currentValue;if(h0!==e)if(e={context:e,memoizedValue:t,next:null},ga===null){if($d===null)throw Error(K(308));ga=e,$d.dependencies={lanes:0,firstContext:e}}else ga=ga.next=e;return t}var uo=null;function g0(e){uo===null?uo=[e]:uo.push(e)}function HA(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,g0(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vr(e,r)}function Vr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var li=!1;function v0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ki(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vr(e,n)}return i=r.interleaved,i===null?(t.next=t,g0(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vr(e,n)}function ud(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,n0(e,n)}}function Jx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dd(e,t,n,r){var i=e.updateQueue;li=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,b=s;switch(h=t,g=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){d=v.call(g,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(g,d,h):v,h==null)break e;d=rt({},d,h);break e;case 2:li=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ko|=a,e.lanes=a,e.memoizedState=d}}function Yx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var ec={},vr=$i(ec),Jl=$i(ec),Yl=$i(ec);function co(e){if(e===ec)throw Error(K(174));return e}function y0(e,t){switch(qe(Yl,t),qe(Jl,e),qe(vr,ec),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ig(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ig(t,e)}Je(vr),qe(vr,t)}function Ga(){Je(vr),Je(Jl),Je(Yl)}function KA(e){co(Yl.current);var t=co(vr.current),n=ig(t,e.type);t!==n&&(qe(Jl,e),qe(vr,n))}function b0(e){Jl.current===e&&(Je(vr),Je(Jl))}var tt=$i(0);function jd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qp=[];function x0(){for(var e=0;e<Qp.length;e++)Qp[e]._workInProgressVersionPrimary=null;Qp.length=0}var cd=Jr.ReactCurrentDispatcher,Zp=Jr.ReactCurrentBatchConfig,To=0,nt=null,yt=null,kt=null,Ld=!1,Tl=!1,Xl=0,u$=0;function Ft(){throw Error(K(321))}function w0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function _0(e,t,n,r,i,o){if(To=o,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cd.current=e===null||e.memoizedState===null?h$:p$,e=n(r,i),Tl){o=0;do{if(Tl=!1,Xl=0,25<=o)throw Error(K(301));o+=1,kt=yt=null,t.updateQueue=null,cd.current=m$,e=n(r,i)}while(Tl)}if(cd.current=Ud,t=yt!==null&&yt.next!==null,To=0,kt=yt=nt=null,Ld=!1,t)throw Error(K(300));return e}function S0(){var e=Xl!==0;return Xl=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?nt.memoizedState=kt=e:kt=kt.next=e,kt}function Ln(){if(yt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=kt===null?nt.memoizedState:kt.next;if(t!==null)kt=t,yt=e;else{if(e===null)throw Error(K(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},kt===null?nt.memoizedState=kt=e:kt=kt.next=e}return kt}function Ql(e,t){return typeof t=="function"?t(e):t}function em(e){var t=Ln(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=yt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((To&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,nt.lanes|=c,ko|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,ar(r,t.memoizedState)||(an=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,nt.lanes|=o,ko|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function tm(e){var t=Ln(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);ar(o,t.memoizedState)||(an=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function JA(){}function YA(e,t){var n=nt,r=Ln(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,an=!0),r=r.queue,E0(ZA.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Zl(9,QA.bind(null,n,r,i,t),void 0,null),Pt===null)throw Error(K(349));To&30||XA(n,t,i)}return i}function XA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function QA(e,t,n,r){t.value=n,t.getSnapshot=r,eC(t)&&tC(e)}function ZA(e,t,n){return n(function(){eC(t)&&tC(e)})}function eC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch{return!0}}function tC(e){var t=Vr(e,1);t!==null&&nr(t,e,1,-1)}function Xx(e){var t=fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:e},t.queue=e,e=e.dispatch=f$.bind(null,nt,e),[t.memoizedState,e]}function Zl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nC(){return Ln().memoizedState}function dd(e,t,n,r){var i=fr();nt.flags|=e,i.memoizedState=Zl(1|t,n,void 0,r===void 0?null:r)}function mh(e,t,n,r){var i=Ln();r=r===void 0?null:r;var o=void 0;if(yt!==null){var a=yt.memoizedState;if(o=a.destroy,r!==null&&w0(r,a.deps)){i.memoizedState=Zl(t,n,o,r);return}}nt.flags|=e,i.memoizedState=Zl(1|t,n,o,r)}function Qx(e,t){return dd(8390656,8,e,t)}function E0(e,t){return mh(2048,8,e,t)}function rC(e,t){return mh(4,2,e,t)}function iC(e,t){return mh(4,4,e,t)}function oC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aC(e,t,n){return n=n!=null?n.concat([e]):null,mh(4,4,oC.bind(null,t,e),n)}function T0(){}function sC(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&w0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lC(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&w0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function uC(e,t,n){return To&21?(ar(n,t)||(n=pA(),nt.lanes|=n,ko|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,an=!0),e.memoizedState=n)}function c$(e,t){var n=Re;Re=n!==0&&4>n?n:4,e(!0);var r=Zp.transition;Zp.transition={};try{e(!1),t()}finally{Re=n,Zp.transition=r}}function cC(){return Ln().memoizedState}function d$(e,t,n){var r=Ci(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dC(e))fC(t,n);else if(n=HA(e,t,n,r),n!==null){var i=Zt();nr(n,e,r,i),hC(n,t,r)}}function f$(e,t,n){var r=Ci(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dC(e))fC(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ar(s,a)){var l=t.interleaved;l===null?(i.next=i,g0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=HA(e,t,i,r),n!==null&&(i=Zt(),nr(n,e,r,i),hC(n,t,r))}}function dC(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function fC(e,t){Tl=Ld=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,n0(e,n)}}var Ud={readContext:jn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},h$={readContext:jn,useCallback:function(e,t){return fr().memoizedState=[e,t===void 0?null:t],e},useContext:jn,useEffect:Qx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,dd(4194308,4,oC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dd(4194308,4,e,t)},useInsertionEffect:function(e,t){return dd(4,2,e,t)},useMemo:function(e,t){var n=fr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=d$.bind(null,nt,e),[r.memoizedState,e]},useRef:function(e){var t=fr();return e={current:e},t.memoizedState=e},useState:Xx,useDebugValue:T0,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=Xx(!1),t=e[0];return e=c$.bind(null,e[1]),fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nt,i=fr();if(Qe){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),Pt===null)throw Error(K(349));To&30||XA(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Qx(ZA.bind(null,r,o,e),[e]),r.flags|=2048,Zl(9,QA.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=fr(),t=Pt.identifierPrefix;if(Qe){var n=Rr,r=Or;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=u$++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p$={readContext:jn,useCallback:sC,useContext:jn,useEffect:E0,useImperativeHandle:aC,useInsertionEffect:rC,useLayoutEffect:iC,useMemo:lC,useReducer:em,useRef:nC,useState:function(){return em(Ql)},useDebugValue:T0,useDeferredValue:function(e){var t=Ln();return uC(t,yt.memoizedState,e)},useTransition:function(){var e=em(Ql)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:JA,useSyncExternalStore:YA,useId:cC,unstable_isNewReconciler:!1},m$={readContext:jn,useCallback:sC,useContext:jn,useEffect:E0,useImperativeHandle:aC,useInsertionEffect:rC,useLayoutEffect:iC,useMemo:lC,useReducer:tm,useRef:nC,useState:function(){return tm(Ql)},useDebugValue:T0,useDeferredValue:function(e){var t=Ln();return yt===null?t.memoizedState=e:uC(t,yt.memoizedState,e)},useTransition:function(){var e=tm(Ql)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:JA,useSyncExternalStore:YA,useId:cC,unstable_isNewReconciler:!1};function Wn(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gh={isMounted:function(e){return(e=e._reactInternals)?$o(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zt(),i=Ci(e),o=jr(r,i);o.payload=t,n!=null&&(o.callback=n),t=ki(e,o,i),t!==null&&(nr(t,e,i,r),ud(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zt(),i=Ci(e),o=jr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ki(e,o,i),t!==null&&(nr(t,e,i,r),ud(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zt(),r=Ci(e),i=jr(n,r);i.tag=2,t!=null&&(i.callback=t),t=ki(e,i,r),t!==null&&(nr(t,e,r,n),ud(t,e,r))}};function Zx(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Gl(n,r)||!Gl(i,o):!0}function pC(e,t,n){var r=!1,i=Ri,o=t.contextType;return typeof o=="object"&&o!==null?o=jn(o):(i=un(t)?So:Gt.current,r=t.contextTypes,o=(r=r!=null)?za(e,i):Ri),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ew(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gh.enqueueReplaceState(t,t.state,null)}function kg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},v0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=jn(o):(o=un(t)?So:Gt.current,i.context=za(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Tg(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gh.enqueueReplaceState(i,i.state,null),Dd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ha(e,t){try{var n="",r=t;do n+=V2(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function nm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ag(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var g$=typeof WeakMap=="function"?WeakMap:Map;function mC(e,t,n){n=jr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bd||(Bd=!0,jg=r),Ag(e,t)},n}function gC(e,t,n){n=jr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ag(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ag(e,t),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function tw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new g$;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=I$.bind(null,e,t,n),t.then(e,e))}function nw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jr(-1,1),t.tag=2,ki(n,t,1))),n.lanes|=1),e)}var v$=Jr.ReactCurrentOwner,an=!1;function Jt(e,t,n,r){t.child=e===null?GA(t,null,n,r):qa(t,e.child,n,r)}function iw(e,t,n,r,i){n=n.render;var o=t.ref;return Oa(t,i),r=_0(e,t,n,r,o,i),n=S0(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qr(e,t,i)):(Qe&&n&&c0(t),t.flags|=1,Jt(e,t,r,i),t.child)}function ow(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!R0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,vC(e,t,o,r,i)):(e=md(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Gl,n(a,r)&&e.ref===t.ref)return qr(e,t,i)}return t.flags|=1,e=Pi(o,r),e.ref=t.ref,e.return=t,t.child=e}function vC(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Gl(o,r)&&e.ref===t.ref)if(an=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(an=!0);else return t.lanes=e.lanes,qr(e,t,i)}return Cg(e,t,n,r,i)}function yC(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ya,mn),mn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(ya,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,qe(ya,mn),mn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,qe(ya,mn),mn|=r;return Jt(e,t,i,n),t.child}function bC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cg(e,t,n,r,i){var o=un(n)?So:Gt.current;return o=za(t,o),Oa(t,i),n=_0(e,t,n,r,o,i),r=S0(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qr(e,t,i)):(Qe&&r&&c0(t),t.flags|=1,Jt(e,t,n,i),t.child)}function aw(e,t,n,r,i){if(un(n)){var o=!0;Nd(t)}else o=!1;if(Oa(t,i),t.stateNode===null)fd(e,t),pC(t,n,r),kg(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=jn(u):(u=un(n)?So:Gt.current,u=za(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&ew(t,a,r,u),li=!1;var h=t.memoizedState;a.state=h,Dd(t,r,a,i),l=t.memoizedState,s!==r||h!==l||ln.current||li?(typeof c=="function"&&(Tg(t,n,c,r),l=t.memoizedState),(s=li||Zx(t,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,WA(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Wn(t.type,s),a.props=u,d=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=un(n)?So:Gt.current,l=za(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&ew(t,a,r,l),li=!1,h=t.memoizedState,a.state=h,Dd(t,r,a,i);var v=t.memoizedState;s!==d||h!==v||ln.current||li?(typeof g=="function"&&(Tg(t,n,g,r),v=t.memoizedState),(u=li||Zx(t,n,u,r,h,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Pg(e,t,n,r,o,i)}function Pg(e,t,n,r,i,o){bC(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Gx(t,n,!1),qr(e,t,o);r=t.stateNode,v$.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=qa(t,e.child,null,o),t.child=qa(t,null,s,o)):Jt(e,t,s,o),t.memoizedState=r.state,i&&Gx(t,n,!0),t.child}function xC(e){var t=e.stateNode;t.pendingContext?qx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qx(e,t.context,!1),y0(e,t.containerInfo)}function sw(e,t,n,r,i){return Va(),f0(i),t.flags|=256,Jt(e,t,n,r),t.child}var Ig={dehydrated:null,treeContext:null,retryLane:0};function Ng(e){return{baseLanes:e,cachePool:null,transitions:null}}function wC(e,t,n){var r=t.pendingProps,i=tt.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),qe(tt,i&1),e===null)return Sg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=bh(a,r,0,null),e=bo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ng(n),t.memoizedState=Ig,e):k0(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return y$(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Pi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Pi(s,o):(o=bo(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Ng(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Ig,r}return o=e.child,e=o.sibling,r=Pi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function k0(e,t){return t=bh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ac(e,t,n,r){return r!==null&&f0(r),qa(t,e.child,null,n),e=k0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y$(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=nm(Error(K(422))),Ac(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=bh({mode:"visible",children:r.children},i,0,null),o=bo(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&qa(t,e.child,null,a),t.child.memoizedState=Ng(a),t.memoizedState=Ig,o);if(!(t.mode&1))return Ac(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(K(419)),r=nm(o,r,void 0),Ac(e,t,a,r)}if(s=(a&e.childLanes)!==0,an||s){if(r=Pt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Vr(e,i),nr(r,e,i,-1))}return O0(),r=nm(Error(K(421))),Ac(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=N$.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,bn=Ti(i.nextSibling),wn=t,Qe=!0,Zn=null,e!==null&&(In[Nn++]=Or,In[Nn++]=Rr,In[Nn++]=Eo,Or=e.id,Rr=e.overflow,Eo=t),t=k0(t,r.children),t.flags|=4096,t)}function lw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Eg(e.return,t,n)}function rm(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _C(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Jt(e,t,r.children,n),r=tt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lw(e,n,t);else if(e.tag===19)lw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qe(tt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&jd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rm(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&jd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rm(t,!0,n,null,o);break;case"together":rm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ko|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function b$(e,t,n){switch(t.tag){case 3:xC(t),Va();break;case 5:KA(t);break;case 1:un(t.type)&&Nd(t);break;case 4:y0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;qe(Md,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qe(tt,tt.current&1),t.flags|=128,null):n&t.child.childLanes?wC(e,t,n):(qe(tt,tt.current&1),e=qr(e,t,n),e!==null?e.sibling:null);qe(tt,tt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _C(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(tt,tt.current),r)break;return null;case 22:case 23:return t.lanes=0,yC(e,t,n)}return qr(e,t,n)}var SC,Og,EC,TC;SC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Og=function(){};EC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,co(vr.current);var o=null;switch(n){case"input":i=eg(e,i),r=eg(e,r),o=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),o=[];break;case"textarea":i=rg(e,i),r=rg(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Pd)}og(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ll.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ll.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};TC=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xs(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function x$(e,t,n){var r=t.pendingProps;switch(d0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return un(t.type)&&Id(),Bt(t),null;case 3:return r=t.stateNode,Ga(),Je(ln),Je(Gt),x0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Tc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zn!==null&&(Fg(Zn),Zn=null))),Og(e,t),Bt(t),null;case 5:b0(t);var i=co(Yl.current);if(n=t.type,e!==null&&t.stateNode!=null)EC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return Bt(t),null}if(e=co(vr.current),Tc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hr]=t,r[Kl]=o,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<gl.length;i++)He(gl[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":vx(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":bx(r,o),He("invalid",r)}og(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ec(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ec(r.textContent,s,e),i=["children",""+s]):Ll.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&He("scroll",r)}switch(n){case"input":gc(r),yx(r,o,!0);break;case"textarea":gc(r),xx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Pd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[hr]=t,e[Kl]=r,SC(e,t,!1,!1),t.stateNode=e;e:{switch(a=ag(n,r),n){case"dialog":He("cancel",e),He("close",e),i=r;break;case"iframe":case"object":case"embed":He("load",e),i=r;break;case"video":case"audio":for(i=0;i<gl.length;i++)He(gl[i],e);i=r;break;case"source":He("error",e),i=r;break;case"img":case"image":case"link":He("error",e),He("load",e),i=r;break;case"details":He("toggle",e),i=r;break;case"input":vx(e,r),i=eg(e,r),He("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),He("invalid",e);break;case"textarea":bx(e,r),i=rg(e,r),He("invalid",e);break;default:i=r}og(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?nA(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eA(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ul(e,l):typeof l=="number"&&Ul(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ll.hasOwnProperty(o)?l!=null&&o==="onScroll"&&He("scroll",e):l!=null&&Yy(e,o,l,a))}switch(n){case"input":gc(e),yx(e,r,!1);break;case"textarea":gc(e),xx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Oi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ca(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ca(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Pd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bt(t),null;case 6:if(e&&t.stateNode!=null)TC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=co(Yl.current),co(vr.current),Tc(t)){if(r=t.stateNode,n=t.memoizedProps,r[hr]=t,(o=r.nodeValue!==n)&&(e=wn,e!==null))switch(e.tag){case 3:Ec(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ec(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=t,t.stateNode=r}return Bt(t),null;case 13:if(Je(tt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&bn!==null&&t.mode&1&&!(t.flags&128))VA(),Va(),t.flags|=98560,o=!1;else if(o=Tc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(K(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[hr]=t}else Va(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bt(t),o=!1}else Zn!==null&&(Fg(Zn),Zn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?xt===0&&(xt=3):O0())),t.updateQueue!==null&&(t.flags|=4),Bt(t),null);case 4:return Ga(),Og(e,t),e===null&&Hl(t.stateNode.containerInfo),Bt(t),null;case 10:return m0(t.type._context),Bt(t),null;case 17:return un(t.type)&&Id(),Bt(t),null;case 19:if(Je(tt),o=t.memoizedState,o===null)return Bt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Xs(o,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=jd(e),a!==null){for(t.flags|=128,Xs(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qe(tt,tt.current&1|2),t.child}e=e.sibling}o.tail!==null&&lt()>Wa&&(t.flags|=128,r=!0,Xs(o,!1),t.lanes=4194304)}else{if(!r)if(e=jd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Qe)return Bt(t),null}else 2*lt()-o.renderingStartTime>Wa&&n!==1073741824&&(t.flags|=128,r=!0,Xs(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=lt(),t.sibling=null,n=tt.current,qe(tt,r?n&1|2:n&1),t):(Bt(t),null);case 22:case 23:return N0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mn&1073741824&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function w$(e,t){switch(d0(t),t.tag){case 1:return un(t.type)&&Id(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ga(),Je(ln),Je(Gt),x0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return b0(t),null;case 13:if(Je(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(tt),null;case 4:return Ga(),null;case 10:return m0(t.type._context),null;case 22:case 23:return N0(),null;case 24:return null;default:return null}}var Cc=!1,Vt=!1,_$=typeof WeakSet=="function"?WeakSet:Set,ee=null;function va(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(e,t,r)}else n.current=null}function Rg(e,t,n){try{n()}catch(r){ot(e,t,r)}}var uw=!1;function S$(e,t){if(gg=kd,e=IA(),u0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vg={focusedElem:e,selectionRange:n},kd=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,y=v.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?b:Wn(t.type,b),y);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(T){ot(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return v=uw,uw=!1,v}function kl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Rg(t,n,o)}i=i.next}while(i!==r)}}function vh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Mg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kC(e){var t=e.alternate;t!==null&&(e.alternate=null,kC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hr],delete t[Kl],delete t[xg],delete t[o$],delete t[a$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function AC(e){return e.tag===5||e.tag===3||e.tag===4}function cw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||AC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $g(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pd));else if(r!==4&&(e=e.child,e!==null))for($g(e,t,n),e=e.sibling;e!==null;)$g(e,t,n),e=e.sibling}function Dg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Dg(e,t,n),e=e.sibling;e!==null;)Dg(e,t,n),e=e.sibling}var Dt=null,Jn=!1;function oi(e,t,n){for(n=n.child;n!==null;)CC(e,t,n),n=n.sibling}function CC(e,t,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(uh,n)}catch{}switch(n.tag){case 5:Vt||va(n,t);case 6:var r=Dt,i=Jn;Dt=null,oi(e,t,n),Dt=r,Jn=i,Dt!==null&&(Jn?(e=Dt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(Jn?(e=Dt,n=n.stateNode,e.nodeType===8?Yp(e.parentNode,n):e.nodeType===1&&Yp(e,n),Vl(e)):Yp(Dt,n.stateNode));break;case 4:r=Dt,i=Jn,Dt=n.stateNode.containerInfo,Jn=!0,oi(e,t,n),Dt=r,Jn=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Rg(n,t,a),i=i.next}while(i!==r)}oi(e,t,n);break;case 1:if(!Vt&&(va(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ot(n,t,s)}oi(e,t,n);break;case 21:oi(e,t,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,oi(e,t,n),Vt=r):oi(e,t,n);break;default:oi(e,t,n)}}function dw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _$),t.forEach(function(r){var i=O$.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Dt=s.stateNode,Jn=!1;break e;case 3:Dt=s.stateNode.containerInfo,Jn=!0;break e;case 4:Dt=s.stateNode.containerInfo,Jn=!0;break e}s=s.return}if(Dt===null)throw Error(K(160));CC(o,a,i),Dt=null,Jn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ot(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PC(t,e),t=t.sibling}function PC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qn(t,e),dr(e),r&4){try{kl(3,e,e.return),vh(3,e)}catch(b){ot(e,e.return,b)}try{kl(5,e,e.return)}catch(b){ot(e,e.return,b)}}break;case 1:qn(t,e),dr(e),r&512&&n!==null&&va(n,n.return);break;case 5:if(qn(t,e),dr(e),r&512&&n!==null&&va(n,n.return),e.flags&32){var i=e.stateNode;try{Ul(i,"")}catch(b){ot(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Xk(i,o),ag(s,a);var u=ag(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?nA(i,d):c==="dangerouslySetInnerHTML"?eA(i,d):c==="children"?Ul(i,d):Yy(i,c,d,u)}switch(s){case"input":tg(i,o);break;case"textarea":Qk(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Ca(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ca(i,!!o.multiple,o.defaultValue,!0):Ca(i,!!o.multiple,o.multiple?[]:"",!1))}i[Kl]=o}catch(b){ot(e,e.return,b)}}break;case 6:if(qn(t,e),dr(e),r&4){if(e.stateNode===null)throw Error(K(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(b){ot(e,e.return,b)}}break;case 3:if(qn(t,e),dr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vl(t.containerInfo)}catch(b){ot(e,e.return,b)}break;case 4:qn(t,e),dr(e);break;case 13:qn(t,e),dr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(P0=lt())),r&4&&dw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Vt=(u=Vt)||c,qn(t,e),Vt=u):qn(t,e),dr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(ee=e,c=e.child;c!==null;){for(d=ee=c;ee!==null;){switch(h=ee,g=h.child,h.tag){case 0:case 11:case 14:case 15:kl(4,h,h.return);break;case 1:va(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(b){ot(r,n,b)}}break;case 5:va(h,h.return);break;case 22:if(h.memoizedState!==null){hw(d);continue}}g!==null?(g.return=h,ee=g):hw(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=tA("display",a))}catch(b){ot(e,e.return,b)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){ot(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qn(t,e),dr(e),r&4&&dw(e);break;case 21:break;default:qn(t,e),dr(e)}}function dr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(AC(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ul(i,""),r.flags&=-33);var o=cw(e);Dg(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=cw(e);$g(e,s,a);break;default:throw Error(K(161))}}catch(l){ot(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E$(e,t,n){ee=e,IC(e)}function IC(e,t,n){for(var r=(e.mode&1)!==0;ee!==null;){var i=ee,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Cc;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Vt;s=Cc;var u=Vt;if(Cc=a,(Vt=l)&&!u)for(ee=i;ee!==null;)a=ee,l=a.child,a.tag===22&&a.memoizedState!==null?pw(i):l!==null?(l.return=a,ee=l):pw(i);for(;o!==null;)ee=o,IC(o),o=o.sibling;ee=i,Cc=s,Vt=u}fw(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ee=o):fw(e)}}function fw(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vt||vh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Wn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Yx(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yx(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Vl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Vt||t.flags&512&&Mg(t)}catch(h){ot(t,t.return,h)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function hw(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function pw(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vh(4,t)}catch(l){ot(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ot(t,i,l)}}var o=t.return;try{Mg(t)}catch(l){ot(t,o,l)}break;case 5:var a=t.return;try{Mg(t)}catch(l){ot(t,a,l)}}}catch(l){ot(t,t.return,l)}if(t===e){ee=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ee=s;break}ee=t.return}}var T$=Math.ceil,Fd=Jr.ReactCurrentDispatcher,A0=Jr.ReactCurrentOwner,$n=Jr.ReactCurrentBatchConfig,Se=0,Pt=null,ft=null,jt=0,mn=0,ya=$i(0),xt=0,eu=null,ko=0,yh=0,C0=0,Al=null,rn=null,P0=0,Wa=1/0,Cr=null,Bd=!1,jg=null,Ai=null,Pc=!1,vi=null,zd=0,Cl=0,Lg=null,hd=-1,pd=0;function Zt(){return Se&6?lt():hd!==-1?hd:hd=lt()}function Ci(e){return e.mode&1?Se&2&&jt!==0?jt&-jt:l$.transition!==null?(pd===0&&(pd=pA()),pd):(e=Re,e!==0||(e=window.event,e=e===void 0?16:wA(e.type)),e):1}function nr(e,t,n,r){if(50<Cl)throw Cl=0,Lg=null,Error(K(185));Xu(e,n,r),(!(Se&2)||e!==Pt)&&(e===Pt&&(!(Se&2)&&(yh|=n),xt===4&&hi(e,jt)),cn(e,r),n===1&&Se===0&&!(t.mode&1)&&(Wa=lt()+500,ph&&Di()))}function cn(e,t){var n=e.callbackNode;lM(e,t);var r=Td(e,e===Pt?jt:0);if(r===0)n!==null&&Sx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sx(n),t===1)e.tag===0?s$(mw.bind(null,e)):FA(mw.bind(null,e)),r$(function(){!(Se&6)&&Di()}),n=null;else{switch(mA(r)){case 1:n=t0;break;case 4:n=fA;break;case 16:n=Ed;break;case 536870912:n=hA;break;default:n=Ed}n=LC(n,NC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function NC(e,t){if(hd=-1,pd=0,Se&6)throw Error(K(327));var n=e.callbackNode;if(Ra()&&e.callbackNode!==n)return null;var r=Td(e,e===Pt?jt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vd(e,r);else{t=r;var i=Se;Se|=2;var o=RC();(Pt!==e||jt!==t)&&(Cr=null,Wa=lt()+500,yo(e,t));do try{C$();break}catch(s){OC(e,s)}while(!0);p0(),Fd.current=o,Se=i,ft!==null?t=0:(Pt=null,jt=0,t=xt)}if(t!==0){if(t===2&&(i=dg(e),i!==0&&(r=i,t=Ug(e,i))),t===1)throw n=eu,yo(e,0),hi(e,r),cn(e,lt()),n;if(t===6)hi(e,r);else{if(i=e.current.alternate,!(r&30)&&!k$(i)&&(t=Vd(e,r),t===2&&(o=dg(e),o!==0&&(r=o,t=Ug(e,o))),t===1))throw n=eu,yo(e,0),hi(e,r),cn(e,lt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:Zi(e,rn,Cr);break;case 3:if(hi(e,r),(r&130023424)===r&&(t=P0+500-lt(),10<t)){if(Td(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Zt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=bg(Zi.bind(null,e,rn,Cr),t);break}Zi(e,rn,Cr);break;case 4:if(hi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-tr(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T$(r/1960))-r,10<r){e.timeoutHandle=bg(Zi.bind(null,e,rn,Cr),r);break}Zi(e,rn,Cr);break;case 5:Zi(e,rn,Cr);break;default:throw Error(K(329))}}}return cn(e,lt()),e.callbackNode===n?NC.bind(null,e):null}function Ug(e,t){var n=Al;return e.current.memoizedState.isDehydrated&&(yo(e,t).flags|=256),e=Vd(e,t),e!==2&&(t=rn,rn=n,t!==null&&Fg(t)),e}function Fg(e){rn===null?rn=e:rn.push.apply(rn,e)}function k$(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hi(e,t){for(t&=~C0,t&=~yh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tr(t),r=1<<n;e[n]=-1,t&=~r}}function mw(e){if(Se&6)throw Error(K(327));Ra();var t=Td(e,0);if(!(t&1))return cn(e,lt()),null;var n=Vd(e,t);if(e.tag!==0&&n===2){var r=dg(e);r!==0&&(t=r,n=Ug(e,r))}if(n===1)throw n=eu,yo(e,0),hi(e,t),cn(e,lt()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zi(e,rn,Cr),cn(e,lt()),null}function I0(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(Wa=lt()+500,ph&&Di())}}function Ao(e){vi!==null&&vi.tag===0&&!(Se&6)&&Ra();var t=Se;Se|=1;var n=$n.transition,r=Re;try{if($n.transition=null,Re=1,e)return e()}finally{Re=r,$n.transition=n,Se=t,!(Se&6)&&Di()}}function N0(){mn=ya.current,Je(ya)}function yo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,n$(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(d0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Id();break;case 3:Ga(),Je(ln),Je(Gt),x0();break;case 5:b0(r);break;case 4:Ga();break;case 13:Je(tt);break;case 19:Je(tt);break;case 10:m0(r.type._context);break;case 22:case 23:N0()}n=n.return}if(Pt=e,ft=e=Pi(e.current,null),jt=mn=t,xt=0,eu=null,C0=yh=ko=0,rn=Al=null,uo!==null){for(t=0;t<uo.length;t++)if(n=uo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}uo=null}return e}function OC(e,t){do{var n=ft;try{if(p0(),cd.current=Ud,Ld){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ld=!1}if(To=0,kt=yt=nt=null,Tl=!1,Xl=0,A0.current=null,n===null||n.return===null){xt=1,eu=t,ft=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=jt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=nw(a);if(g!==null){g.flags&=-257,rw(g,a,s,o,t),g.mode&1&&tw(o,u,t),t=g,l=u;var v=t.updateQueue;if(v===null){var b=new Set;b.add(l),t.updateQueue=b}else v.add(l);break e}else{if(!(t&1)){tw(o,u,t),O0();break e}l=Error(K(426))}}else if(Qe&&s.mode&1){var y=nw(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),rw(y,a,s,o,t),f0(Ha(l,s));break e}}o=l=Ha(l,s),xt!==4&&(xt=2),Al===null?Al=[o]:Al.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=mC(o,l,t);Jx(o,w);break e;case 1:s=l;var x=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ai===null||!Ai.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var T=gC(o,s,t);Jx(o,T);break e}}o=o.return}while(o!==null)}$C(n)}catch(E){t=E,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function RC(){var e=Fd.current;return Fd.current=Ud,e===null?Ud:e}function O0(){(xt===0||xt===3||xt===2)&&(xt=4),Pt===null||!(ko&268435455)&&!(yh&268435455)||hi(Pt,jt)}function Vd(e,t){var n=Se;Se|=2;var r=RC();(Pt!==e||jt!==t)&&(Cr=null,yo(e,t));do try{A$();break}catch(i){OC(e,i)}while(!0);if(p0(),Se=n,Fd.current=r,ft!==null)throw Error(K(261));return Pt=null,jt=0,xt}function A$(){for(;ft!==null;)MC(ft)}function C$(){for(;ft!==null&&!Z2();)MC(ft)}function MC(e){var t=jC(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?$C(e):ft=t,A0.current=null}function $C(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=w$(n,t),n!==null){n.flags&=32767,ft=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,ft=null;return}}else if(n=x$(n,t,mn),n!==null){ft=n;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);xt===0&&(xt=5)}function Zi(e,t,n){var r=Re,i=$n.transition;try{$n.transition=null,Re=1,P$(e,t,n,r)}finally{$n.transition=i,Re=r}return null}function P$(e,t,n,r){do Ra();while(vi!==null);if(Se&6)throw Error(K(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(uM(e,o),e===Pt&&(ft=Pt=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pc||(Pc=!0,LC(Ed,function(){return Ra(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$n.transition,$n.transition=null;var a=Re;Re=1;var s=Se;Se|=4,A0.current=null,S$(e,n),PC(n,e),JM(vg),kd=!!gg,vg=gg=null,e.current=n,E$(n),eM(),Se=s,Re=a,$n.transition=o}else e.current=n;if(Pc&&(Pc=!1,vi=e,zd=i),o=e.pendingLanes,o===0&&(Ai=null),rM(n.stateNode),cn(e,lt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bd)throw Bd=!1,e=jg,jg=null,e;return zd&1&&e.tag!==0&&Ra(),o=e.pendingLanes,o&1?e===Lg?Cl++:(Cl=0,Lg=e):Cl=0,Di(),null}function Ra(){if(vi!==null){var e=mA(zd),t=$n.transition,n=Re;try{if($n.transition=null,Re=16>e?16:e,vi===null)var r=!1;else{if(e=vi,vi=null,zd=0,Se&6)throw Error(K(331));var i=Se;for(Se|=4,ee=e.current;ee!==null;){var o=ee,a=o.child;if(ee.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ee=u;ee!==null;){var c=ee;switch(c.tag){case 0:case 11:case 15:kl(8,c,o)}var d=c.child;if(d!==null)d.return=c,ee=d;else for(;ee!==null;){c=ee;var h=c.sibling,g=c.return;if(kC(c),c===u){ee=null;break}if(h!==null){h.return=g,ee=h;break}ee=g}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}ee=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ee=a;else e:for(;ee!==null;){if(o=ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:kl(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,ee=w;break e}ee=o.return}}var x=e.current;for(ee=x;ee!==null;){a=ee;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,ee=_;else e:for(a=x;ee!==null;){if(s=ee,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:vh(9,s)}}catch(E){ot(s,s.return,E)}if(s===a){ee=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,ee=T;break e}ee=s.return}}if(Se=i,Di(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(uh,e)}catch{}r=!0}return r}finally{Re=n,$n.transition=t}}return!1}function gw(e,t,n){t=Ha(n,t),t=mC(e,t,1),e=ki(e,t,1),t=Zt(),e!==null&&(Xu(e,1,t),cn(e,t))}function ot(e,t,n){if(e.tag===3)gw(e,e,n);else for(;t!==null;){if(t.tag===3){gw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){e=Ha(n,e),e=gC(t,e,1),t=ki(t,e,1),e=Zt(),t!==null&&(Xu(t,1,e),cn(t,e));break}}t=t.return}}function I$(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zt(),e.pingedLanes|=e.suspendedLanes&n,Pt===e&&(jt&n)===n&&(xt===4||xt===3&&(jt&130023424)===jt&&500>lt()-P0?yo(e,0):C0|=n),cn(e,t)}function DC(e,t){t===0&&(e.mode&1?(t=bc,bc<<=1,!(bc&130023424)&&(bc=4194304)):t=1);var n=Zt();e=Vr(e,t),e!==null&&(Xu(e,t,n),cn(e,n))}function N$(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),DC(e,n)}function O$(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),DC(e,n)}var jC;jC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)an=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return an=!1,b$(e,t,n);an=!!(e.flags&131072)}else an=!1,Qe&&t.flags&1048576&&BA(t,Rd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fd(e,t),e=t.pendingProps;var i=za(t,Gt.current);Oa(t,n),i=_0(null,t,r,e,i,n);var o=S0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(r)?(o=!0,Nd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,v0(t),i.updater=gh,t.stateNode=i,i._reactInternals=t,kg(t,r,e,n),t=Pg(null,t,r,!0,o,n)):(t.tag=0,Qe&&o&&c0(t),Jt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=M$(r),e=Wn(r,e),i){case 0:t=Cg(null,t,r,e,n);break e;case 1:t=aw(null,t,r,e,n);break e;case 11:t=iw(null,t,r,e,n);break e;case 14:t=ow(null,t,r,Wn(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wn(r,i),Cg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wn(r,i),aw(e,t,r,i,n);case 3:e:{if(xC(t),e===null)throw Error(K(387));r=t.pendingProps,o=t.memoizedState,i=o.element,WA(e,t),Dd(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ha(Error(K(423)),t),t=sw(e,t,r,n,i);break e}else if(r!==i){i=Ha(Error(K(424)),t),t=sw(e,t,r,n,i);break e}else for(bn=Ti(t.stateNode.containerInfo.firstChild),wn=t,Qe=!0,Zn=null,n=GA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Va(),r===i){t=qr(e,t,n);break e}Jt(e,t,r,n)}t=t.child}return t;case 5:return KA(t),e===null&&Sg(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,yg(r,i)?a=null:o!==null&&yg(r,o)&&(t.flags|=32),bC(e,t),Jt(e,t,a,n),t.child;case 6:return e===null&&Sg(t),null;case 13:return wC(e,t,n);case 4:return y0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qa(t,null,r,n):Jt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wn(r,i),iw(e,t,r,i,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,qe(Md,r._currentValue),r._currentValue=a,o!==null)if(ar(o.value,a)){if(o.children===i.children&&!ln.current){t=qr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=jr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Eg(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(K(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Eg(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Jt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Oa(t,n),i=jn(i),r=r(i),t.flags|=1,Jt(e,t,r,n),t.child;case 14:return r=t.type,i=Wn(r,t.pendingProps),i=Wn(r.type,i),ow(e,t,r,i,n);case 15:return vC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wn(r,i),fd(e,t),t.tag=1,un(r)?(e=!0,Nd(t)):e=!1,Oa(t,n),pC(t,r,i),kg(t,r,i,n),Pg(null,t,r,!0,e,n);case 19:return _C(e,t,n);case 22:return yC(e,t,n)}throw Error(K(156,t.tag))};function LC(e,t){return dA(e,t)}function R$(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,n,r){return new R$(e,t,n,r)}function R0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function M$(e){if(typeof e=="function")return R0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qy)return 11;if(e===Zy)return 14}return 2}function Pi(e,t){var n=e.alternate;return n===null?(n=Rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function md(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")R0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case la:return bo(n.children,i,o,t);case Xy:a=8,i|=8;break;case Ym:return e=Rn(12,n,t,i|2),e.elementType=Ym,e.lanes=o,e;case Xm:return e=Rn(13,n,t,i),e.elementType=Xm,e.lanes=o,e;case Qm:return e=Rn(19,n,t,i),e.elementType=Qm,e.lanes=o,e;case Kk:return bh(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hk:a=10;break e;case Wk:a=9;break e;case Qy:a=11;break e;case Zy:a=14;break e;case si:a=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Rn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function bo(e,t,n,r){return e=Rn(7,e,r,t),e.lanes=n,e}function bh(e,t,n,r){return e=Rn(22,e,r,t),e.elementType=Kk,e.lanes=n,e.stateNode={isHidden:!1},e}function im(e,t,n){return e=Rn(6,e,null,t),e.lanes=n,e}function om(e,t,n){return t=Rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $$(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Up(0),this.expirationTimes=Up(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Up(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function M0(e,t,n,r,i,o,a,s,l){return e=new $$(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Rn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},v0(o),e}function D$(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function UC(e){if(!e)return Ri;e=e._reactInternals;e:{if($o(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(un(n))return UA(e,n,t)}return t}function FC(e,t,n,r,i,o,a,s,l){return e=M0(n,r,!0,e,i,o,a,s,l),e.context=UC(null),n=e.current,r=Zt(),i=Ci(n),o=jr(r,i),o.callback=t??null,ki(n,o,i),e.current.lanes=i,Xu(e,i,r),cn(e,r),e}function xh(e,t,n,r){var i=t.current,o=Zt(),a=Ci(i);return n=UC(n),t.context===null?t.context=n:t.pendingContext=n,t=jr(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ki(i,t,a),e!==null&&(nr(e,i,a,o),ud(e,i,a)),a}function qd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $0(e,t){vw(e,t),(e=e.alternate)&&vw(e,t)}function j$(){return null}var BC=typeof reportError=="function"?reportError:function(e){console.error(e)};function D0(e){this._internalRoot=e}wh.prototype.render=D0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));xh(e,t,null,null)};wh.prototype.unmount=D0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ao(function(){xh(null,e,null,null)}),t[zr]=null}};function wh(e){this._internalRoot=e}wh.prototype.unstable_scheduleHydration=function(e){if(e){var t=yA();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fi.length&&t!==0&&t<fi[n].priority;n++);fi.splice(n,0,e),n===0&&xA(e)}};function j0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yw(){}function L$(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=qd(a);o.call(u)}}var a=FC(t,r,e,0,null,!1,!1,"",yw);return e._reactRootContainer=a,e[zr]=a.current,Hl(e.nodeType===8?e.parentNode:e),Ao(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=qd(l);s.call(u)}}var l=M0(e,0,!1,null,null,!1,!1,"",yw);return e._reactRootContainer=l,e[zr]=l.current,Hl(e.nodeType===8?e.parentNode:e),Ao(function(){xh(t,l,n,r)}),l}function Sh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=qd(a);s.call(l)}}xh(t,a,e,i)}else a=L$(n,t,e,i,r);return qd(a)}gA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ml(t.pendingLanes);n!==0&&(n0(t,n|1),cn(t,lt()),!(Se&6)&&(Wa=lt()+500,Di()))}break;case 13:Ao(function(){var r=Vr(e,1);if(r!==null){var i=Zt();nr(r,e,1,i)}}),$0(e,1)}};r0=function(e){if(e.tag===13){var t=Vr(e,134217728);if(t!==null){var n=Zt();nr(t,e,134217728,n)}$0(e,134217728)}};vA=function(e){if(e.tag===13){var t=Ci(e),n=Vr(e,t);if(n!==null){var r=Zt();nr(n,e,t,r)}$0(e,t)}};yA=function(){return Re};bA=function(e,t){var n=Re;try{return Re=e,t()}finally{Re=n}};lg=function(e,t,n){switch(t){case"input":if(tg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=hh(r);if(!i)throw Error(K(90));Yk(r),tg(r,i)}}}break;case"textarea":Qk(e,n);break;case"select":t=n.value,t!=null&&Ca(e,!!n.multiple,t,!1)}};oA=I0;aA=Ao;var U$={usingClientEntryPoint:!1,Events:[Zu,fa,hh,rA,iA,I0]},Qs={findFiberByHostInstance:lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F$={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uA(e),e===null?null:e.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||j$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{uh=Ic.inject(F$),gr=Ic}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U$;En.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j0(t))throw Error(K(200));return D$(e,t,null,n)};En.createRoot=function(e,t){if(!j0(e))throw Error(K(299));var n=!1,r="",i=BC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=M0(e,1,!1,null,null,n,!1,r,i),e[zr]=t.current,Hl(e.nodeType===8?e.parentNode:e),new D0(t)};En.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=uA(t),e=e===null?null:e.stateNode,e};En.flushSync=function(e){return Ao(e)};En.hydrate=function(e,t,n){if(!_h(t))throw Error(K(200));return Sh(null,e,t,!0,n)};En.hydrateRoot=function(e,t,n){if(!j0(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=BC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=FC(t,null,e,1,n??null,i,!1,o,a),e[zr]=t.current,Hl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new wh(t)};En.render=function(e,t,n){if(!_h(t))throw Error(K(200));return Sh(null,e,t,!1,n)};En.unmountComponentAtNode=function(e){if(!_h(e))throw Error(K(40));return e._reactRootContainer?(Ao(function(){Sh(null,null,e,!1,function(){e._reactRootContainer=null,e[zr]=null})}),!0):!1};En.unstable_batchedUpdates=I0;En.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_h(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Sh(e,t,n,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function zC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zC)}catch(e){console.error(e)}}zC(),zk.exports=En;var B$=zk.exports,bw=B$;Km.createRoot=bw.createRoot,Km.hydrateRoot=bw.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(e,t)=>{const n=O.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>O.createElement("svg",{ref:c,...z$,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${V$(e)}`,s].join(" "),...u},[...t.map(([d,h])=>O.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=Z("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=Z("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=Z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=Z("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=Z("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Z("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=Z("CalendarX",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Z("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Z("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=Z("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=Z("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Z("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=Z("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=Z("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Z("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Z("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=Z("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=Z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=Z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Z("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Z("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Z("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=Z("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Z("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Z("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=Z("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Z("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=Z("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=Z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=Z("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Z("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=Z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Th(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function yD(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})}const bD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class z0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class xD extends z0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Aw extends z0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Cw extends z0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gg||(Gg={}));class wD{constructor(t,{headers:n={},customFetch:r,region:i=Gg.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=bD(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return yD(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let b;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(h["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(h["Content-Type"]="application/json",b=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?b=JSON.stringify(u):b=u;let y=c;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),c?(y=a.signal,c.addEventListener("abort",()=>a.abort())):y=a.signal);const w=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:b,signal:y}).catch(E=>{throw new xD(E)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new Aw(w);if(!w.ok)throw new Cw(w);let _=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return _==="application/json"?T=yield w.json():_==="application/octet-stream"||_==="application/pdf"?T=yield w.blob():_==="text/event-stream"?T=w:_==="multipart/form-data"?T=yield w.formData():T=yield w.text(),{data:T,error:null,response:w}}catch(s){return{data:null,error:s,response:s instanceof Cw||s instanceof Aw?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var _D=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},SD=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,c=o.statusText;if(o.ok){var d,h;if(n.method!=="HEAD"){var g;const w=await o.text();w===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?s=w:s=JSON.parse(w))}const b=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),y=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");b&&y&&y.length>1&&(l=parseInt(y[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const b=await o.text();try{a=JSON.parse(b),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,c="OK")}catch{o.status===404&&b===""?(u=204,c="No Content"):a={message:b}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new _D(a)}return{error:a,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="",l="",u="";const c=o==null?void 0:o.cause;if(c){var d,h,g,v;const w=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",x=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";s=`${(g=o==null?void 0:o.name)!==null&&g!==void 0?g:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"Error"}: ${w}`,x&&(s+=` (${x})`),c!=null&&c.stack&&(s+=`
${c.stack}`)}else{var b;s=(b=o==null?void 0:o.stack)!==null&&b!==void 0?b:""}const y=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",y>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${y} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",y>this.urlLengthLimit&&(l+=`. Your request URL is ${y} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},ED=class extends SD{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Pw=new RegExp("[,()]");var ra=class extends ED{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Pw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Pw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},TD=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new ra({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);o.searchParams.set("columns",l.join(","))}}return new ra({method:i,url:o,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&s.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);s.searchParams.set("columns",c.join(","))}}return new ra({method:a,url:s,headers:l,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new ra({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new ra({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function kD(e,t){if(su(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AD(e){var t=kD(e,"string");return su(t)=="symbol"?t:t+""}function CD(e,t,n){return(t=AD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(n),!0).forEach(function(r){CD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var PD=class YC{constructor(t,{headers:n={},schema:r,fetch:i,timeout:o,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=a;const s=i??globalThis.fetch;o!==void 0&&o>0?this.fetch=(l,u)=>{const c=new AbortController,d=setTimeout(()=>c.abort(),o),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(d),s(l,u);const g=()=>{clearTimeout(d),c.abort()};return h.addEventListener("abort",g,{once:!0}),s(l,Oc(Oc({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",g)})}return s(l,Oc(Oc({},u),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new TD(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new YC(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(c)),d=r&&Object.values(n).some(c);d?(s="POST",u=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{l.searchParams.append(g,v)})):(s="POST",u=n);const h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new ra({method:s,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class ID{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ND="2.97.0",OD=`realtime-js/${ND}`,RD="1.0.0",XC="2.0.0",Nw=XC,Hg=1e4,MD=1e3,$D=100;var ci;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ci||(ci={}));var vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vt||(vt={}));var Yn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yn||(Yn={}));var Wg;(function(e){e.websocket="websocket"})(Wg||(Wg={}));var oo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(oo||(oo={}));class DD{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,o;const a=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+d.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(g),b=0;v.setUint8(b++,this.KINDS.userBroadcastPush),v.setUint8(b++,l.length),v.setUint8(b++,s.length),v.setUint8(b++,a.length),v.setUint8(b++,u.length),v.setUint8(b++,d.length),v.setUint8(b++,n),Array.from(l,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(s,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(a,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(u,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(d,w=>v.setUint8(b++,w.charCodeAt(0)));var y=new Uint8Array(g.byteLength+r.byteLength);return y.set(new Uint8Array(g),0),y.set(new Uint8Array(r),g.byteLength),y.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+o));l=l+o;const d=r.decode(t.slice(l,l+a));l=l+a;const h=t.slice(l,t.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:c,payload:g};return a>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class QC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Be||(Be={}));const Ow=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=jD(a,e,t,i),o),{}):{}},jD=(e,t,n,r)=>{const i=t.find(s=>s.name===e),o=i==null?void 0:i.type,a=n[e];return o&&!r.includes(o)?ZC(o,a):Kg(a)},ZC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return BD(t,n)}switch(e){case Be.bool:return LD(t);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return UD(t);case Be.json:case Be.jsonb:return FD(t);case Be.timestamp:return zD(t);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Kg(t);default:return Kg(t)}},Kg=e=>e,LD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},UD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},FD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},BD=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>ZC(t,s))}return e},zD=e=>typeof e=="string"?e.replace(" ","T"):e,eP=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class sm{constructor(t,n,r={},i=Hg){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Rw||(Rw={}));class Il{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Il.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Il.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Il.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=o[u];if(d){const h=c.map(y=>y.presence_ref),g=d.map(y=>y.presence_ref),v=c.filter(y=>g.indexOf(y.presence_ref)<0),b=d.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(s[u]=v),b.length>0&&(l[u]=b)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),c.length>0){const d=t[s].map(g=>g.presence_ref),h=c.filter(g=>d.indexOf(g.presence_ref)<0);t[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=t[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[s]=u,i(s,u,l),u.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Mw||(Mw={}));var Nl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Nl||(Nl={}));var Pr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pr||(Pr={}));class xa{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new sm(this,Yn.join,this.params,this.timeout),this.rejoinTimer=new QC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Il(this),this.broadcastEndpointURL=eP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Nl.PRESENCE]&&this.bindings[Nl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Pr.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Pr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(Pr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,w=[];for(let x=0;x<y;x++){const _=b[x],{filter:{event:T,schema:E,table:S,filter:k}}=_,A=g&&g[x];if(A&&A.event===T&&xa.isFilterValueEqual(A.schema,E)&&xa.isFilterValueEqual(A.table,S)&&xa.isFilterValueEqual(A.filter,k))w.push(Object.assign(Object.assign({},_),{id:A.id}));else{this.unsubscribe(),this.state=vt.errored,t==null||t(Pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Pr.SUBSCRIBED);return}}).receive("error",g=>{this.state=vt.errored,t==null||t(Pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===vt.joined&&t===Nl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new sm(this,Yn.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new sm(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$D){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const a=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Yn;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,b,y;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(b=g.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var v,b,y,w,x,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const T=g.id,E=(v=g.filter)===null||v===void 0?void 0:v.event;return T&&((b=n.ids)===null||b===void 0?void 0:b.includes(T))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const T=(x=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return T==="*"||T===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:b,table:y,commit_timestamp:w,type:x,errors:_}=v;h=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:w,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(v))}g.callback(h,r)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&xa.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yn.close,{},t)}_onError(t){this._on(Yn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ow(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ow(t.columns,t.old_record)),n}}const lm=()=>{},Rc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VD=[1e3,2e3,5e3,1e4],qD=1e4,GD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HD{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hg,this.transport=null,this.heartbeatIntervalMs=Rc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lm,this.ref=0,this.reconnectTimer=null,this.vsn=Nw,this.logger=lm,this.conn=null,this.sendBuffer=[],this.serializer=new DD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Wg.websocket}`,this.httpEndpoint=eP(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ID.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ci.connecting:return oo.Connecting;case ci.open:return oo.Open;case ci.closing:return oo.Closing;default:return oo.Closed}}isConnected(){return this.connectionState()===oo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new xa(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,a=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(MD,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Rc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ci.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ci.open||this.conn.readyState===ci.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([GD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:OD};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Yn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new QC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,a,s,l,u,c,d,h,g;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Hg,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Rc.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:lm,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Nw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>VD[v-1]||qD,this.vsn){case RD:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(v,b)=>b(JSON.stringify(v)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(v,b)=>b(JSON.parse(v));break;case XC:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var lu=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function WD(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function KD(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function JD(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=WD(e.baseUrl,r,i),l=await KD(e.auth),u=await t(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const g=d?h:void 0,v=g==null?void 0:g.error;throw new lu((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function Mc(e){return e.join("")}var YD=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Mc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mc(e.namespace)}`}),!0}catch(t){if(t instanceof lu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof lu&&n.status===409)return;throw n}}};function Ko(e){return e.join("")}var XD=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof lu&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof lu&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},QD=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=JD({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new YD(this.client,t),this.tableOps=new XD(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},kh=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Ah(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var $c=class extends kh{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tP=class extends kh{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const ZD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ej=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Jg=e=>{if(Array.isArray(e))return e.map(n=>Jg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Jg(r)}),t},tj=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function nj(e,t){if(uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rj(e){var t=nj(e,"string");return uu(t)=="symbol"?t:t+""}function ij(e,t,n){return(t=rj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(n),!0).forEach(function(r){ij(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Dw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},oj=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||o+"";t(new $c(Dw(a),o,s,r))}).catch(()=>{if(r==="vectors"){const a=o+"";t(new $c(i.statusText||`HTTP ${o} error`,o,a,r))}else{const a=o+"";t(new $c(i.statusText||`HTTP ${o} error`,o,a,r))}});else{const a=o+"";t(new $c(i.statusText||`HTTP ${o} error`,o,a,r))}}else t(new tP(Dw(e),e,r))},aj=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?se(se({},i),n):(ej(r)?(i.headers=se({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),se(se({},i),n))};async function el(e,t,n,r,i,o,a){return new Promise((s,l)=>{e(n,aj(t,r,i,o)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(a==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>s(u)).catch(u=>oj(u,l,r,a))})}function nP(e="storage"){return{get:async(t,n,r,i)=>el(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,o)=>el(t,"POST",n,i,o,r,e),put:async(t,n,r,i,o)=>el(t,"PUT",n,i,o,r,e),head:async(t,n,r,i)=>el(t,"HEAD",n,se(se({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,o)=>el(t,"DELETE",n,i,o,r,e)}}const sj=nP("storage"),{get:cu,post:Kn,put:Yg,head:lj,remove:V0}=sj,vn=nP("vectors");var Es=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=ZD(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=se(se({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ah(n))return{data:null,error:n};throw n}}},uj=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ah(t))return{data:null,error:t};throw t}}};let rP;rP=Symbol.toStringTag;var cj=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[rP]="BlobDownloadBuilder",this.promise=null}asStream(){return new uj(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ah(t))return{data:null,error:t};throw t}}};const dj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var fj=class extends Es{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let o;const a=se(se({},jw),r);let s=se(se({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=se(se({},s),r.headers));const u=i._removeEmptyFolders(t),c=i._getFinalPath(u),d=await(e=="PUT"?Yg:Kn)(i.fetch,`${i.url}/object/${c}`,o,se({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const o=i._removeEmptyFolders(e),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);return s.searchParams.set("token",t),i.handleOperation(async()=>{let l;const u=se({upsert:jw.upsert},r),c=se(se({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:o,fullPath:(await Yg(i.fetch,s.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=se({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=await Kn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new kh("No token returned by API");return{signedUrl:a.toString(),path:e,token:s}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Kn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Kn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await Kn(r.fetch,`${r.url}/object/sign/${i}`,se({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await Kn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(a=>se(se({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),s=()=>cu(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0},n);return new cj(s,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Jg(await cu(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await lj(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ah(r)&&r instanceof tP){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await V0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=se(se(se({},dj),t),{},{prefix:e||""});return await Kn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=se({},e);return await Kn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const hj="2.97.0",tc={"X-Client-Info":`storage-js/${hj}`};var pj=class extends Es{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const o=i.href.replace(/\/$/,""),a=se(se({},tc),t);super(o,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await cu(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await cu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Kn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Yg(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Kn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await V0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},mj=class extends Es{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=se(se({},tc),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Kn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await cu(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await V0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!tj(e))throw new kh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new QD({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},gj=class extends Es{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=se(se({},tc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await vn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await vn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},vj=class extends Es{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=se(se({},tc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},yj=class extends Es{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=se(se({},tc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},bj=class extends yj{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new xj(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},xj=class extends gj{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new wj(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},wj=class extends vj{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},_j=class extends pj{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new fj(this.url,this.headers,e,this.fetch)}get vectors(){return new bj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mj(this.url+"/iceberg",this.headers,this.fetch)}};const iP="2.97.0",ia=30*1e3,Xg=3,um=Xg*ia,Sj="http://localhost:9999",Ej="supabase.auth.token",Tj={"X-Client-Info":`gotrue-js/${iP}`},Qg="X-Supabase-Api-Version",oP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Aj=10*60*1e3;class du extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Cj extends du{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Pj(e){return ne(e)&&e.name==="AuthApiError"}class ao extends du{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Yr extends du{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class hn extends Yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cm(e){return ne(e)&&e.name==="AuthSessionMissingError"}class Jo extends Yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dc extends Yr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jc extends Yr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ij(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class Lw extends Yr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nj extends Yr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Zg extends Yr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function dm(e){return ne(e)&&e.name==="AuthRetryableFetchError"}class Uw extends Yr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ev extends Yr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fw=` 	
\r=`.split(""),Oj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fw.length;t+=1)e[Fw[t].charCodeAt(0)]=-2;for(let t=0;t<Jd.length;t+=1)e[Jd[t].charCodeAt(0)]=t;return e})();function Bw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Jd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Jd[r]),t.queuedBits-=6}}function aP(e,t,n){const r=Oj[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zw(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{$j(a,r,n)};for(let a=0;a<e.length;a+=1)aP(e.charCodeAt(a),i,o);return t.join("")}function Rj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Mj(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Rj(r,t)}}function $j(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ma(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)aP(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Dj(e){const t=[];return Mj(e,n=>t.push(n)),new Uint8Array(t)}function fo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Bw(i,n,r)),Bw(null,n,r),t.join("")}function jj(e){return Math.round(Date.now()/1e3)+e}function Lj(){return Symbol("auth-callback")}const Mt=()=>typeof window<"u"&&typeof document<"u",Wi={tested:!1,writable:!1},sP=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wi.tested)return Wi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wi.tested=!0,Wi.writable=!0}catch{Wi.tested=!0,Wi.writable=!1}return Wi.writable};function Uj(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const lP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Fj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",oa=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ki=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rt=async(e,t)=>{await e.removeItem(t)};class Ch{constructor(){this.promise=new Ch.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ch.promiseConstructor=Promise;function Lc(e){const t=e.split(".");if(t.length!==3)throw new ev("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!kj.test(t[r]))throw new ev("JWT not in base64url format");return{header:JSON.parse(zw(t[0])),payload:JSON.parse(zw(t[1])),signature:Ma(t[2]),raw:{header:t[0],payload:t[1]}}}async function Bj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zj(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){i(a);return}}})()})}function Vj(e){return("0"+e.toString(16)).substr(-2)}function qj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Vj).join("")}async function Gj(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Hj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Gj(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yo(e,t,n=!1){const r=qj();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await oa(e,`${t}-code-verifier`,i);const o=await Hj(r);return[o,r===o?"plain":"s256"]}const Wj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kj(e){const t=e.headers.get(Qg);if(!t||!t.match(Wj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Jj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Yj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xo(e){if(!Xj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qj(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function Vw(e){return JSON.parse(JSON.stringify(e))}const eo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zj=[502,503,504];async function qw(e){var t;if(!Fj(e))throw new Zg(eo(e),0);if(Zj.includes(e.status))throw new Zg(eo(e),e.status);let n;try{n=await e.json()}catch(o){throw new ao(eo(o),o)}let r;const i=Kj(e);if(i&&i.getTime()>=oP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Uw(eo(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new hn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Uw(eo(n),e.status,n.weak_password.reasons);throw new Cj(eo(n),e.status||500,r)}const eL=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ue(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Qg]||(o[Qg]=oP["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await tL(e,t,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function tL(e,t,n,r,i,o){const a=eL(t,r,i,o);let s;try{s=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new Zg(eo(l),0)}if(s.ok||await qw(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await qw(l)}}function Hn(e){var t;let n=null;iL(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=jj(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Gw(e){const t=Hn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nL(e){return{data:e,error:null}}function rL(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,a=Th(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function Hw(e){return e}function iL(e){return e.access_token&&e.refresh_token&&e.expires_in}const hm=["global","local","others"];class oL{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=lP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=hm[0]){if(hm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hm.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:pi})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Th(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:rL,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pi})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Hw});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Xo(t);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pi})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Xo(t);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:pi})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Xo(t);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:pi})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Xo(t.userId);try{const{data:n,error:r}=await ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Xo(t.userId),Xo(t.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Hw});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ne(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}}function Ww(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Qo={debug:!!(globalThis&&sP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Kw extends uP{}async function aL(e,t,n){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Kw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(i){throw(i==null?void 0:i.name)==="AbortError"?new Kw(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):i}}function sL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cP(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function lL(e){return parseInt(e,16)}function uL(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function cL(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=cP(e.address),v=c?`${c}://${r}`:r,b=e.statement?`${e.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${g}

${b}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),s&&(w+=`
Not Before: ${s.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}w+=x}return`${y}
${w}`}class dt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Yd extends dt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function dL({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(dP(a)){if(o.rp.id!==a)return new dt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function fL({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(dP(r)){if(n.rpId!==r)return new dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class hL{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const pL=new hL;function mL(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Th(e,["challenge","user","excludeCredentials"]),o=Ma(t).buffer,a=Object.assign(Object.assign({},n),{id:Ma(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ma(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function gL(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Th(e,["challenge","allowCredentials"]),i=Ma(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Ma(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function vL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:fo(new Uint8Array(e.response.attestationObject)),clientDataJSON:fo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function yL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:fo(new Uint8Array(i.authenticatorData)),clientDataJSON:fo(new Uint8Array(i.clientDataJSON)),signature:fo(new Uint8Array(i.signature)),userHandle:i.userHandle?fo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dP(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Jw(){var e,t;return!!(Mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function bL(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yd("Browser returned unexpected credential type",t)}:{data:null,error:new Yd("Empty credential response",t)}}catch(t){return{data:null,error:dL({error:t,options:e})}}}async function xL(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yd("Browser returned unexpected credential type",t)}:{data:null,error:new Yd("Empty credential response",t)}}catch(t){return{data:null,error:fL({error:t,options:e})}}}const wL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_L={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(t(a)){const s=r[o];t(s)?r[o]=Xd(s,a):r[o]=Xd(a)}else r[o]=a}return r}function SL(e,t){return Xd(wL,e,t||{})}function EL(e,t){return Xd(_L,e,t||{})}class TL{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){var a;try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:l};const u=i??pL.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;if(!c.name){const d=r;if(d)c.name=`${c.id}:${d}`;else{const g=(await this.client.getUser()).data.user,v=((a=g==null?void 0:g.user_metadata)===null||a===void 0?void 0:a.name)||(g==null?void 0:g.email)||(g==null?void 0:g.id)||"User";c.name=`${c.id}:${v}`}}c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=SL(s.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:h}=await bL({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=EL(s.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:h}=await xL(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(s){return ne(s)?{data:null,error:s}:{data:null,error:new ao("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new du("rpId is required for WebAuthn authentication")};try{if(!Jw())return{data:null,error:new ao("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return ne(a)?{data:null,error:a}:{data:null,error:new ao("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new du("rpId is required for WebAuthn registration")};try{if(!Jw())return{data:null,error:new ao("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ne(a)?{data:null,error:a}:{data:null,error:new ao("Unexpected error in register",a)}}}}sL();const kL={url:Sj,storageKey:Ej,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function Yw(e,t,n){return await n()}const Zo={};class fu{get jwks(){var t,n;return(n=(t=Zo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Zo[this.storageKey]=Object.assign(Object.assign({},Zo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Zo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zo[this.storageKey]=Object.assign(Object.assign({},Zo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},kL),t);if(this.storageKey=o.storageKey,this.instanceID=(n=fu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,fu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Mt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new oL({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=lP(o.fetch),this.lock=o.lock||Yw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Mt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=aL:this.lock=Yw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new TL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:sP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ww(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Ww(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(s){this._debug("#broadcastChannel","error",s)}})}o.skipAutoInitialize||this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${iP}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Mt()&&(n=Uj(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Mt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Ij(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ne(n)?this._returnResult({error:n}):this._returnResult({error:new ao("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Hn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:c,password:d,options:h}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Yo(this.storage,this.storageKey)),o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:Hn})}else if("phone"in t){const{phone:c,password:d,options:h}=t;o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Hn})}else throw new Dc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await Rt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:s}=t;n=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Gw})}else if("phone"in t){const{phone:o,password:a,options:s}=t;n=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Gw})}else throw new Dc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Jo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,a,s,l,u,c,d,h;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:b,wallet:y,statement:w,options:x}=t;let _;if(Mt())if(typeof y=="object")_=y;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")_=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),E=await _.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=cP(E[0]);let k=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const C=await _.request({method:"eth_chainId"});k=lL(C)}const A={domain:T.host,address:S,statement:w,uri:T.href,version:"1",chainId:k,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};g=cL(A),v=await _.request({method:"personal_sign",params:[uL(g),S]})}try{const{data:b,error:y}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Hn});if(y)throw y;if(!b||!b.session||!b.user){const w=new Jo;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(ne(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var n,r,i,o,a,s,l,u,c,d,h,g;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:y,wallet:w,statement:x,options:_}=t;let T;if(Mt())if(typeof w=="object")T=w;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))T=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=w}const E=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const S=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),x?{statement:x}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),b=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${E.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:y,error:w}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:fo(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Hn});if(w)throw w;if(!y||!y.session||!y.user){const x=new Jo;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(ne(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const n=await Ki(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Nj;const{data:o,error:a}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Hn});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new Jo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=t,s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Hn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Jo;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,o,a;try{if("email"in t){const{email:s,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Yo(this.storage,this.storageKey));const{error:d}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:c}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Dc("You must provide either an email or phone number.")}catch(s){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Hn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Yo(this.storage,this.storageKey));const u=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:nL});return!((o=u.data)===null||o===void 0)&&o.url&&Mt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new hn;const{error:i}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:a}=await ue(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:a,error:s}=await ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Dc("You must provide either an email or phone number and a type")}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<um:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Ki(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=fm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Qj(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pi}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hn}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:pi})})}catch(n){if(ne(n))return cm(n)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new hn;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await Yo(this.storage,this.storageKey));const{data:u,error:c}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:pi});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new hn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=Lc(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});o={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:s}=n;if(s)throw s;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new hn;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Mt())throw new jc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new jc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Lw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lw("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=t;if(!o||!s||!a||!u)throw new jc("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const g=h-c;g*1e3<=ia&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:b,error:y}=await this._getUser(o);if(y)throw y;const w={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ki(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o&&!cm(o))return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,t);if(s&&!(Pj(s)&&(s.status===404||s.status===401||s.status===403)||cm(s)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Lj(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Yo(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:d,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Mt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ne(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=t,d=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hn}),{data:h,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Jo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await zj(async i=>(i>0&&await Bj(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Hn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&dm(o)&&Date.now()+a-r<ia})}catch(r){if(this._debug(n,"error",r),ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Mt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ki(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ki(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await oa(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:fm()}else if(i&&!i.user&&!i.user){const a=await Ki(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Rt(this.storage,this.storageKey+"-user"),await oa(this.storage,this.storageKey,i)):i.user=fm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<um;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${um}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),dm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ch;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new hn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),ne(o)){const a={data:null,error:o};return dm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Rt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await oa(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Vw(i);await oa(this.storage,this.storageKey,o)}else{const i=Vw(n);await oa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ia);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ia);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ia}ms, refresh threshold is ${Xg} ticks`),i<=Xg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof uP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Yo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?vL(t.webauthn.credential_response):yL(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:mL(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:gL(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,o;if(t)try{const{payload:g}=Lc(t);let v=null;g.aal&&(v=g.aal);let b=v;const{data:{user:y},error:w}=await this.getUser(t);if(w)return this._returnResult({data:null,error:w});((r=(n=y==null?void 0:y.factors)===null||n===void 0?void 0:n.filter(T=>T.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(b="aal2");const _=g.amr||[];return{data:{currentLevel:v,nextLevel:b,currentAuthenticationMethods:_},error:null}}catch(g){if(ne(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Lc(a.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((o=(i=a.user.factors)===null||i===void 0?void 0:i.filter(g=>g.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new hn})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new hn});const a=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Mt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new hn});const a=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Mt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new hn})})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new hn})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+Aj>i)return r;const{data:o,error:a}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Lc(r);n!=null&&n.allowExpired||Jj(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const c=Yj(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,Dj(`${s}.${l}`)))throw new ev("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}}fu.nextInstanceID={};const AL=fu,CL="2.97.0";let vl="";typeof Deno<"u"?vl="deno":typeof document<"u"?vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vl="react-native":vl="node";const PL={"X-Client-Info":`supabase-js-${vl}/${CL}`},IL={headers:PL},NL={schema:"public"},OL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RL={};function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function ML(e,t){if(hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $L(e){var t=ML(e,"string");return hu(t)=="symbol"?t:t+""}function DL(e,t,n){return(t=$L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(n),!0).forEach(function(r){DL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const jL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),LL=()=>Headers,UL=(e,t,n)=>{const r=jL(n),i=LL();return async(o,a)=>{var s;const l=(s=await t())!==null&&s!==void 0?s:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,it(it({},a),{},{headers:u}))}};function FL(e){return e.endsWith("/")?e:e+"/"}function BL(e,t){var n,r;const{db:i,auth:o,realtime:a,global:s}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:it(it({},l),i),auth:it(it({},u),o),realtime:it(it({},c),a),storage:{},global:it(it(it({},d),s),{},{headers:it(it({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function zL(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(FL(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var VL=class extends AL{constructor(e){super(e)}},qL=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const o=zL(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:NL,realtime:RL,auth:it(it({},OL),{},{storageKey:a}),global:IL},l=BL(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=UL(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(it({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new PD(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new _j(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new wD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new VL({url:this.authUrl.href,headers:it(it({},h),c),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new HD(this.realtimeUrl.href,it(it({},e),{},{params:it(it({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const GL=(e,t,n)=>new qL(e,t,n);function HL(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}HL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const WL="https://rvocbjrzruiohrxuiqnq.supabase.co",KL="sb_publishable_5lNFLNCQKJrvbBL5KkMvNA_zanJwPRm",re=GL(WL,KL);function fP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=fP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ve(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=fP(e))&&(r&&(r+=" "),r+=t);return r}var JL=Array.isArray,dn=JL,YL=typeof hc=="object"&&hc&&hc.Object===Object&&hc,hP=YL,XL=hP,QL=typeof self=="object"&&self&&self.Object===Object&&self,ZL=XL||QL||Function("return this")(),_r=ZL,eU=_r,tU=eU.Symbol,nc=tU,Qw=nc,pP=Object.prototype,nU=pP.hasOwnProperty,rU=pP.toString,tl=Qw?Qw.toStringTag:void 0;function iU(e){var t=nU.call(e,tl),n=e[tl];try{e[tl]=void 0;var r=!0}catch{}var i=rU.call(e);return r&&(t?e[tl]=n:delete e[tl]),i}var oU=iU,aU=Object.prototype,sU=aU.toString;function lU(e){return sU.call(e)}var uU=lU,Zw=nc,cU=oU,dU=uU,fU="[object Null]",hU="[object Undefined]",e_=Zw?Zw.toStringTag:void 0;function pU(e){return e==null?e===void 0?hU:fU:e_&&e_ in Object(e)?cU(e):dU(e)}var Xr=pU;function mU(e){return e!=null&&typeof e=="object"}var Qr=mU,gU=Xr,vU=Qr,yU="[object Symbol]";function bU(e){return typeof e=="symbol"||vU(e)&&gU(e)==yU}var Ts=bU,xU=dn,wU=Ts,_U=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,SU=/^\w*$/;function EU(e,t){if(xU(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||wU(e)?!0:SU.test(e)||!_U.test(e)||t!=null&&e in Object(t)}var q0=EU;function TU(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ji=TU;const ks=Oe(ji);var kU=Xr,AU=ji,CU="[object AsyncFunction]",PU="[object Function]",IU="[object GeneratorFunction]",NU="[object Proxy]";function OU(e){if(!AU(e))return!1;var t=kU(e);return t==PU||t==IU||t==CU||t==NU}var G0=OU;const ce=Oe(G0);var RU=_r,MU=RU["__core-js_shared__"],$U=MU,pm=$U,t_=function(){var e=/[^.]+$/.exec(pm&&pm.keys&&pm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function DU(e){return!!t_&&t_ in e}var jU=DU,LU=Function.prototype,UU=LU.toString;function FU(e){if(e!=null){try{return UU.call(e)}catch{}try{return e+""}catch{}}return""}var mP=FU,BU=G0,zU=jU,VU=ji,qU=mP,GU=/[\\^$.*+?()[\]{}|]/g,HU=/^\[object .+?Constructor\]$/,WU=Function.prototype,KU=Object.prototype,JU=WU.toString,YU=KU.hasOwnProperty,XU=RegExp("^"+JU.call(YU).replace(GU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function QU(e){if(!VU(e)||zU(e))return!1;var t=BU(e)?XU:HU;return t.test(qU(e))}var ZU=QU;function e4(e,t){return e==null?void 0:e[t]}var t4=e4,n4=ZU,r4=t4;function i4(e,t){var n=r4(e,t);return n4(n)?n:void 0}var Do=i4,o4=Do,a4=o4(Object,"create"),Ph=a4,n_=Ph;function s4(){this.__data__=n_?n_(null):{},this.size=0}var l4=s4;function u4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var c4=u4,d4=Ph,f4="__lodash_hash_undefined__",h4=Object.prototype,p4=h4.hasOwnProperty;function m4(e){var t=this.__data__;if(d4){var n=t[e];return n===f4?void 0:n}return p4.call(t,e)?t[e]:void 0}var g4=m4,v4=Ph,y4=Object.prototype,b4=y4.hasOwnProperty;function x4(e){var t=this.__data__;return v4?t[e]!==void 0:b4.call(t,e)}var w4=x4,_4=Ph,S4="__lodash_hash_undefined__";function E4(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_4&&t===void 0?S4:t,this}var T4=E4,k4=l4,A4=c4,C4=g4,P4=w4,I4=T4;function As(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}As.prototype.clear=k4;As.prototype.delete=A4;As.prototype.get=C4;As.prototype.has=P4;As.prototype.set=I4;var N4=As;function O4(){this.__data__=[],this.size=0}var R4=O4;function M4(e,t){return e===t||e!==e&&t!==t}var H0=M4,$4=H0;function D4(e,t){for(var n=e.length;n--;)if($4(e[n][0],t))return n;return-1}var Ih=D4,j4=Ih,L4=Array.prototype,U4=L4.splice;function F4(e){var t=this.__data__,n=j4(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():U4.call(t,n,1),--this.size,!0}var B4=F4,z4=Ih;function V4(e){var t=this.__data__,n=z4(t,e);return n<0?void 0:t[n][1]}var q4=V4,G4=Ih;function H4(e){return G4(this.__data__,e)>-1}var W4=H4,K4=Ih;function J4(e,t){var n=this.__data__,r=K4(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Y4=J4,X4=R4,Q4=B4,Z4=q4,eF=W4,tF=Y4;function Cs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Cs.prototype.clear=X4;Cs.prototype.delete=Q4;Cs.prototype.get=Z4;Cs.prototype.has=eF;Cs.prototype.set=tF;var Nh=Cs,nF=Do,rF=_r,iF=nF(rF,"Map"),W0=iF,r_=N4,oF=Nh,aF=W0;function sF(){this.size=0,this.__data__={hash:new r_,map:new(aF||oF),string:new r_}}var lF=sF;function uF(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var cF=uF,dF=cF;function fF(e,t){var n=e.__data__;return dF(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Oh=fF,hF=Oh;function pF(e){var t=hF(this,e).delete(e);return this.size-=t?1:0,t}var mF=pF,gF=Oh;function vF(e){return gF(this,e).get(e)}var yF=vF,bF=Oh;function xF(e){return bF(this,e).has(e)}var wF=xF,_F=Oh;function SF(e,t){var n=_F(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var EF=SF,TF=lF,kF=mF,AF=yF,CF=wF,PF=EF;function Ps(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ps.prototype.clear=TF;Ps.prototype.delete=kF;Ps.prototype.get=AF;Ps.prototype.has=CF;Ps.prototype.set=PF;var K0=Ps,gP=K0,IF="Expected a function";function J0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(IF);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(J0.Cache||gP),n}J0.Cache=gP;var vP=J0;const NF=Oe(vP);var OF=vP,RF=500;function MF(e){var t=OF(e,function(r){return n.size===RF&&n.clear(),r}),n=t.cache;return t}var $F=MF,DF=$F,jF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,LF=/\\(\\)?/g,UF=DF(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(jF,function(n,r,i,o){t.push(i?o.replace(LF,"$1"):r||n)}),t}),FF=UF;function BF(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Y0=BF,i_=nc,zF=Y0,VF=dn,qF=Ts,o_=i_?i_.prototype:void 0,a_=o_?o_.toString:void 0;function yP(e){if(typeof e=="string")return e;if(VF(e))return zF(e,yP)+"";if(qF(e))return a_?a_.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var GF=yP,HF=GF;function WF(e){return e==null?"":HF(e)}var bP=WF,KF=dn,JF=q0,YF=FF,XF=bP;function QF(e,t){return KF(e)?e:JF(e,t)?[e]:YF(XF(e))}var xP=QF,ZF=Ts;function e5(e){if(typeof e=="string"||ZF(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Rh=e5,t5=xP,n5=Rh;function r5(e,t){t=t5(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[n5(t[n++])];return n&&n==r?e:void 0}var X0=r5,i5=X0;function o5(e,t,n){var r=e==null?void 0:i5(e,t);return r===void 0?n:r}var wP=o5;const _n=Oe(wP);function a5(e){return e==null}var s5=a5;const ge=Oe(s5);var l5=Xr,u5=dn,c5=Qr,d5="[object String]";function f5(e){return typeof e=="string"||!u5(e)&&c5(e)&&l5(e)==d5}var h5=f5;const Co=Oe(h5);var _P={exports:{}},Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0=Symbol.for("react.element"),Z0=Symbol.for("react.portal"),Mh=Symbol.for("react.fragment"),$h=Symbol.for("react.strict_mode"),Dh=Symbol.for("react.profiler"),jh=Symbol.for("react.provider"),Lh=Symbol.for("react.context"),p5=Symbol.for("react.server_context"),Uh=Symbol.for("react.forward_ref"),Fh=Symbol.for("react.suspense"),Bh=Symbol.for("react.suspense_list"),zh=Symbol.for("react.memo"),Vh=Symbol.for("react.lazy"),m5=Symbol.for("react.offscreen"),SP;SP=Symbol.for("react.module.reference");function zn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Q0:switch(e=e.type,e){case Mh:case Dh:case $h:case Fh:case Bh:return e;default:switch(e=e&&e.$$typeof,e){case p5:case Lh:case Uh:case Vh:case zh:case jh:return e;default:return t}}case Z0:return t}}}Me.ContextConsumer=Lh;Me.ContextProvider=jh;Me.Element=Q0;Me.ForwardRef=Uh;Me.Fragment=Mh;Me.Lazy=Vh;Me.Memo=zh;Me.Portal=Z0;Me.Profiler=Dh;Me.StrictMode=$h;Me.Suspense=Fh;Me.SuspenseList=Bh;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(e){return zn(e)===Lh};Me.isContextProvider=function(e){return zn(e)===jh};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Q0};Me.isForwardRef=function(e){return zn(e)===Uh};Me.isFragment=function(e){return zn(e)===Mh};Me.isLazy=function(e){return zn(e)===Vh};Me.isMemo=function(e){return zn(e)===zh};Me.isPortal=function(e){return zn(e)===Z0};Me.isProfiler=function(e){return zn(e)===Dh};Me.isStrictMode=function(e){return zn(e)===$h};Me.isSuspense=function(e){return zn(e)===Fh};Me.isSuspenseList=function(e){return zn(e)===Bh};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mh||e===Dh||e===$h||e===Fh||e===Bh||e===m5||typeof e=="object"&&e!==null&&(e.$$typeof===Vh||e.$$typeof===zh||e.$$typeof===jh||e.$$typeof===Lh||e.$$typeof===Uh||e.$$typeof===SP||e.getModuleId!==void 0)};Me.typeOf=zn;_P.exports=Me;var g5=_P.exports,v5=Xr,y5=Qr,b5="[object Number]";function x5(e){return typeof e=="number"||y5(e)&&v5(e)==b5}var EP=x5;const w5=Oe(EP);var _5=EP;function S5(e){return _5(e)&&e!=+e}var E5=S5;const Is=Oe(E5);var Yt=function(t){return t===0?0:t>0?1:-1},ho=function(t){return Co(t)&&t.indexOf("%")===t.length-1},W=function(t){return w5(t)&&!Is(t)},T5=function(t){return ge(t)},wt=function(t){return W(t)||Co(t)},k5=0,Ns=function(t){var n=++k5;return"".concat(t||"").concat(n)},Xt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!W(t)&&!Co(t))return r;var o;if(ho(t)){var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return Is(o)&&(o=r),i&&o>n&&(o=n),o},mi=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},A5=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},on=function(t,n){return W(t)&&W(n)?function(r){return t+r*(n-t)}:function(){return n}};function Qd(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):_n(r,t))===n})}var C5=function(t,n){return W(t)&&W(n)?t-n:Co(t)&&Co(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function $a(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}var P5=["viewBox","children"],I5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],s_=["points","pathLength"],mm={svg:P5,polygon:s_,polyline:s_},eb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zd=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(O.isValidElement(t)&&(r=t.props),!ks(r))return null;var i={};return Object.keys(r).forEach(function(o){eb.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},N5=function(t,n,r){return function(i){return t(n,r,i),null}},Po=function(t,n,r){if(!ks(t)||tv(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var a=t[o];eb.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=N5(a,n,r))}),i},O5=["children"],R5=["children"];function l_(e,t){if(e==null)return{};var n=M5(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function M5(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}var u_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Lr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},c_=null,gm=null,tb=function e(t){if(t===c_&&Array.isArray(gm))return gm;var n=[];return O.Children.forEach(t,function(r){ge(r)||(g5.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),gm=n,c_=t,n};function Dn(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return Lr(i)}):r=[Lr(t)],tb(e).forEach(function(i){var o=_n(i,"type.displayName")||_n(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function gn(e,t){var n=Dn(e,t);return n&&n[0]}var d_=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!W(r)||r<=0||!W(i)||i<=0)},$5=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],D5=function(t){return t&&t.type&&Co(t.type)&&$5.indexOf(t.type)>=0},j5=function(t){return t&&nv(t)==="object"&&"clipDot"in t},L5=function(t,n,r,i){var o,a=(o=mm==null?void 0:mm[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ce(t)&&(i&&a.includes(n)||I5.includes(n))||r&&eb.includes(n)},ae=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(O.isValidElement(t)&&(i=t.props),!ks(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;L5((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},rv=function e(t,n){if(t===n)return!0;var r=O.Children.count(t);if(r!==O.Children.count(n))return!1;if(r===0)return!0;if(r===1)return f_(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!f_(o,a))return!1}return!0},f_=function(t,n){if(ge(t)&&ge(n))return!0;if(!ge(t)&&!ge(n)){var r=t.props||{},i=r.children,o=l_(r,O5),a=n.props||{},s=a.children,l=l_(a,R5);return i&&s?$a(o,l)&&rv(i,s):!i&&!s?$a(o,l):!1}return!1},h_=function(t,n){var r=[],i={};return tb(t).forEach(function(o,a){if(D5(o))r.push(o);else if(o){var s=Lr(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},U5=function(t){var n=t&&t.type;return n&&u_[n]?u_[n]:null},F5=function(t,n){return tb(n).indexOf(t)},B5=["children","width","height","viewBox","className","style","title","desc"];function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iv.apply(this,arguments)}function z5(e,t){if(e==null)return{};var n=V5(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function V5(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ov(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,u=z5(e,B5),c=i||{width:n,height:r,x:0,y:0},d=ve("recharts-surface",o);return I.createElement("svg",iv({},ae(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),t)}var q5=["children","className"];function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},av.apply(this,arguments)}function G5(e,t){if(e==null)return{};var n=H5(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function H5(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var we=I.forwardRef(function(e,t){var n=e.children,r=e.className,i=G5(e,q5),o=ve("recharts-layer",r);return I.createElement("g",av({className:o},ae(i,!0),{ref:t}),n)}),rr=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function W5(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var K5=W5,J5=K5;function Y5(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:J5(e,t,n)}var X5=Y5,Q5="\\ud800-\\udfff",Z5="\\u0300-\\u036f",eB="\\ufe20-\\ufe2f",tB="\\u20d0-\\u20ff",nB=Z5+eB+tB,rB="\\ufe0e\\ufe0f",iB="\\u200d",oB=RegExp("["+iB+Q5+nB+rB+"]");function aB(e){return oB.test(e)}var TP=aB;function sB(e){return e.split("")}var lB=sB,kP="\\ud800-\\udfff",uB="\\u0300-\\u036f",cB="\\ufe20-\\ufe2f",dB="\\u20d0-\\u20ff",fB=uB+cB+dB,hB="\\ufe0e\\ufe0f",pB="["+kP+"]",sv="["+fB+"]",lv="\\ud83c[\\udffb-\\udfff]",mB="(?:"+sv+"|"+lv+")",AP="[^"+kP+"]",CP="(?:\\ud83c[\\udde6-\\uddff]){2}",PP="[\\ud800-\\udbff][\\udc00-\\udfff]",gB="\\u200d",IP=mB+"?",NP="["+hB+"]?",vB="(?:"+gB+"(?:"+[AP,CP,PP].join("|")+")"+NP+IP+")*",yB=NP+IP+vB,bB="(?:"+[AP+sv+"?",sv,CP,PP,pB].join("|")+")",xB=RegExp(lv+"(?="+lv+")|"+bB+yB,"g");function wB(e){return e.match(xB)||[]}var _B=wB,SB=lB,EB=TP,TB=_B;function kB(e){return EB(e)?TB(e):SB(e)}var AB=kB,CB=X5,PB=TP,IB=AB,NB=bP;function OB(e){return function(t){t=NB(t);var n=PB(t)?IB(t):void 0,r=n?n[0]:t.charAt(0),i=n?CB(n,1).join(""):t.slice(1);return r[e]()+i}}var RB=OB,MB=RB,$B=MB("toUpperCase"),DB=$B;const qh=Oe(DB);function Ve(e){return function(){return e}}const OP=Math.cos,ef=Math.sin,sr=Math.sqrt,tf=Math.PI,Gh=2*tf,uv=Math.PI,cv=2*uv,to=1e-6,jB=cv-to;function RP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function LB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return RP;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class UB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?RP:LB(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-n,c=a-t,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>to)if(!(Math.abs(d*l-u*c)>to)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-a,v=i-s,b=l*l+u*u,y=g*g+v*v,w=Math.sqrt(b),x=Math.sqrt(h),_=o*Math.tan((uv-Math.acos((b+h-y)/(2*w*x)))/2),T=_/x,E=_/w;Math.abs(T-1)>to&&this._append`L${t+T*c},${n+T*d}`,this._append`A${o},${o},0,0,${+(d*g>c*v)},${this._x1=t+E*l},${this._y1=n+E*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>to||Math.abs(this._y1-c)>to)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%cv+cv),h>jB?this._append`A${r},${r},0,1,${d},${t-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>to&&this._append`A${r},${r},0,${+(h>=uv)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function nb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new UB(t)}function rb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MP(e){this._context=e}MP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hh(e){return new MP(e)}function $P(e){return e[0]}function DP(e){return e[1]}function jP(e,t){var n=Ve(!0),r=null,i=Hh,o=null,a=nb(s);e=typeof e=="function"?e:e===void 0?$P:Ve(e),t=typeof t=="function"?t:t===void 0?DP:Ve(t);function s(l){var u,c=(l=rb(l)).length,d,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,u,l),+t(d,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ve(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ve(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ve(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Uc(e,t,n){var r=null,i=Ve(!0),o=null,a=Hh,s=null,l=nb(u);e=typeof e=="function"?e:e===void 0?$P:Ve(+e),t=typeof t=="function"?t:Ve(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?DP:Ve(+n);function u(d){var h,g,v,b=(d=rb(d)).length,y,w=!1,x,_=new Array(b),T=new Array(b);for(o==null&&(s=a(x=l())),h=0;h<=b;++h){if(!(h<b&&i(y=d[h],h,d))===w)if(w=!w)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=g;--v)s.point(_[v],T[v]);s.lineEnd(),s.areaEnd()}w&&(_[h]=+e(y,h,d),T[h]=+t(y,h,d),s.point(r?+r(y,h,d):_[h],n?+n(y,h,d):T[h]))}if(x)return s=null,x+""||null}function c(){return jP().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ve(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ve(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ve(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ve(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ve(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ve(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ve(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class LP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function FB(e){return new LP(e,!0)}function BB(e){return new LP(e,!1)}const ib={draw(e,t){const n=sr(t/tf);e.moveTo(n,0),e.arc(0,0,n,0,Gh)}},zB={draw(e,t){const n=sr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},UP=sr(1/3),VB=UP*2,qB={draw(e,t){const n=sr(t/VB),r=n*UP;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},GB={draw(e,t){const n=sr(t),r=-n/2;e.rect(r,r,n,n)}},HB=.8908130915292852,FP=ef(tf/10)/ef(7*tf/10),WB=ef(Gh/10)*FP,KB=-OP(Gh/10)*FP,JB={draw(e,t){const n=sr(t*HB),r=WB*n,i=KB*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Gh*o/5,s=OP(a),l=ef(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},vm=sr(3),YB={draw(e,t){const n=-sr(t/(vm*3));e.moveTo(0,n*2),e.lineTo(-vm*n,-n),e.lineTo(vm*n,-n),e.closePath()}},An=-.5,Cn=sr(3)/2,dv=1/sr(12),XB=(dv/2+1)*3,QB={draw(e,t){const n=sr(t/XB),r=n/2,i=n*dv,o=r,a=n*dv+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(An*r-Cn*i,Cn*r+An*i),e.lineTo(An*o-Cn*a,Cn*o+An*a),e.lineTo(An*s-Cn*l,Cn*s+An*l),e.lineTo(An*r+Cn*i,An*i-Cn*r),e.lineTo(An*o+Cn*a,An*a-Cn*o),e.lineTo(An*s+Cn*l,An*l-Cn*s),e.closePath()}};function ZB(e,t){let n=null,r=nb(i);e=typeof e=="function"?e:Ve(e||ib),t=typeof t=="function"?t:Ve(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ve(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ve(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function nf(){}function rf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function BP(e){this._context=e}BP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e3(e){return new BP(e)}function zP(e){this._context=e}zP.prototype={areaStart:nf,areaEnd:nf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t3(e){return new zP(e)}function VP(e){this._context=e}VP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n3(e){return new VP(e)}function qP(e){this._context=e}qP.prototype={areaStart:nf,areaEnd:nf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function r3(e){return new qP(e)}function p_(e){return e<0?-1:1}function m_(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(p_(o)+p_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function g_(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ym(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function of(e){this._context=e}of.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ym(this,this._t0,g_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ym(this,g_(this,n=m_(this,e,t)),n);break;default:ym(this,this._t0,n=m_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function GP(e){this._context=new HP(e)}(GP.prototype=Object.create(of.prototype)).point=function(e,t){of.prototype.point.call(this,t,e)};function HP(e){this._context=e}HP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function i3(e){return new of(e)}function o3(e){return new GP(e)}function WP(e){this._context=e}WP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=v_(e),i=v_(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function v_(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function a3(e){return new WP(e)}function Wh(e,t){this._context=e,this._t=t}Wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function s3(e){return new Wh(e,.5)}function l3(e){return new Wh(e,0)}function u3(e){return new Wh(e,1)}function Ja(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function fv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function c3(e,t){return e[t]}function d3(e){const t=[];return t.key=e,t}function f3(){var e=Ve([]),t=fv,n=Ja,r=c3;function i(o){var a=Array.from(e.apply(this,arguments),d3),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=rb(t(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ve(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ve(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?fv:typeof o=="function"?o:Ve(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Ja,i):n},i}function h3(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Ja(e,t)}}function p3(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ja(e,t)}}function m3(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],d=c[r][1]||0,h=c[r-1][1]||0,g=(d-h)/2,v=0;v<s;++v){var b=e[t[v]],y=b[r][1]||0,w=b[r-1][1]||0;g+=y-w}l+=d,u+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ja(e,t)}}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}var g3=["type","size","sizeType"];function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hv.apply(this,arguments)}function y_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function b_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(n),!0).forEach(function(r){v3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v3(e,t,n){return t=y3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y3(e){var t=b3(e,"string");return pu(t)=="symbol"?t:t+""}function b3(e,t){if(pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x3(e,t){if(e==null)return{};var n=w3(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function w3(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var KP={symbolCircle:ib,symbolCross:zB,symbolDiamond:qB,symbolSquare:GB,symbolStar:JB,symbolTriangle:YB,symbolWye:QB},_3=Math.PI/180,S3=function(t){var n="symbol".concat(qh(t));return KP[n]||ib},E3=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*_3;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},T3=function(t,n){KP["symbol".concat(qh(t))]=n},ob=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,a=t.sizeType,s=a===void 0?"area":a,l=x3(t,g3),u=b_(b_({},l),{},{type:r,size:o,sizeType:s}),c=function(){var y=S3(r),w=ZB().type(y).size(E3(o,s,r));return w()},d=u.className,h=u.cx,g=u.cy,v=ae(u,!0);return h===+h&&g===+g&&o===+o?I.createElement("path",hv({},v,{className:ve("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};ob.registerSymbol=T3;function Ya(e){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(e)}function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pv.apply(this,arguments)}function x_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(n),!0).forEach(function(r){mu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YP(r.key),r)}}function P3(e,t,n){return t&&C3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I3(e,t,n){return t=af(t),N3(e,JP()?Reflect.construct(t,n||[],af(e).constructor):t.apply(e,n))}function N3(e,t){if(t&&(Ya(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O3(e)}function O3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JP=function(){return!!e})()}function af(e){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},af(e)}function R3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mv(e,t)}function mv(e,t){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mv(e,t)}function mu(e,t,n){return t=YP(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YP(e){var t=M3(e,"string");return Ya(t)=="symbol"?t:t+""}function M3(e,t){if(Ya(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pn=32,ab=function(e){function t(){return A3(this,t),I3(this,t,arguments)}return R3(t,e),P3(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Pn/2,a=Pn/6,s=Pn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Pn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Pn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Pn/8,"h").concat(Pn,"v").concat(Pn*3/4,"h").concat(-Pn,"z"),className:"recharts-legend-icon"});if(I.isValidElement(r.legendIcon)){var u=k3({},r);return delete u.legendIcon,I.cloneElement(r.legendIcon,u)}return I.createElement(ob,{fill:l,cx:o,cy:o,size:Pn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Pn,height:Pn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,v){var b=g.formatter||l,y=ve(mu(mu({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=ce(g.value)?null:g.value;rr(!ce(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=g.inactive?u:g.color;return I.createElement("li",pv({className:y,style:d,key:"legend-item-".concat(v)},Po(r.props,g,v)),I.createElement(ov,{width:a,height:a,viewBox:c,style:h},r.renderIcon(g)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b?b(w,g,v):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);mu(ab,"displayName","Legend");mu(ab,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $3=Nh;function D3(){this.__data__=new $3,this.size=0}var j3=D3;function L3(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var U3=L3;function F3(e){return this.__data__.get(e)}var B3=F3;function z3(e){return this.__data__.has(e)}var V3=z3,q3=Nh,G3=W0,H3=K0,W3=200;function K3(e,t){var n=this.__data__;if(n instanceof q3){var r=n.__data__;if(!G3||r.length<W3-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new H3(r)}return n.set(e,t),this.size=n.size,this}var J3=K3,Y3=Nh,X3=j3,Q3=U3,Z3=B3,e8=V3,t8=J3;function Os(e){var t=this.__data__=new Y3(e);this.size=t.size}Os.prototype.clear=X3;Os.prototype.delete=Q3;Os.prototype.get=Z3;Os.prototype.has=e8;Os.prototype.set=t8;var XP=Os,n8="__lodash_hash_undefined__";function r8(e){return this.__data__.set(e,n8),this}var i8=r8;function o8(e){return this.__data__.has(e)}var a8=o8,s8=K0,l8=i8,u8=a8;function sf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new s8;++t<n;)this.add(e[t])}sf.prototype.add=sf.prototype.push=l8;sf.prototype.has=u8;var QP=sf;function c8(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var ZP=c8;function d8(e,t){return e.has(t)}var eI=d8,f8=QP,h8=ZP,p8=eI,m8=1,g8=2;function v8(e,t,n,r,i,o){var a=n&m8,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,g=n&g8?new f8:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var v=e[d],b=t[d];if(r)var y=a?r(b,v,d,t,e,o):r(v,b,d,e,t,o);if(y!==void 0){if(y)continue;h=!1;break}if(g){if(!h8(t,function(w,x){if(!p8(g,x)&&(v===w||i(v,w,n,r,o)))return g.push(x)})){h=!1;break}}else if(!(v===b||i(v,b,n,r,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var tI=v8,y8=_r,b8=y8.Uint8Array,x8=b8;function w8(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var _8=w8;function S8(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var sb=S8,w_=nc,__=x8,E8=H0,T8=tI,k8=_8,A8=sb,C8=1,P8=2,I8="[object Boolean]",N8="[object Date]",O8="[object Error]",R8="[object Map]",M8="[object Number]",$8="[object RegExp]",D8="[object Set]",j8="[object String]",L8="[object Symbol]",U8="[object ArrayBuffer]",F8="[object DataView]",S_=w_?w_.prototype:void 0,bm=S_?S_.valueOf:void 0;function B8(e,t,n,r,i,o,a){switch(n){case F8:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case U8:return!(e.byteLength!=t.byteLength||!o(new __(e),new __(t)));case I8:case N8:case M8:return E8(+e,+t);case O8:return e.name==t.name&&e.message==t.message;case $8:case j8:return e==t+"";case R8:var s=k8;case D8:var l=r&C8;if(s||(s=A8),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=P8,a.set(e,t);var c=T8(s(e),s(t),r,i,o,a);return a.delete(e),c;case L8:if(bm)return bm.call(e)==bm.call(t)}return!1}var z8=B8;function V8(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var nI=V8,q8=nI,G8=dn;function H8(e,t,n){var r=t(e);return G8(e)?r:q8(r,n(e))}var W8=H8;function K8(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var J8=K8;function Y8(){return[]}var X8=Y8,Q8=J8,Z8=X8,e6=Object.prototype,t6=e6.propertyIsEnumerable,E_=Object.getOwnPropertySymbols,n6=E_?function(e){return e==null?[]:(e=Object(e),Q8(E_(e),function(t){return t6.call(e,t)}))}:Z8,r6=n6;function i6(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var o6=i6,a6=Xr,s6=Qr,l6="[object Arguments]";function u6(e){return s6(e)&&a6(e)==l6}var c6=u6,T_=c6,d6=Qr,rI=Object.prototype,f6=rI.hasOwnProperty,h6=rI.propertyIsEnumerable,p6=T_(function(){return arguments}())?T_:function(e){return d6(e)&&f6.call(e,"callee")&&!h6.call(e,"callee")},lb=p6,lf={exports:{}};function m6(){return!1}var g6=m6;lf.exports;(function(e,t){var n=_r,r=g6,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u})(lf,lf.exports);var iI=lf.exports,v6=9007199254740991,y6=/^(?:0|[1-9]\d*)$/;function b6(e,t){var n=typeof e;return t=t??v6,!!t&&(n=="number"||n!="symbol"&&y6.test(e))&&e>-1&&e%1==0&&e<t}var ub=b6,x6=9007199254740991;function w6(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=x6}var cb=w6,_6=Xr,S6=cb,E6=Qr,T6="[object Arguments]",k6="[object Array]",A6="[object Boolean]",C6="[object Date]",P6="[object Error]",I6="[object Function]",N6="[object Map]",O6="[object Number]",R6="[object Object]",M6="[object RegExp]",$6="[object Set]",D6="[object String]",j6="[object WeakMap]",L6="[object ArrayBuffer]",U6="[object DataView]",F6="[object Float32Array]",B6="[object Float64Array]",z6="[object Int8Array]",V6="[object Int16Array]",q6="[object Int32Array]",G6="[object Uint8Array]",H6="[object Uint8ClampedArray]",W6="[object Uint16Array]",K6="[object Uint32Array]",We={};We[F6]=We[B6]=We[z6]=We[V6]=We[q6]=We[G6]=We[H6]=We[W6]=We[K6]=!0;We[T6]=We[k6]=We[L6]=We[A6]=We[U6]=We[C6]=We[P6]=We[I6]=We[N6]=We[O6]=We[R6]=We[M6]=We[$6]=We[D6]=We[j6]=!1;function J6(e){return E6(e)&&S6(e.length)&&!!We[_6(e)]}var Y6=J6;function X6(e){return function(t){return e(t)}}var oI=X6,uf={exports:{}};uf.exports;(function(e,t){var n=hP,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(uf,uf.exports);var Q6=uf.exports,Z6=Y6,ez=oI,k_=Q6,A_=k_&&k_.isTypedArray,tz=A_?ez(A_):Z6,aI=tz,nz=o6,rz=lb,iz=dn,oz=iI,az=ub,sz=aI,lz=Object.prototype,uz=lz.hasOwnProperty;function cz(e,t){var n=iz(e),r=!n&&rz(e),i=!n&&!r&&oz(e),o=!n&&!r&&!i&&sz(e),a=n||r||i||o,s=a?nz(e.length,String):[],l=s.length;for(var u in e)(t||uz.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||az(u,l)))&&s.push(u);return s}var dz=cz,fz=Object.prototype;function hz(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||fz;return e===n}var pz=hz;function mz(e,t){return function(n){return e(t(n))}}var sI=mz,gz=sI,vz=gz(Object.keys,Object),yz=vz,bz=pz,xz=yz,wz=Object.prototype,_z=wz.hasOwnProperty;function Sz(e){if(!bz(e))return xz(e);var t=[];for(var n in Object(e))_z.call(e,n)&&n!="constructor"&&t.push(n);return t}var Ez=Sz,Tz=G0,kz=cb;function Az(e){return e!=null&&kz(e.length)&&!Tz(e)}var rc=Az,Cz=dz,Pz=Ez,Iz=rc;function Nz(e){return Iz(e)?Cz(e):Pz(e)}var Kh=Nz,Oz=W8,Rz=r6,Mz=Kh;function $z(e){return Oz(e,Mz,Rz)}var Dz=$z,C_=Dz,jz=1,Lz=Object.prototype,Uz=Lz.hasOwnProperty;function Fz(e,t,n,r,i,o){var a=n&jz,s=C_(e),l=s.length,u=C_(t),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in t:Uz.call(t,h)))return!1}var g=o.get(e),v=o.get(t);if(g&&v)return g==t&&v==e;var b=!0;o.set(e,t),o.set(t,e);for(var y=a;++d<l;){h=s[d];var w=e[h],x=t[h];if(r)var _=a?r(x,w,h,t,e,o):r(w,x,h,e,t,o);if(!(_===void 0?w===x||i(w,x,n,r,o):_)){b=!1;break}y||(y=h=="constructor")}if(b&&!y){var T=e.constructor,E=t.constructor;T!=E&&"constructor"in e&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof E=="function"&&E instanceof E)&&(b=!1)}return o.delete(e),o.delete(t),b}var Bz=Fz,zz=Do,Vz=_r,qz=zz(Vz,"DataView"),Gz=qz,Hz=Do,Wz=_r,Kz=Hz(Wz,"Promise"),Jz=Kz,Yz=Do,Xz=_r,Qz=Yz(Xz,"Set"),lI=Qz,Zz=Do,eV=_r,tV=Zz(eV,"WeakMap"),nV=tV,gv=Gz,vv=W0,yv=Jz,bv=lI,xv=nV,uI=Xr,Rs=mP,P_="[object Map]",rV="[object Object]",I_="[object Promise]",N_="[object Set]",O_="[object WeakMap]",R_="[object DataView]",iV=Rs(gv),oV=Rs(vv),aV=Rs(yv),sV=Rs(bv),lV=Rs(xv),no=uI;(gv&&no(new gv(new ArrayBuffer(1)))!=R_||vv&&no(new vv)!=P_||yv&&no(yv.resolve())!=I_||bv&&no(new bv)!=N_||xv&&no(new xv)!=O_)&&(no=function(e){var t=uI(e),n=t==rV?e.constructor:void 0,r=n?Rs(n):"";if(r)switch(r){case iV:return R_;case oV:return P_;case aV:return I_;case sV:return N_;case lV:return O_}return t});var uV=no,xm=XP,cV=tI,dV=z8,fV=Bz,M_=uV,$_=dn,D_=iI,hV=aI,pV=1,j_="[object Arguments]",L_="[object Array]",Fc="[object Object]",mV=Object.prototype,U_=mV.hasOwnProperty;function gV(e,t,n,r,i,o){var a=$_(e),s=$_(t),l=a?L_:M_(e),u=s?L_:M_(t);l=l==j_?Fc:l,u=u==j_?Fc:u;var c=l==Fc,d=u==Fc,h=l==u;if(h&&D_(e)){if(!D_(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new xm),a||hV(e)?cV(e,t,n,r,i,o):dV(e,t,l,n,r,i,o);if(!(n&pV)){var g=c&&U_.call(e,"__wrapped__"),v=d&&U_.call(t,"__wrapped__");if(g||v){var b=g?e.value():e,y=v?t.value():t;return o||(o=new xm),i(b,y,n,r,o)}}return h?(o||(o=new xm),fV(e,t,n,r,i,o)):!1}var vV=gV,yV=vV,F_=Qr;function cI(e,t,n,r,i){return e===t?!0:e==null||t==null||!F_(e)&&!F_(t)?e!==e&&t!==t:yV(e,t,n,r,cI,i)}var db=cI,bV=XP,xV=db,wV=1,_V=2;function SV(e,t,n,r){var i=n.length,o=i,a=!r;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in e))return!1}else{var d=new bV;if(r)var h=r(u,c,l,e,t,d);if(!(h===void 0?xV(c,u,wV|_V,r,d):h))return!1}}return!0}var EV=SV,TV=ji;function kV(e){return e===e&&!TV(e)}var dI=kV,AV=dI,CV=Kh;function PV(e){for(var t=CV(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,AV(i)]}return t}var IV=PV;function NV(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var fI=NV,OV=EV,RV=IV,MV=fI;function $V(e){var t=RV(e);return t.length==1&&t[0][2]?MV(t[0][0],t[0][1]):function(n){return n===e||OV(n,e,t)}}var DV=$V;function jV(e,t){return e!=null&&t in Object(e)}var LV=jV,UV=xP,FV=lb,BV=dn,zV=ub,VV=cb,qV=Rh;function GV(e,t,n){t=UV(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=qV(t[r]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&VV(i)&&zV(a,i)&&(BV(e)||FV(e)))}var HV=GV,WV=LV,KV=HV;function JV(e,t){return e!=null&&KV(e,t,WV)}var YV=JV,XV=db,QV=wP,ZV=YV,eq=q0,tq=dI,nq=fI,rq=Rh,iq=1,oq=2;function aq(e,t){return eq(e)&&tq(t)?nq(rq(e),t):function(n){var r=QV(n,e);return r===void 0&&r===t?ZV(n,e):XV(t,r,iq|oq)}}var sq=aq;function lq(e){return e}var Ms=lq;function uq(e){return function(t){return t==null?void 0:t[e]}}var cq=uq,dq=X0;function fq(e){return function(t){return dq(t,e)}}var hq=fq,pq=cq,mq=hq,gq=q0,vq=Rh;function yq(e){return gq(e)?pq(vq(e)):mq(e)}var bq=yq,xq=DV,wq=sq,_q=Ms,Sq=dn,Eq=bq;function Tq(e){return typeof e=="function"?e:e==null?_q:typeof e=="object"?Sq(e)?wq(e[0],e[1]):xq(e):Eq(e)}var Sr=Tq;function kq(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var hI=kq;function Aq(e){return e!==e}var Cq=Aq;function Pq(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var Iq=Pq,Nq=hI,Oq=Cq,Rq=Iq;function Mq(e,t,n){return t===t?Rq(e,t,n):Nq(e,Oq,n)}var $q=Mq,Dq=$q;function jq(e,t){var n=e==null?0:e.length;return!!n&&Dq(e,t,0)>-1}var Lq=jq;function Uq(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var Fq=Uq;function Bq(){}var zq=Bq,wm=lI,Vq=zq,qq=sb,Gq=1/0,Hq=wm&&1/qq(new wm([,-0]))[1]==Gq?function(e){return new wm(e)}:Vq,Wq=Hq,Kq=QP,Jq=Lq,Yq=Fq,Xq=eI,Qq=Wq,Zq=sb,eG=200;function tG(e,t,n){var r=-1,i=Jq,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=Yq;else if(o>=eG){var u=t?null:Qq(e);if(u)return Zq(u);a=!1,i=Xq,l=new Kq}else l=t?[]:s;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var nG=tG,rG=Sr,iG=nG;function oG(e,t){return e&&e.length?iG(e,rG(t)):[]}var aG=oG;const B_=Oe(aG);function pI(e,t,n){return t===!0?B_(e,n):ce(t)?B_(e,t):e}function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}var sG=["ref"];function z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(n),!0).forEach(function(r){Jh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gI(r.key),r)}}function uG(e,t,n){return t&&V_(e.prototype,t),n&&V_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cG(e,t,n){return t=cf(t),dG(e,mI()?Reflect.construct(t,n||[],cf(e).constructor):t.apply(e,n))}function dG(e,t){if(t&&(Xa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fG(e)}function fG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mI=function(){return!!e})()}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cf(e)}function hG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wv(e,t)}function wv(e,t){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wv(e,t)}function Jh(e,t,n){return t=gI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gI(e){var t=pG(e,"string");return Xa(t)=="symbol"?t:t+""}function pG(e,t){if(Xa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mG(e,t){if(e==null)return{};var n=gG(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gG(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vG(e){return e.value}function yG(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var n=mG(t,sG);return I.createElement(ab,n)}var q_=1,xo=function(e){function t(){var n;lG(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=cG(this,t,[].concat(i)),Jh(n,"lastBoundingBox",{width:-1,height:-1}),n}return hG(t,e),uG(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>q_||Math.abs(i.height-this.lastBoundingBox.height)>q_)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ar({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();d={left:((u||0)-g.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ar(Ar({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=Ar(Ar({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},yG(o,Ar(Ar({},this.props),{},{payload:pI(c,u,vG)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Ar(Ar({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&W(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(O.PureComponent);Jh(xo,"displayName","Legend");Jh(xo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var G_=nc,bG=lb,xG=dn,H_=G_?G_.isConcatSpreadable:void 0;function wG(e){return xG(e)||bG(e)||!!(H_&&e&&e[H_])}var _G=wG,SG=nI,EG=_G;function vI(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=EG),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?vI(s,t-1,n,r,i):SG(i,s):r||(i[i.length]=s)}return i}var yI=vI;function TG(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(n(o[l],l,o)===!1)break}return t}}var kG=TG,AG=kG,CG=AG(),PG=CG,IG=PG,NG=Kh;function OG(e,t){return e&&IG(e,t,NG)}var bI=OG,RG=rc;function MG(e,t){return function(n,r){if(n==null)return n;if(!RG(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var $G=MG,DG=bI,jG=$G,LG=jG(DG),fb=LG,UG=fb,FG=rc;function BG(e,t){var n=-1,r=FG(e)?Array(e.length):[];return UG(e,function(i,o,a){r[++n]=t(i,o,a)}),r}var xI=BG;function zG(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var VG=zG,W_=Ts;function qG(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=W_(e),a=t!==void 0,s=t===null,l=t===t,u=W_(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var GG=qG,HG=GG;function WG(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=HG(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var KG=WG,_m=Y0,JG=X0,YG=Sr,XG=xI,QG=VG,ZG=oI,eH=KG,tH=Ms,nH=dn;function rH(e,t,n){t.length?t=_m(t,function(o){return nH(o)?function(a){return JG(a,o.length===1?o[0]:o)}:o}):t=[tH];var r=-1;t=_m(t,ZG(YG));var i=XG(e,function(o,a,s){var l=_m(t,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return QG(i,function(o,a){return eH(o,a,n)})}var iH=rH;function oH(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var aH=oH,sH=aH,K_=Math.max;function lH(e,t,n){return t=K_(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=K_(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),sH(e,this,s)}}var uH=lH;function cH(e){return function(){return e}}var dH=cH,fH=Do,hH=function(){try{var e=fH(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wI=hH,pH=dH,J_=wI,mH=Ms,gH=J_?function(e,t){return J_(e,"toString",{configurable:!0,enumerable:!1,value:pH(t),writable:!0})}:mH,vH=gH,yH=800,bH=16,xH=Date.now;function wH(e){var t=0,n=0;return function(){var r=xH(),i=bH-(r-n);if(n=r,i>0){if(++t>=yH)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _H=wH,SH=vH,EH=_H,TH=EH(SH),kH=TH,AH=Ms,CH=uH,PH=kH;function IH(e,t){return PH(CH(e,t,AH),e+"")}var NH=IH,OH=H0,RH=rc,MH=ub,$H=ji;function DH(e,t,n){if(!$H(n))return!1;var r=typeof t;return(r=="number"?RH(n)&&MH(t,n.length):r=="string"&&t in n)?OH(n[t],e):!1}var Yh=DH,jH=yI,LH=iH,UH=NH,Y_=Yh,FH=UH(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Y_(e,t[0],t[1])?t=[]:n>2&&Y_(t[0],t[1],t[2])&&(t=[t[0]]),LH(e,jH(t,1),[])}),BH=FH;const hb=Oe(BH);function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_v.apply(this,arguments)}function zH(e,t){return HH(e)||GH(e,t)||qH(e,t)||VH()}function VH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qH(e,t){if(e){if(typeof e=="string")return X_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X_(e,t)}}function X_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function HH(e){if(Array.isArray(e))return e}function Q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(n),!0).forEach(function(r){WH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WH(e,t,n){return t=KH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KH(e){var t=JH(e,"string");return gu(t)=="symbol"?t:t+""}function JH(e,t){if(gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YH(e){return Array.isArray(e)&&wt(e[0])&&wt(e[1])?e.join(" ~ "):e}var XH=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,a=t.itemStyle,s=a===void 0?{}:a,l=t.labelStyle,u=l===void 0?{}:l,c=t.payload,d=t.formatter,h=t.itemSorter,g=t.wrapperClassName,v=t.labelClassName,b=t.label,y=t.labelFormatter,w=t.accessibilityLayer,x=w===void 0?!1:w,_=function(){if(c&&c.length){var M={padding:0,margin:0},L=(h?hb(c,h):c).map(function($,D){if($.type==="none")return null;var U=Sm({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),V=$.formatter||d||YH,P=$.value,j=$.name,z=P,Y=j;if(V&&z!=null&&Y!=null){var H=V(P,j,$,D,c);if(Array.isArray(H)){var ie=zH(H,2);z=ie[0],Y=ie[1]}else z=H}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:U},wt(Y)?I.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,wt(Y)?I.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,I.createElement("span",{className:"recharts-tooltip-item-value"},z),I.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:M},L)}return null},T=Sm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=Sm({margin:0},u),S=!ge(b),k=S?b:"",A=ve("recharts-default-tooltip",g),C=ve("recharts-tooltip-label",v);S&&y&&c!==void 0&&c!==null&&(k=y(b,c));var N=x?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",_v({className:A,style:T},N),I.createElement("p",{className:C,style:E},I.isValidElement(k)?k:"".concat(k)),_())};function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function Bc(e,t,n){return t=QH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QH(e){var t=ZH(e,"string");return vu(t)=="symbol"?t:t+""}function ZH(e,t){if(vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nl="recharts-tooltip-wrapper",e9={visibility:"hidden"};function t9(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return ve(nl,Bc(Bc(Bc(Bc({},"".concat(nl,"-right"),W(n)&&t&&W(t.x)&&n>=t.x),"".concat(nl,"-left"),W(n)&&t&&W(t.x)&&n<t.x),"".concat(nl,"-bottom"),W(r)&&t&&W(t.y)&&r>=t.y),"".concat(nl,"-top"),W(r)&&t&&W(t.y)&&r<t.y))}function Z_(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(o&&W(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(t[r])return a[r]?c:d;if(a[r]){var h=c,g=l[r];return h<g?Math.max(d,l[r]):Math.max(c,l[r])}var v=d+s,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(d,l[r])}function n9(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function r9(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,a=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=Z_({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=Z_({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=n9({translateX:c,translateY:d,useTranslate3d:s})):u=e9,{cssProperties:u,cssClasses:t9({translateX:c,translateY:d,coordinate:n})}}function Qa(e){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(n),!0).forEach(function(r){Ev(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SI(r.key),r)}}function a9(e,t,n){return t&&o9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s9(e,t,n){return t=df(t),l9(e,_I()?Reflect.construct(t,n||[],df(e).constructor):t.apply(e,n))}function l9(e,t){if(t&&(Qa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u9(e)}function u9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_I=function(){return!!e})()}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},df(e)}function c9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sv(e,t)}function Sv(e,t){return Sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sv(e,t)}function Ev(e,t,n){return t=SI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SI(e){var t=d9(e,"string");return Qa(t)=="symbol"?t:t+""}function d9(e,t){if(Qa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nS=1,f9=function(e){function t(){var n;i9(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=s9(this,t,[].concat(i)),Ev(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ev(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return c9(t,e),a9(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>nS||Math.abs(r.height-this.state.lastBoundingBox.height)>nS)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,g=i.offset,v=i.position,b=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,x=i.wrapperStyle,_=r9({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:g,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),T=_.cssClasses,E=_.cssProperties,S=tS(tS({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return I.createElement("div",{tabIndex:-1,className:T,style:S,ref:function(A){r.wrapperNode=A}},u)}}])}(O.PureComponent),h9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},jo={isSsr:h9()};function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function rS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(n),!0).forEach(function(r){pb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TI(r.key),r)}}function g9(e,t,n){return t&&m9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v9(e,t,n){return t=ff(t),y9(e,EI()?Reflect.construct(t,n||[],ff(e).constructor):t.apply(e,n))}function y9(e,t){if(t&&(Za(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b9(e)}function b9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EI=function(){return!!e})()}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ff(e)}function x9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tv(e,t)}function Tv(e,t){return Tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tv(e,t)}function pb(e,t,n){return t=TI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TI(e){var t=w9(e,"string");return Za(t)=="symbol"?t:t+""}function w9(e,t){if(Za(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _9(e){return e.dataKey}function S9(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(XH,t)}var Xn=function(e){function t(){return p9(this,t),v9(this,t,arguments)}return x9(t,e),g9(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,g=i.offset,v=i.payload,b=i.payloadUniqBy,y=i.position,w=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,E=v??[];d&&E.length&&(E=pI(v.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),b,_9));var S=E.length>0;return I.createElement(f9,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:S,offset:g,position:y,reverseDirection:w,useTranslate3d:x,viewBox:_,wrapperStyle:T},S9(u,iS(iS({},this.props),{},{payload:E})))}}])}(O.PureComponent);pb(Xn,"displayName","Tooltip");pb(Xn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!jo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var E9=_r,T9=function(){return E9.Date.now()},k9=T9,A9=/\s/;function C9(e){for(var t=e.length;t--&&A9.test(e.charAt(t)););return t}var P9=C9,I9=P9,N9=/^\s+/;function O9(e){return e&&e.slice(0,I9(e)+1).replace(N9,"")}var R9=O9,M9=R9,oS=ji,$9=Ts,aS=NaN,D9=/^[-+]0x[0-9a-f]+$/i,j9=/^0b[01]+$/i,L9=/^0o[0-7]+$/i,U9=parseInt;function F9(e){if(typeof e=="number")return e;if($9(e))return aS;if(oS(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=oS(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=M9(e);var n=j9.test(e);return n||L9.test(e)?U9(e.slice(2),n?2:8):D9.test(e)?aS:+e}var kI=F9,B9=ji,Em=k9,sS=kI,z9="Expected a function",V9=Math.max,q9=Math.min;function G9(e,t,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(z9);t=sS(t)||0,B9(n)&&(c=!!n.leading,d="maxWait"in n,o=d?V9(sS(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function g(S){var k=r,A=i;return r=i=void 0,u=S,a=e.apply(A,k),a}function v(S){return u=S,s=setTimeout(w,t),c?g(S):a}function b(S){var k=S-l,A=S-u,C=t-k;return d?q9(C,o-A):C}function y(S){var k=S-l,A=S-u;return l===void 0||k>=t||k<0||d&&A>=o}function w(){var S=Em();if(y(S))return x(S);s=setTimeout(w,b(S))}function x(S){return s=void 0,h&&r?g(S):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:x(Em())}function E(){var S=Em(),k=y(S);if(r=arguments,i=this,l=S,k){if(s===void 0)return v(l);if(d)return clearTimeout(s),s=setTimeout(w,t),g(l)}return s===void 0&&(s=setTimeout(w,t)),a}return E.cancel=_,E.flush=T,E}var H9=G9,W9=H9,K9=ji,J9="Expected a function";function Y9(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(J9);return K9(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),W9(e,t,{leading:r,maxWait:t,trailing:i})}var X9=Y9;const AI=Oe(X9);function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function lS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(n),!0).forEach(function(r){Q9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q9(e,t,n){return t=Z9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z9(e){var t=eW(e,"string");return yu(t)=="symbol"?t:t+""}function eW(e,t){if(yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tW(e,t){return oW(e)||iW(e,t)||rW(e,t)||nW()}function nW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rW(e,t){if(e){if(typeof e=="string")return uS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uS(e,t)}}function uS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function oW(e){if(Array.isArray(e))return e}var CI=O.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,a=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,c=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,g=e.children,v=e.debounce,b=v===void 0?0:v,y=e.id,w=e.className,x=e.onResize,_=e.style,T=_===void 0?{}:_,E=O.useRef(null),S=O.useRef();S.current=x,O.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var k=O.useState({containerWidth:i.width,containerHeight:i.height}),A=tW(k,2),C=A[0],N=A[1],R=O.useCallback(function(L,$){N(function(D){var U=Math.round(L),V=Math.round($);return D.containerWidth===U&&D.containerHeight===V?D:{containerWidth:U,containerHeight:V}})},[]);O.useEffect(function(){var L=function(j){var z,Y=j[0].contentRect,H=Y.width,ie=Y.height;R(H,ie),(z=S.current)===null||z===void 0||z.call(S,H,ie)};b>0&&(L=AI(L,b,{trailing:!0,leading:!1}));var $=new ResizeObserver(L),D=E.current.getBoundingClientRect(),U=D.width,V=D.height;return R(U,V),$.observe(E.current),function(){$.disconnect()}},[R,b]);var M=O.useMemo(function(){var L=C.containerWidth,$=C.containerHeight;if(L<0||$<0)return null;rr(ho(a)||ho(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),rr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=ho(a)?L:a,U=ho(l)?$:l;n&&n>0&&(D?U=D/n:U&&(D=U*n),h&&U>h&&(U=h)),rr(D>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,U,a,l,c,d,n);var V=!Array.isArray(g)&&Lr(g.type).endsWith("Chart");return I.Children.map(g,function(P){return I.isValidElement(P)?O.cloneElement(P,zc({width:D,height:U},V?{style:zc({height:"100%",width:"100%",maxHeight:U,maxWidth:D},P.props.style)}:{})):P})},[n,g,l,h,d,c,C,a]);return I.createElement("div",{id:y?"".concat(y):void 0,className:ve("recharts-responsive-container",w),style:zc(zc({},T),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:E},M)}),Xh=function(t){return null};Xh.displayName="Cell";function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function cS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(n),!0).forEach(function(r){aW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aW(e,t,n){return t=sW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sW(e){var t=lW(e,"string");return bu(t)=="symbol"?t:t+""}function lW(e,t){if(bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ea={widthCache:{},cacheCount:0},uW=2e3,cW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dS="recharts_measurement_span";function dW(e){var t=kv({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Ol=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||jo.isSsr)return{width:0,height:0};var r=dW(n),i=JSON.stringify({text:t,copyStyle:r});if(ea.widthCache[i])return ea.widthCache[i];try{var o=document.getElementById(dS);o||(o=document.createElement("span"),o.setAttribute("id",dS),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=kv(kv({},cW),r);Object.assign(o.style,a),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ea.widthCache[i]=l,++ea.cacheCount>uW&&(ea.cacheCount=0,ea.widthCache={}),l}catch{return{width:0,height:0}}},fW=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function hf(e,t){return gW(e)||mW(e,t)||pW(e,t)||hW()}function hW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pW(e,t){if(e){if(typeof e=="string")return fS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fS(e,t)}}function fS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function gW(e){if(Array.isArray(e))return e}function vW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bW(r.key),r)}}function yW(e,t,n){return t&&hS(e.prototype,t),n&&hS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bW(e){var t=xW(e,"string");return xu(t)=="symbol"?t:t+""}function xW(e,t){if(xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_W=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},SW=Object.keys(PI),wa="NaN";function EW(e,t){return e*PI[t]}var Vc=function(){function e(t,n){vW(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!wW.test(n)&&(this.num=NaN,this.unit=""),SW.includes(n)&&(this.num=EW(t,n),this.unit="px")}return yW(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=_W.exec(n))!==null&&r!==void 0?r:[],o=hf(i,3),a=o[1],s=o[2];return new e(parseFloat(a),s??"")}}])}();function II(e){if(e.includes(wa))return wa;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=pS.exec(t))!==null&&n!==void 0?n:[],i=hf(r,4),o=i[1],a=i[2],s=i[3],l=Vc.parse(o??""),u=Vc.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return wa;t=t.replace(pS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=mS.exec(t))!==null&&d!==void 0?d:[],g=hf(h,4),v=g[1],b=g[2],y=g[3],w=Vc.parse(v??""),x=Vc.parse(y??""),_=b==="+"?w.add(x):w.subtract(x);if(_.isNaN())return wa;t=t.replace(mS,_.toString())}return t}var gS=/\(([^()]*)\)/;function TW(e){for(var t=e;t.includes("(");){var n=gS.exec(t),r=hf(n,2),i=r[1];t=t.replace(gS,II(i))}return t}function kW(e){var t=e.replace(/\s+/g,"");return t=TW(t),t=II(t),t}function AW(e){try{return kW(e)}catch{return wa}}function Tm(e){var t=AW(e.slice(5,-1));return t===wa?"":t}var CW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],PW=["dx","dy","angle","className","breakAll"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Av.apply(this,arguments)}function vS(e,t){if(e==null)return{};var n=IW(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IW(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yS(e,t){return MW(e)||RW(e,t)||OW(e,t)||NW()}function NW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OW(e,t){if(e){if(typeof e=="string")return bS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bS(e,t)}}function bS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function MW(e){if(Array.isArray(e))return e}var NI=/[ \f\n\r\t\v\u2028\u2029]+/,OI=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];ge(n)||(r?o=n.toString().split(""):o=n.toString().split(NI));var a=o.map(function(l){return{word:l,width:Ol(l,i).width}}),s=r?0:Ol("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},$W=function(t,n,r,i,o){var a=t.maxLines,s=t.children,l=t.style,u=t.breakAll,c=W(a),d=s,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(U,V){var P=V.word,j=V.width,z=U[U.length-1];if(z&&(i==null||o||z.width+j+r<Number(i)))z.words.push(P),z.width+=j+r;else{var Y={words:[P],width:j};U.push(Y)}return U},[])},g=h(n),v=function(D){return D.reduce(function(U,V){return U.width>V.width?U:V})};if(!c)return g;for(var b="",y=function(D){var U=d.slice(0,D),V=OI({breakAll:u,style:l,children:U+b}).wordsWithComputedWidth,P=h(V),j=P.length>a||v(P).width>Number(i);return[j,P]},w=0,x=d.length-1,_=0,T;w<=x&&_<=d.length-1;){var E=Math.floor((w+x)/2),S=E-1,k=y(S),A=yS(k,2),C=A[0],N=A[1],R=y(E),M=yS(R,1),L=M[0];if(!C&&!L&&(w=E+1),C&&L&&(x=E-1),!C&&L){T=N;break}_++}return T||g},xS=function(t){var n=ge(t)?[]:t.toString().split(NI);return[{words:n}]},DW=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,a=t.breakAll,s=t.maxLines;if((n||r)&&!jo.isSsr){var l,u,c=OI({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return xS(i);return $W({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return xS(i)},wS="#808080",Io=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.lineHeight,s=a===void 0?"1em":a,l=t.capHeight,u=l===void 0?"0.71em":l,c=t.scaleToFit,d=c===void 0?!1:c,h=t.textAnchor,g=h===void 0?"start":h,v=t.verticalAnchor,b=v===void 0?"end":v,y=t.fill,w=y===void 0?wS:y,x=vS(t,CW),_=O.useMemo(function(){return DW({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),T=x.dx,E=x.dy,S=x.angle,k=x.className,A=x.breakAll,C=vS(x,PW);if(!wt(r)||!wt(o))return null;var N=r+(W(T)?T:0),R=o+(W(E)?E:0),M;switch(b){case"start":M=Tm("calc(".concat(u,")"));break;case"middle":M=Tm("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:M=Tm("calc(".concat(_.length-1," * -").concat(s,")"));break}var L=[];if(d){var $=_[0].width,D=x.width;L.push("scale(".concat((W(D)?D/$:1)/$,")"))}return S&&L.push("rotate(".concat(S,", ").concat(N,", ").concat(R,")")),L.length&&(C.transform=L.join(" ")),I.createElement("text",Av({},ae(C,!0),{x:N,y:R,className:ve("recharts-text",k),textAnchor:g,fill:w.includes("url")?wS:w}),_.map(function(U,V){var P=U.words.join(A?"":" ");return I.createElement("tspan",{x:N,dy:V===0?M:s,key:"".concat(P,"-").concat(V)},P)}))};function Ni(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mb(e){let t,n,r;e.length!==2?(t=Ni,n=(s,l)=>Ni(e(s),l),r=(s,l)=>e(s)-l):(t=e===Ni||e===jW?e:LW,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function LW(){return 0}function RI(e){return e===null?NaN:+e}function*UW(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const FW=mb(Ni),ic=FW.right;mb(RI).center;class _S extends Map{constructor(t,n=VW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(SS(this,t))}has(t){return super.has(SS(this,t))}set(t,n){return super.set(BW(this,t),n)}delete(t){return super.delete(zW(this,t))}}function SS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function BW({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function zW({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function VW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function qW(e=Ni){if(e===Ni)return MI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function MI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const GW=Math.sqrt(50),HW=Math.sqrt(10),WW=Math.sqrt(2);function pf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=GW?10:o>=HW?5:o>=WW?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?pf(e,t,n*2):[s,l,u]}function Cv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?pf(t,e,n):pf(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Pv(e,t,n){return t=+t,e=+e,n=+n,pf(e,t,n)[2]}function Iv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Pv(t,e,n):Pv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ES(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function TS(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $I(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?MI:qW(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(t-u*d/l+h)),v=Math.min(r,Math.floor(t+(l-u)*d/l+h));$I(e,t,g,v,i)}const o=e[t];let a=n,s=r;for(rl(e,n,t),i(e[r],o)>0&&rl(e,n,r);a<s;){for(rl(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?rl(e,n,s):(++s,rl(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function rl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function KW(e,t,n){if(e=Float64Array.from(UW(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return TS(e);if(t>=1)return ES(e);var r,i=(r-1)*t,o=Math.floor(i),a=ES($I(e,o).subarray(0,o+1)),s=TS(e.subarray(o+1));return a+(s-a)*(i-o)}}function JW(e,t,n=RI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function YW(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Vn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Nv=Symbol("implicit");function gb(){var e=new _S,t=[],n=[],r=Nv;function i(o){let a=e.get(o);if(a===void 0){if(r!==Nv)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new _S;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return gb(t,n).unknown(r)},Vn.apply(i,arguments),i}function wu(){var e=gb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var h=t().length,g=i<r,v=g?i:r,b=g?r:i;o=(b-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(b-v-o*(h-l))*c,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var y=YW(h).map(function(w){return v+o*w});return n(g?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return wu(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Vn.apply(d(),arguments)}function DI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DI(t())},e}function Rl(){return DI(wu.apply(null,arguments).paddingInner(1))}function vb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jI(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function oc(){}var _u=.7,mf=1/_u,Da="\\s*([+-]?\\d+)\\s*",Su="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XW=/^#([0-9a-f]{3,8})$/,QW=new RegExp(`^rgb\\(${Da},${Da},${Da}\\)$`),ZW=new RegExp(`^rgb\\(${yr},${yr},${yr}\\)$`),e7=new RegExp(`^rgba\\(${Da},${Da},${Da},${Su}\\)$`),t7=new RegExp(`^rgba\\(${yr},${yr},${yr},${Su}\\)$`),n7=new RegExp(`^hsl\\(${Su},${yr},${yr}\\)$`),r7=new RegExp(`^hsla\\(${Su},${yr},${yr},${Su}\\)$`),kS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vb(oc,Eu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:AS,formatHex:AS,formatHex8:i7,formatHsl:o7,formatRgb:CS,toString:CS});function AS(){return this.rgb().formatHex()}function i7(){return this.rgb().formatHex8()}function o7(){return LI(this).formatHsl()}function CS(){return this.rgb().formatRgb()}function Eu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=XW.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?PS(t):n===3?new sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?qc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?qc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QW.exec(e))?new sn(t[1],t[2],t[3],1):(t=ZW.exec(e))?new sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=e7.exec(e))?qc(t[1],t[2],t[3],t[4]):(t=t7.exec(e))?qc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=n7.exec(e))?OS(t[1],t[2]/100,t[3]/100,1):(t=r7.exec(e))?OS(t[1],t[2]/100,t[3]/100,t[4]):kS.hasOwnProperty(e)?PS(kS[e]):e==="transparent"?new sn(NaN,NaN,NaN,0):null}function PS(e){return new sn(e>>16&255,e>>8&255,e&255,1)}function qc(e,t,n,r){return r<=0&&(e=t=n=NaN),new sn(e,t,n,r)}function a7(e){return e instanceof oc||(e=Eu(e)),e?(e=e.rgb(),new sn(e.r,e.g,e.b,e.opacity)):new sn}function Ov(e,t,n,r){return arguments.length===1?a7(e):new sn(e,t,n,r??1)}function sn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vb(sn,Ov,jI(oc,{brighter(e){return e=e==null?mf:Math.pow(mf,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_u:Math.pow(_u,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sn(wo(this.r),wo(this.g),wo(this.b),gf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IS,formatHex:IS,formatHex8:s7,formatRgb:NS,toString:NS}));function IS(){return`#${po(this.r)}${po(this.g)}${po(this.b)}`}function s7(){return`#${po(this.r)}${po(this.g)}${po(this.b)}${po((isNaN(this.opacity)?1:this.opacity)*255)}`}function NS(){const e=gf(this.opacity);return`${e===1?"rgb(":"rgba("}${wo(this.r)}, ${wo(this.g)}, ${wo(this.b)}${e===1?")":`, ${e})`}`}function gf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function po(e){return e=wo(e),(e<16?"0":"")+e.toString(16)}function OS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new er(e,t,n,r)}function LI(e){if(e instanceof er)return new er(e.h,e.s,e.l,e.opacity);if(e instanceof oc||(e=Eu(e)),!e)return new er;if(e instanceof er)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new er(a,s,l,e.opacity)}function l7(e,t,n,r){return arguments.length===1?LI(e):new er(e,t,n,r??1)}function er(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vb(er,l7,jI(oc,{brighter(e){return e=e==null?mf:Math.pow(mf,e),new er(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_u:Math.pow(_u,e),new er(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new sn(km(e>=240?e-240:e+120,i,r),km(e,i,r),km(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new er(RS(this.h),Gc(this.s),Gc(this.l),gf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gf(this.opacity);return`${e===1?"hsl(":"hsla("}${RS(this.h)}, ${Gc(this.s)*100}%, ${Gc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RS(e){return e=(e||0)%360,e<0?e+360:e}function Gc(e){return Math.max(0,Math.min(1,e||0))}function km(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const yb=e=>()=>e;function u7(e,t){return function(n){return e+n*t}}function c7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function d7(e){return(e=+e)==1?UI:function(t,n){return n-t?c7(t,n,e):yb(isNaN(t)?n:t)}}function UI(e,t){var n=t-e;return n?u7(e,n):yb(isNaN(e)?t:e)}const MS=function e(t){var n=d7(t);function r(i,o){var a=n((i=Ov(i)).r,(o=Ov(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=UI(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function f7(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function h7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function p7(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=$s(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function m7(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function vf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function g7(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=$s(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Rv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Am=new RegExp(Rv.source,"g");function v7(e){return function(){return e}}function y7(e){return function(t){return e(t)+""}}function b7(e,t){var n=Rv.lastIndex=Am.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Rv.exec(e))&&(i=Am.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:vf(r,i)})),n=Am.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?y7(l[0].x):v7(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function $s(e,t){var n=typeof t,r;return t==null||n==="boolean"?yb(t):(n==="number"?vf:n==="string"?(r=Eu(t))?(t=r,MS):b7:t instanceof Eu?MS:t instanceof Date?m7:h7(t)?f7:Array.isArray(t)?p7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?g7:vf)(e,t)}function bb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function x7(e,t){t===void 0&&(t=e,e=$s);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function w7(e){return function(){return e}}function yf(e){return+e}var $S=[0,1];function Qt(e){return e}function Mv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:w7(isNaN(t)?NaN:.5)}function _7(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function S7(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Mv(i,r),o=n(a,o)):(r=Mv(r,i),o=n(o,a)),function(s){return o(r(s))}}function E7(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Mv(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=ic(e,s,1,r)-1;return o[l](i[l](s))}}function ac(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Qh(){var e=$S,t=$S,n=$s,r,i,o,a=Qt,s,l,u;function c(){var h=Math.min(e.length,t.length);return a!==Qt&&(a=_7(e[0],e[h-1])),s=h>2?E7:S7,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(r),t,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(t,e.map(r),vf)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,yf),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=bb,c()},d.clamp=function(h){return arguments.length?(a=h?!0:Qt,c()):a!==Qt},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,g){return r=h,i=g,c()}}function xb(){return Qh()(Qt,Qt)}function T7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bf(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function es(e){return e=bf(Math.abs(e)),e?e[1]:NaN}function k7(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function A7(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var C7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tu(e){if(!(t=C7.exec(e)))throw new Error("invalid format: "+e);var t;return new wb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tu.prototype=wb.prototype;function wb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function P7(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var xf;function I7(e,t){var n=bf(e,t);if(!n)return xf=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(xf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bf(e,Math.max(0,t+o-1))[0]}function DS(e,t){var n=bf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const jS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:T7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>DS(e*100,t),r:DS,s:I7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function LS(e){return e}var US=Array.prototype.map,FS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function N7(e){var t=e.grouping===void 0||e.thousands===void 0?LS:k7(US.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?LS:A7(US.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d,h){d=Tu(d);var g=d.fill,v=d.align,b=d.sign,y=d.symbol,w=d.zero,x=d.width,_=d.comma,T=d.precision,E=d.trim,S=d.type;S==="n"?(_=!0,S="g"):jS[S]||(T===void 0&&(T=12),E=!0,S="g"),(w||g==="0"&&v==="=")&&(w=!0,g="0",v="=");var k=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),A=(y==="$"?r:/[%p]/.test(S)?a:"")+(h&&h.suffix!==void 0?h.suffix:""),C=jS[S],N=/[defgprs%]/.test(S);T=T===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function R(M){var L=k,$=A,D,U,V;if(S==="c")$=C(M)+$,M="";else{M=+M;var P=M<0||1/M<0;if(M=isNaN(M)?l:C(Math.abs(M),T),E&&(M=P7(M)),P&&+M==0&&b!=="+"&&(P=!1),L=(P?b==="("?b:s:b==="-"||b==="("?"":b)+L,$=(S==="s"&&!isNaN(M)&&xf!==void 0?FS[8+xf/3]:"")+$+(P&&b==="("?")":""),N){for(D=-1,U=M.length;++D<U;)if(V=M.charCodeAt(D),48>V||V>57){$=(V===46?i+M.slice(D+1):M.slice(D))+$,M=M.slice(0,D);break}}}_&&!w&&(M=t(M,1/0));var j=L.length+M.length+$.length,z=j<x?new Array(x-j+1).join(g):"";switch(_&&w&&(M=t(z+M,z.length?x-$.length:1/0),z=""),v){case"<":M=L+M+$+z;break;case"=":M=L+z+M+$;break;case"^":M=z.slice(0,j=z.length>>1)+L+M+$+z.slice(j);break;default:M=z+L+M+$;break}return o(M)}return R.toString=function(){return d+""},R}function c(d,h){var g=Math.max(-8,Math.min(8,Math.floor(es(h)/3)))*3,v=Math.pow(10,-g),b=u((d=Tu(d),d.type="f",d),{suffix:FS[8+g/3]});return function(y){return b(v*y)}}return{format:u,formatPrefix:c}}var Hc,_b,FI;O7({thousands:",",grouping:[3],currency:["$",""]});function O7(e){return Hc=N7(e),_b=Hc.format,FI=Hc.formatPrefix,Hc}function R7(e){return Math.max(0,-es(Math.abs(e)))}function M7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(es(t)/3)))*3-es(Math.abs(e)))}function $7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,es(t)-es(e))+1}function BI(e,t,n,r){var i=Iv(e,t,n),o;switch(r=Tu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=M7(i,a))&&(r.precision=o),FI(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=$7(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=R7(i))&&(r.precision=o-(r.type==="%")*2);break}}return _b(r)}function Li(e){var t=e.domain;return e.ticks=function(n){var r=t();return Cv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return BI(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Pv(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function wf(){var e=xb();return e.copy=function(){return ac(e,wf())},Vn.apply(e,arguments),Li(e)}function zI(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,yf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return zI(e).unknown(t)},e=arguments.length?Array.from(e,yf):[0,1],Li(n)}function VI(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function BS(e){return Math.log(e)}function zS(e){return Math.exp(e)}function D7(e){return-Math.log(-e)}function j7(e){return-Math.exp(-e)}function L7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function U7(e){return e===10?L7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function F7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function VS(e){return(t,n)=>-e(-t,n)}function Sb(e){const t=e(BS,zS),n=t.domain;let r=10,i,o;function a(){return i=F7(r),o=U7(r),n()[0]<0?(i=VS(i),o=VS(o),e(D7,j7)):e(BS,zS),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),g=i(c),v,b;const y=s==null?10:+s;let w=[];if(!(r%1)&&g-h<y){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<r;++v)if(b=h<0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;w.push(b)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;w.push(b)}w.length*2<y&&(w=Cv(u,c,y))}else w=Cv(h,g,Math.min(g-h,y)).map(o);return d?w.reverse():w},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Tu(l)).precision==null&&(l.trim=!0),l=_b(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(VI(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function qI(){const e=Sb(Qh()).domain([1,10]);return e.copy=()=>ac(e,qI()).base(e.base()),Vn.apply(e,arguments),e}function qS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function GS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Eb(e){var t=1,n=e(qS(t),GS(t));return n.constant=function(r){return arguments.length?e(qS(t=+r),GS(t)):t},Li(n)}function GI(){var e=Eb(Qh());return e.copy=function(){return ac(e,GI()).constant(e.constant())},Vn.apply(e,arguments)}function HS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function B7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function z7(e){return e<0?-e*e:e*e}function Tb(e){var t=e(Qt,Qt),n=1;function r(){return n===1?e(Qt,Qt):n===.5?e(B7,z7):e(HS(n),HS(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Li(t)}function kb(){var e=Tb(Qh());return e.copy=function(){return ac(e,kb()).exponent(e.exponent())},Vn.apply(e,arguments),e}function V7(){return kb.apply(null,arguments).exponent(.5)}function WS(e){return Math.sign(e)*e*e}function q7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function HI(){var e=xb(),t=[0,1],n=!1,r;function i(o){var a=q7(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(WS(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,yf)).map(WS)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return HI(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Vn.apply(i,arguments),Li(i)}function WI(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=JW(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[ic(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ni),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return WI().domain(e).range(t).unknown(r)},Vn.apply(o,arguments)}function KI(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[ic(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return KI().domain([e,t]).range(i).unknown(o)},Vn.apply(Li(a),arguments)}function JI(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[ic(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return JI().domain(e).range(t).unknown(n)},Vn.apply(i,arguments)}const Cm=new Date,Pm=new Date;function _t(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return l},i.filter=o=>_t(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(Cm.setTime(+o),Pm.setTime(+a),e(Cm),e(Pm),Math.floor(n(Cm,Pm))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const _f=_t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_f.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_t(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):_f);_f.range;const Mr=1e3,Mn=Mr*60,$r=Mn*60,Gr=$r*24,Ab=Gr*7,KS=Gr*30,Im=Gr*365,mo=_t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Mr)},(e,t)=>(t-e)/Mr,e=>e.getUTCSeconds());mo.range;const Cb=_t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mr)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getMinutes());Cb.range;const Pb=_t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getUTCMinutes());Pb.range;const Ib=_t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Mr-e.getMinutes()*Mn)},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getHours());Ib.range;const Nb=_t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getUTCHours());Nb.range;const sc=_t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mn)/Gr,e=>e.getDate()-1);sc.range;const Zh=_t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gr,e=>e.getUTCDate()-1);Zh.range;const YI=_t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gr,e=>Math.floor(e/Gr));YI.range;function Lo(e){return _t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Mn)/Ab)}const ep=Lo(0),Sf=Lo(1),G7=Lo(2),H7=Lo(3),ts=Lo(4),W7=Lo(5),K7=Lo(6);ep.range;Sf.range;G7.range;H7.range;ts.range;W7.range;K7.range;function Uo(e){return _t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ab)}const tp=Uo(0),Ef=Uo(1),J7=Uo(2),Y7=Uo(3),ns=Uo(4),X7=Uo(5),Q7=Uo(6);tp.range;Ef.range;J7.range;Y7.range;ns.range;X7.range;Q7.range;const Ob=_t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ob.range;const Rb=_t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Rb.range;const Hr=_t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Hr.range;const Wr=_t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Wr.range;function XI(e,t,n,r,i,o){const a=[[mo,1,Mr],[mo,5,5*Mr],[mo,15,15*Mr],[mo,30,30*Mr],[o,1,Mn],[o,5,5*Mn],[o,15,15*Mn],[o,30,30*Mn],[i,1,$r],[i,3,3*$r],[i,6,6*$r],[i,12,12*$r],[r,1,Gr],[r,2,2*Gr],[n,1,Ab],[t,1,KS],[t,3,3*KS],[e,1,Im]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const g=d&&typeof d.range=="function"?d:l(u,c,d),v=g?g.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,d){const h=Math.abs(c-u)/d,g=mb(([,,y])=>y).right(a,h);if(g===a.length)return e.every(Iv(u/Im,c/Im,d));if(g===0)return _f.every(Math.max(Iv(u,c,d),1));const[v,b]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return v.every(b)}return[s,l]}const[Z7,eK]=XI(Wr,Rb,tp,YI,Nb,Pb),[tK,nK]=XI(Hr,Ob,ep,sc,Ib,Cb);function Nm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Om(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function il(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function rK(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=ol(i),c=al(i),d=ol(o),h=al(o),g=ol(a),v=al(a),b=ol(s),y=al(s),w=ol(l),x=al(l),_={a:V,A:P,b:j,B:z,c:null,d:e1,e:e1,f:kK,g:DK,G:LK,H:SK,I:EK,j:TK,L:QI,m:AK,M:CK,p:Y,q:H,Q:r1,s:i1,S:PK,u:IK,U:NK,V:OK,w:RK,W:MK,x:null,X:null,y:$K,Y:jK,Z:UK,"%":n1},T={a:ie,A:he,b:ye,B:Fe,c:null,d:t1,e:t1,f:VK,g:ZK,G:tJ,H:FK,I:BK,j:zK,L:eN,m:qK,M:GK,p:Ot,q:_e,Q:r1,s:i1,S:HK,u:WK,U:KK,V:JK,w:YK,W:XK,x:null,X:null,y:QK,Y:eJ,Z:nJ,"%":n1},E={a:N,A:R,b:M,B:L,c:$,d:QS,e:QS,f:bK,g:XS,G:YS,H:ZS,I:ZS,j:mK,L:yK,m:pK,M:gK,p:C,q:hK,Q:wK,s:_K,S:vK,u:lK,U:uK,V:cK,w:sK,W:dK,x:D,X:U,y:XS,Y:YS,Z:fK,"%":xK};_.x=S(n,_),_.X=S(r,_),_.c=S(t,_),T.x=S(n,T),T.X=S(r,T),T.c=S(t,T);function S(X,de){return function(me){var G=[],Ie=-1,be=0,Ee=X.length,Ye,st,Ht;for(me instanceof Date||(me=new Date(+me));++Ie<Ee;)X.charCodeAt(Ie)===37&&(G.push(X.slice(be,Ie)),(st=JS[Ye=X.charAt(++Ie)])!=null?Ye=X.charAt(++Ie):st=Ye==="e"?" ":"0",(Ht=de[Ye])&&(Ye=Ht(me,st)),G.push(Ye),be=Ie+1);return G.push(X.slice(be,Ie)),G.join("")}}function k(X,de){return function(me){var G=il(1900,void 0,1),Ie=A(G,X,me+="",0),be,Ee;if(Ie!=me.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(de&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(be=Om(il(G.y,0,1)),Ee=be.getUTCDay(),be=Ee>4||Ee===0?Ef.ceil(be):Ef(be),be=Zh.offset(be,(G.V-1)*7),G.y=be.getUTCFullYear(),G.m=be.getUTCMonth(),G.d=be.getUTCDate()+(G.w+6)%7):(be=Nm(il(G.y,0,1)),Ee=be.getDay(),be=Ee>4||Ee===0?Sf.ceil(be):Sf(be),be=sc.offset(be,(G.V-1)*7),G.y=be.getFullYear(),G.m=be.getMonth(),G.d=be.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Ee="Z"in G?Om(il(G.y,0,1)).getUTCDay():Nm(il(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Ee+5)%7:G.w+G.U*7-(Ee+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,Om(G)):Nm(G)}}function A(X,de,me,G){for(var Ie=0,be=de.length,Ee=me.length,Ye,st;Ie<be;){if(G>=Ee)return-1;if(Ye=de.charCodeAt(Ie++),Ye===37){if(Ye=de.charAt(Ie++),st=E[Ye in JS?de.charAt(Ie++):Ye],!st||(G=st(X,me,G))<0)return-1}else if(Ye!=me.charCodeAt(G++))return-1}return G}function C(X,de,me){var G=u.exec(de.slice(me));return G?(X.p=c.get(G[0].toLowerCase()),me+G[0].length):-1}function N(X,de,me){var G=g.exec(de.slice(me));return G?(X.w=v.get(G[0].toLowerCase()),me+G[0].length):-1}function R(X,de,me){var G=d.exec(de.slice(me));return G?(X.w=h.get(G[0].toLowerCase()),me+G[0].length):-1}function M(X,de,me){var G=w.exec(de.slice(me));return G?(X.m=x.get(G[0].toLowerCase()),me+G[0].length):-1}function L(X,de,me){var G=b.exec(de.slice(me));return G?(X.m=y.get(G[0].toLowerCase()),me+G[0].length):-1}function $(X,de,me){return A(X,t,de,me)}function D(X,de,me){return A(X,n,de,me)}function U(X,de,me){return A(X,r,de,me)}function V(X){return a[X.getDay()]}function P(X){return o[X.getDay()]}function j(X){return l[X.getMonth()]}function z(X){return s[X.getMonth()]}function Y(X){return i[+(X.getHours()>=12)]}function H(X){return 1+~~(X.getMonth()/3)}function ie(X){return a[X.getUTCDay()]}function he(X){return o[X.getUTCDay()]}function ye(X){return l[X.getUTCMonth()]}function Fe(X){return s[X.getUTCMonth()]}function Ot(X){return i[+(X.getUTCHours()>=12)]}function _e(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var de=S(X+="",_);return de.toString=function(){return X},de},parse:function(X){var de=k(X+="",!1);return de.toString=function(){return X},de},utcFormat:function(X){var de=S(X+="",T);return de.toString=function(){return X},de},utcParse:function(X){var de=k(X+="",!0);return de.toString=function(){return X},de}}}var JS={"-":"",_:" ",0:"0"},It=/^\s*\d+/,iK=/^%/,oK=/[\\^$*+?|[\]().{}]/g;function ke(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function aK(e){return e.replace(oK,"\\$&")}function ol(e){return new RegExp("^(?:"+e.map(aK).join("|")+")","i")}function al(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function sK(e,t,n){var r=It.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function lK(e,t,n){var r=It.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function dK(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function YS(e,t,n){var r=It.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function XS(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hK(e,t,n){var r=It.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function pK(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function QS(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=It.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ZS(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function gK(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function vK(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yK(e,t,n){var r=It.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function bK(e,t,n){var r=It.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xK(e,t,n){var r=iK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function wK(e,t,n){var r=It.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function _K(e,t,n){var r=It.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function e1(e,t){return ke(e.getDate(),t,2)}function SK(e,t){return ke(e.getHours(),t,2)}function EK(e,t){return ke(e.getHours()%12||12,t,2)}function TK(e,t){return ke(1+sc.count(Hr(e),e),t,3)}function QI(e,t){return ke(e.getMilliseconds(),t,3)}function kK(e,t){return QI(e,t)+"000"}function AK(e,t){return ke(e.getMonth()+1,t,2)}function CK(e,t){return ke(e.getMinutes(),t,2)}function PK(e,t){return ke(e.getSeconds(),t,2)}function IK(e){var t=e.getDay();return t===0?7:t}function NK(e,t){return ke(ep.count(Hr(e)-1,e),t,2)}function ZI(e){var t=e.getDay();return t>=4||t===0?ts(e):ts.ceil(e)}function OK(e,t){return e=ZI(e),ke(ts.count(Hr(e),e)+(Hr(e).getDay()===4),t,2)}function RK(e){return e.getDay()}function MK(e,t){return ke(Sf.count(Hr(e)-1,e),t,2)}function $K(e,t){return ke(e.getFullYear()%100,t,2)}function DK(e,t){return e=ZI(e),ke(e.getFullYear()%100,t,2)}function jK(e,t){return ke(e.getFullYear()%1e4,t,4)}function LK(e,t){var n=e.getDay();return e=n>=4||n===0?ts(e):ts.ceil(e),ke(e.getFullYear()%1e4,t,4)}function UK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ke(t/60|0,"0",2)+ke(t%60,"0",2)}function t1(e,t){return ke(e.getUTCDate(),t,2)}function FK(e,t){return ke(e.getUTCHours(),t,2)}function BK(e,t){return ke(e.getUTCHours()%12||12,t,2)}function zK(e,t){return ke(1+Zh.count(Wr(e),e),t,3)}function eN(e,t){return ke(e.getUTCMilliseconds(),t,3)}function VK(e,t){return eN(e,t)+"000"}function qK(e,t){return ke(e.getUTCMonth()+1,t,2)}function GK(e,t){return ke(e.getUTCMinutes(),t,2)}function HK(e,t){return ke(e.getUTCSeconds(),t,2)}function WK(e){var t=e.getUTCDay();return t===0?7:t}function KK(e,t){return ke(tp.count(Wr(e)-1,e),t,2)}function tN(e){var t=e.getUTCDay();return t>=4||t===0?ns(e):ns.ceil(e)}function JK(e,t){return e=tN(e),ke(ns.count(Wr(e),e)+(Wr(e).getUTCDay()===4),t,2)}function YK(e){return e.getUTCDay()}function XK(e,t){return ke(Ef.count(Wr(e)-1,e),t,2)}function QK(e,t){return ke(e.getUTCFullYear()%100,t,2)}function ZK(e,t){return e=tN(e),ke(e.getUTCFullYear()%100,t,2)}function eJ(e,t){return ke(e.getUTCFullYear()%1e4,t,4)}function tJ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ns(e):ns.ceil(e),ke(e.getUTCFullYear()%1e4,t,4)}function nJ(){return"+0000"}function n1(){return"%"}function r1(e){return+e}function i1(e){return Math.floor(+e/1e3)}var ta,nN,rN;rJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rJ(e){return ta=rK(e),nN=ta.format,ta.parse,rN=ta.utcFormat,ta.utcParse,ta}function iJ(e){return new Date(e)}function oJ(e){return e instanceof Date?+e:+new Date(+e)}function Mb(e,t,n,r,i,o,a,s,l,u){var c=xb(),d=c.invert,h=c.domain,g=u(".%L"),v=u(":%S"),b=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),x=u("%b %d"),_=u("%B"),T=u("%Y");function E(S){return(l(S)<S?g:s(S)<S?v:a(S)<S?b:o(S)<S?y:r(S)<S?i(S)<S?w:x:n(S)<S?_:T)(S)}return c.invert=function(S){return new Date(d(S))},c.domain=function(S){return arguments.length?h(Array.from(S,oJ)):h().map(iJ)},c.ticks=function(S){var k=h();return e(k[0],k[k.length-1],S??10)},c.tickFormat=function(S,k){return k==null?E:u(k)},c.nice=function(S){var k=h();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S??10)),S?h(VI(k,S)):c},c.copy=function(){return ac(c,Mb(e,t,n,r,i,o,a,s,l,u))},c}function aJ(){return Vn.apply(Mb(tK,nK,Hr,Ob,ep,sc,Ib,Cb,mo,nN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sJ(){return Vn.apply(Mb(Z7,eK,Wr,Rb,tp,Zh,Nb,Pb,mo,rN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function np(){var e=0,t=1,n,r,i,o,a=Qt,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var g,v;return arguments.length?([g,v]=h,a=d(g,v),u):[a(0),a(1)]}}return u.range=c($s),u.rangeRound=c(bb),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function Ui(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iN(){var e=Li(np()(Qt));return e.copy=function(){return Ui(e,iN())},Zr.apply(e,arguments)}function oN(){var e=Sb(np()).domain([1,10]);return e.copy=function(){return Ui(e,oN()).base(e.base())},Zr.apply(e,arguments)}function aN(){var e=Eb(np());return e.copy=function(){return Ui(e,aN()).constant(e.constant())},Zr.apply(e,arguments)}function $b(){var e=Tb(np());return e.copy=function(){return Ui(e,$b()).exponent(e.exponent())},Zr.apply(e,arguments)}function lJ(){return $b.apply(null,arguments).exponent(.5)}function sN(){var e=[],t=Qt;function n(r){if(r!=null&&!isNaN(r=+r))return t((ic(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ni),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>KW(e,o/r))},n.copy=function(){return sN(t).domain(e)},Zr.apply(n,arguments)}function rp(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,u=Qt,c,d=!1,h;function g(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-o)*(r*b<r*o?s:l),u(d?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([e,t,n]=b,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[e,t,n]},g.clamp=function(b){return arguments.length?(d=!!b,g):d},g.interpolator=function(b){return arguments.length?(u=b,g):u};function v(b){return function(y){var w,x,_;return arguments.length?([w,x,_]=y,u=x7(b,[w,x,_]),g):[u(0),u(.5),u(1)]}}return g.range=v($s),g.rangeRound=v(bb),g.unknown=function(b){return arguments.length?(h=b,g):h},function(b){return c=b,i=b(e),o=b(t),a=b(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function lN(){var e=Li(rp()(Qt));return e.copy=function(){return Ui(e,lN())},Zr.apply(e,arguments)}function uN(){var e=Sb(rp()).domain([.1,1,10]);return e.copy=function(){return Ui(e,uN()).base(e.base())},Zr.apply(e,arguments)}function cN(){var e=Eb(rp());return e.copy=function(){return Ui(e,cN()).constant(e.constant())},Zr.apply(e,arguments)}function Db(){var e=Tb(rp());return e.copy=function(){return Ui(e,Db()).exponent(e.exponent())},Zr.apply(e,arguments)}function uJ(){return Db.apply(null,arguments).exponent(.5)}const o1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wu,scaleDiverging:lN,scaleDivergingLog:uN,scaleDivergingPow:Db,scaleDivergingSqrt:uJ,scaleDivergingSymlog:cN,scaleIdentity:zI,scaleImplicit:Nv,scaleLinear:wf,scaleLog:qI,scaleOrdinal:gb,scalePoint:Rl,scalePow:kb,scaleQuantile:WI,scaleQuantize:KI,scaleRadial:HI,scaleSequential:iN,scaleSequentialLog:oN,scaleSequentialPow:$b,scaleSequentialQuantile:sN,scaleSequentialSqrt:lJ,scaleSequentialSymlog:aN,scaleSqrt:V7,scaleSymlog:GI,scaleThreshold:JI,scaleTime:aJ,scaleUtc:sJ,tickFormat:BI},Symbol.toStringTag,{value:"Module"}));var cJ=Ts;function dJ(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(a!=null&&(s===void 0?a===a&&!cJ(a):n(a,s)))var s=a,l=o}return l}var ip=dJ;function fJ(e,t){return e>t}var dN=fJ,hJ=ip,pJ=dN,mJ=Ms;function gJ(e){return e&&e.length?hJ(e,mJ,pJ):void 0}var vJ=gJ;const bi=Oe(vJ);function yJ(e,t){return e<t}var fN=yJ,bJ=ip,xJ=fN,wJ=Ms;function _J(e){return e&&e.length?bJ(e,wJ,xJ):void 0}var SJ=_J;const op=Oe(SJ);var EJ=Y0,TJ=Sr,kJ=xI,AJ=dn;function CJ(e,t){var n=AJ(e)?EJ:kJ;return n(e,TJ(t))}var PJ=CJ,IJ=yI,NJ=PJ;function OJ(e,t){return IJ(NJ(e,t),1)}var RJ=OJ;const MJ=Oe(RJ);var $J=db;function DJ(e,t){return $J(e,t)}var jJ=DJ;const rs=Oe(jJ);var Ds=1e9,LJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Lb,Ze=!0,Un="[DecimalError] ",_o=Un+"Invalid argument: ",jb=Un+"Exponent out of range: ",js=Math.floor,ro=Math.pow,UJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yn,Tt=1e7,Ke=7,hN=9007199254740991,Tf=js(hN/Ke),te={};te.absoluteValue=te.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};te.comparedTo=te.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};te.decimalPlaces=te.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ke;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};te.dividedBy=te.div=function(e){return Ur(this,new this.constructor(e))};te.dividedToIntegerBy=te.idiv=function(e){var t=this,n=t.constructor;return Ue(Ur(t,new n(e),0,1),n.precision)};te.equals=te.eq=function(e){return!this.cmp(e)};te.exponent=function(){return ht(this)};te.greaterThan=te.gt=function(e){return this.cmp(e)>0};te.greaterThanOrEqualTo=te.gte=function(e){return this.cmp(e)>=0};te.isInteger=te.isint=function(){return this.e>this.d.length-2};te.isNegative=te.isneg=function(){return this.s<0};te.isPositive=te.ispos=function(){return this.s>0};te.isZero=function(){return this.s===0};te.lessThan=te.lt=function(e){return this.cmp(e)<0};te.lessThanOrEqualTo=te.lte=function(e){return this.cmp(e)<1};te.logarithm=te.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(yn))throw Error(Un+"NaN");if(n.s<1)throw Error(Un+(n.s?"NaN":"-Infinity"));return n.eq(yn)?new r(0):(Ze=!1,t=Ur(ku(n,o),ku(e,o),o),Ze=!0,Ue(t,i))};te.minus=te.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gN(t,e):pN(t,(e.s=-e.s,e))};te.modulo=te.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Un+"NaN");return n.s?(Ze=!1,t=Ur(n,e,0,1).times(e),Ze=!0,n.minus(t)):Ue(new r(n),i)};te.naturalExponential=te.exp=function(){return mN(this)};te.naturalLogarithm=te.ln=function(){return ku(this)};te.negated=te.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};te.plus=te.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pN(t,e):gN(t,(e.s=-e.s,e))};te.precision=te.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_o+e);if(t=ht(i)+1,r=i.d.length-1,n=r*Ke+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};te.squareRoot=te.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Un+"NaN")}for(e=ht(s),Ze=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=pr(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=js((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Ur(s,o,a+2)).times(.5),pr(o.d).slice(0,a)===(t=pr(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Ue(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return Ze=!0,Ue(r,n)};te.times=te.mul=function(e){var t,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,g=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,n=c.e+e.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+t,o[i--]=s%Tt|0,t=s/Tt|0;o[i]=(o[i]+t)%Tt|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Ze?Ue(e,d.precision):e};te.toDecimalPlaces=te.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(xr(e,0,Ds),t===void 0?t=r.rounding:xr(t,0,8),Ue(n,e+ht(n)+1,t))};te.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=No(r,!0):(xr(e,0,Ds),t===void 0?t=i.rounding:xr(t,0,8),r=Ue(new i(r),e+1,t),n=No(r,!0,e+1)),n};te.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?No(i):(xr(e,0,Ds),t===void 0?t=o.rounding:xr(t,0,8),r=Ue(new o(i),e+ht(i)+1,t),n=No(r.abs(),!1,e+ht(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};te.toInteger=te.toint=function(){var e=this,t=e.constructor;return Ue(new t(e),ht(e)+1,t.rounding)};te.toNumber=function(){return+this};te.toPower=te.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(yn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Un+"Infinity");return s}if(s.eq(yn))return s;if(r=l.precision,e.eq(yn))return Ue(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=c<0?-c:c)<=hN){for(i=new l(yn),t=Math.ceil(r/Ke+4),Ze=!1;n%2&&(i=i.times(s),s1(i.d,t)),n=js(n/2),n!==0;)s=s.times(s),s1(s.d,t);return Ze=!0,e.s<0?new l(yn).div(i):Ue(i,r)}}else if(o<0)throw Error(Un+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,Ze=!1,i=e.times(ku(s,r+u)),Ze=!0,i=mN(i),i.s=o,i};te.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=ht(i),r=No(i,n<=o.toExpNeg||n>=o.toExpPos)):(xr(e,1,Ds),t===void 0?t=o.rounding:xr(t,0,8),i=Ue(new o(i),e,t),n=ht(i),r=No(i,e<=n||n<=o.toExpNeg,e)),r};te.toSignificantDigits=te.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(xr(e,1,Ds),t===void 0?t=r.rounding:xr(t,0,8)),Ue(new r(n),e,t)};te.toString=te.valueOf=te.val=te.toJSON=te[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ht(e),n=e.constructor;return No(e,t<=n.toExpNeg||t>=n.toExpPos)};function pN(e,t){var n,r,i,o,a,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Ze?Ue(t,d):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/Ke),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Tt|0,l[o]%=Tt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Ze?Ue(t,d):t}function xr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(_o+e)}function pr(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=Ke-r.length,n&&(o+=di(n)),o+=r;a=e[t],r=a+"",n=Ke-r.length,n&&(o+=di(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Ur=function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Tt|0,a=o/Tt|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Tt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,g,v,b,y,w,x,_,T,E,S,k,A,C=r.constructor,N=r.s==i.s?1:-1,R=r.d,M=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Un+"Division by zero");for(l=r.e-i.e,k=M.length,E=R.length,g=new C(N),v=g.d=[],u=0;M[u]==(R[u]||0);)++u;if(M[u]>(R[u]||0)&&--l,o==null?x=o=C.precision:a?x=o+(ht(r)-ht(i))+1:x=o,x<0)return new C(0);if(x=x/Ke+2|0,u=0,k==1)for(c=0,M=M[0],x++;(u<E||c)&&x--;u++)_=c*Tt+(R[u]||0),v[u]=_/M|0,c=_%M|0;else{for(c=Tt/(M[0]+1)|0,c>1&&(M=e(M,c),R=e(R,c),k=M.length,E=R.length),T=k,b=R.slice(0,k),y=b.length;y<k;)b[y++]=0;A=M.slice(),A.unshift(0),S=M[0],M[1]>=Tt/2&&++S;do c=0,s=t(M,b,k,y),s<0?(w=b[0],k!=y&&(w=w*Tt+(b[1]||0)),c=w/S|0,c>1?(c>=Tt&&(c=Tt-1),d=e(M,c),h=d.length,y=b.length,s=t(d,b,h,y),s==1&&(c--,n(d,k<h?A:M,h))):(c==0&&(s=c=1),d=M.slice()),h=d.length,h<y&&d.unshift(0),n(b,d,y),s==-1&&(y=b.length,s=t(M,b,k,y),s<1&&(c++,n(b,k<y?A:M,y))),y=b.length):s===0&&(c++,b=[0]),v[u++]=c,s&&b[0]?b[y++]=R[T]||0:(b=[R[T]],y=1);while((T++<E||b[0]!==void 0)&&x--)}return v[0]||v.shift(),g.e=l,Ue(g,a?o+ht(g)+1:o)}}();function mN(e,t){var n,r,i,o,a,s,l=0,u=0,c=e.constructor,d=c.precision;if(ht(e)>16)throw Error(jb+ht(e));if(!e.s)return new c(yn);for(Ze=!1,s=d,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log(ro(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(yn),c.precision=s;;){if(i=Ue(i.times(e),s),n=n.times(++l),a=o.plus(Ur(i,n,s)),pr(a.d).slice(0,s)===pr(o.d).slice(0,s)){for(;u--;)o=Ue(o.times(o),s);return c.precision=d,t==null?(Ze=!0,Ue(o,d)):o}o=a}}function ht(e){for(var t=e.e*Ke,n=e.d[0];n>=10;n/=10)t++;return t}function Rm(e,t,n){if(t>e.LN10.sd())throw Ze=!0,n&&(e.precision=n),Error(Un+"LN10 precision limit exceeded");return Ue(new e(e.LN10),t)}function di(e){for(var t="";e--;)t+="0";return t}function ku(e,t){var n,r,i,o,a,s,l,u,c,d=1,h=10,g=e,v=g.d,b=g.constructor,y=b.precision;if(g.s<1)throw Error(Un+(g.s?"NaN":"-Infinity"));if(g.eq(yn))return new b(0);if(t==null?(Ze=!1,u=y):u=t,g.eq(10))return t==null&&(Ze=!0),Rm(b,u);if(u+=h,b.precision=u,n=pr(v),r=n.charAt(0),o=ht(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(e),n=pr(g.d),r=n.charAt(0),d++;o=ht(g),r>1?(g=new b("0."+n),o++):g=new b(r+"."+n.slice(1))}else return l=Rm(b,u+2,y).times(o+""),g=ku(new b(r+"."+n.slice(1)),u-h).plus(l),b.precision=y,t==null?(Ze=!0,Ue(g,y)):g;for(s=a=g=Ur(g.minus(yn),g.plus(yn),u),c=Ue(g.times(g),u),i=3;;){if(a=Ue(a.times(c),u),l=s.plus(Ur(a,new b(i),u)),pr(l.d).slice(0,u)===pr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Rm(b,u+2,y).times(o+""))),s=Ur(s,new b(d),u),b.precision=y,t==null?(Ze=!0,Ue(s,y)):s;s=l,i+=2}}function a1(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=js(n/Ke),e.d=[],r=(n+1)%Ke,n<0&&(r+=Ke),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ke;r<i;)e.d.push(+t.slice(r,r+=Ke));t=t.slice(r),r=Ke-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ze&&(e.e>Tf||e.e<-Tf))throw Error(jb+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ue(e,t,n){var r,i,o,a,s,l,u,c,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=Ke,i=t,u=d[c=0];else{if(c=Math.ceil((r+1)/Ke),o=d.length,c>=o)return e;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=Ke,i=r-Ke+a}if(n!==void 0&&(o=ro(10,a-i-1),s=u/o%10|0,l=t<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/ro(10,a-i):0:d[c-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=ht(e),d.length=1,t=t-o-1,d[0]=ro(10,(Ke-t%Ke)%Ke),e.e=js(-t/Ke)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=ro(10,Ke-r),d[c]=i>0?(u/ro(10,a-i)%ro(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==Tt&&(d[0]=1,++e.e);break}else{if(d[c]+=o,d[c]!=Tt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Ze&&(e.e>Tf||e.e<-Tf))throw Error(jb+ht(e));return e}function gN(e,t){var n,r,i,o,a,s,l,u,c,d,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ze?Ue(t,g):t;if(l=e.d,d=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(g/Ke),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Tt-1;--l[o],l[i]+=Tt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Ze?Ue(t,g):t):new h(0)}function No(e,t,n){var r,i=ht(e),o=pr(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+di(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+di(-i-1)+o,n&&(r=n-a)>0&&(o+=di(r))):i>=a?(o+=di(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+di(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=di(r))),e.s<0?"-"+o:o}function s1(e,t){if(e.length>t)return e.length=t,!0}function vN(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(_o+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return a1(a,o.toString())}else if(typeof o!="string")throw Error(_o+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,UJ.test(o))a1(a,o);else throw Error(_o+o)}if(i.prototype=te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=vN,i.config=i.set=FJ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function FJ(e){if(!e||typeof e!="object")throw Error(Un+"Object expected");var t,n,r,i=["precision",1,Ds,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(js(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(_o+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(_o+n+": "+r);return this}var Lb=vN(LJ);yn=new Lb(1);const De=Lb;function BJ(e){return GJ(e)||qJ(e)||VJ(e)||zJ()}function zJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VJ(e,t){if(e){if(typeof e=="string")return $v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $v(e,t)}}function qJ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function GJ(e){if(Array.isArray(e))return $v(e)}function $v(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var HJ=function(t){return t},yN={},bN=function(t){return t===yN},l1=function(t){return function n(){return arguments.length===0||arguments.length===1&&bN(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},WJ=function e(t,n){return t===1?n:l1(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==yN}).length;return a>=t?n.apply(void 0,i):e(t-a,l1(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return bN(d)?l.shift():d});return n.apply(void 0,BJ(c).concat(l))}))})},ap=function(t){return WJ(t.length,t)},Dv=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},KJ=ap(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),JJ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return HJ;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},jv=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},xN=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=t.apply(void 0,o)),r}};function YJ(e){var t;return e===0?t=1:t=Math.floor(new De(e).abs().log(10).toNumber())+1,t}function XJ(e,t,n){for(var r=new De(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var QJ=ap(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),ZJ=ap(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),eY=ap(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const sp={rangeStep:XJ,getDigitCount:YJ,interpolateNumber:QJ,uninterpolateNumber:ZJ,uninterpolateTruncation:eY};function Lv(e){return rY(e)||nY(e)||wN(e)||tY()}function tY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nY(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function rY(e){if(Array.isArray(e))return Uv(e)}function Au(e,t){return aY(e)||oY(e,t)||wN(e,t)||iY()}function iY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wN(e,t){if(e){if(typeof e=="string")return Uv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uv(e,t)}}function Uv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oY(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function aY(e){if(Array.isArray(e))return e}function _N(e){var t=Au(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function SN(e,t,n){if(e.lte(0))return new De(0);var r=sp.getDigitCount(e.toNumber()),i=new De(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new De(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?l:new De(Math.ceil(l))}function sY(e,t,n){var r=1,i=new De(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new De(10).pow(sp.getDigitCount(e)-1),i=new De(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new De(Math.floor(e)))}else e===0?i=new De(Math.floor((t-1)/2)):n||(i=new De(Math.floor(e)));var a=Math.floor((t-1)/2),s=JJ(KJ(function(l){return i.add(new De(l-a).mul(r)).toNumber()}),Dv);return s(0,t)}function EN(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new De(0),tickMin:new De(0),tickMax:new De(0)};var o=SN(new De(t).sub(e).div(n-1),r,i),a;e<=0&&t>=0?a=new De(0):(a=new De(e).add(t).div(2),a=a.sub(new De(a).mod(o)));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new De(t).sub(a).div(o).toNumber()),u=s+l+1;return u>n?EN(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:o,tickMin:a.sub(new De(s).mul(o)),tickMax:a.add(new De(l).mul(o))})}function lY(e){var t=Au(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=_N([n,r]),l=Au(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Lv(Dv(0,i-1).map(function(){return 1/0}))):[].concat(Lv(Dv(0,i-1).map(function(){return-1/0})),[c]);return n>r?jv(d):d}if(u===c)return sY(u,i,o);var h=EN(u,c,a,o),g=h.step,v=h.tickMin,b=h.tickMax,y=sp.rangeStep(v,b.add(new De(.1).mul(g)),g);return n>r?jv(y):y}function uY(e,t){var n=Au(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=_N([r,i]),s=Au(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(t,2),d=SN(new De(u).sub(l).div(c-1),o,0),h=[].concat(Lv(sp.rangeStep(new De(l),new De(u).sub(new De(.99).mul(d)),d)),[u]);return r>i?jv(h):h}var cY=xN(lY),dY=xN(uY),fY="Invariant failed";function Oo(e,t){throw new Error(fY)}var hY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function is(e){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kf.apply(this,arguments)}function pY(e,t){return yY(e)||vY(e,t)||gY(e,t)||mY()}function mY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gY(e,t){if(e){if(typeof e=="string")return u1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u1(e,t)}}function u1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function yY(e){if(Array.isArray(e))return e}function bY(e,t){if(e==null)return{};var n=xY(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xY(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AN(r.key),r)}}function SY(e,t,n){return t&&_Y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EY(e,t,n){return t=Af(t),TY(e,TN()?Reflect.construct(t,n||[],Af(e).constructor):t.apply(e,n))}function TY(e,t){if(t&&(is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kY(e)}function kY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TN=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Af(e)}function AY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fv(e,t)}function Fv(e,t){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fv(e,t)}function kN(e,t,n){return t=AN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AN(e){var t=CY(e,"string");return is(t)=="symbol"?t:t+""}function CY(e,t){if(is(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lp=function(e){function t(){return wY(this,t),EY(this,t,arguments)}return AY(t,e),SY(t,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=bY(r,hY),g=ae(h,!1);this.props.direction==="x"&&c.type!=="number"&&Oo();var v=l.map(function(b){var y=u(b,s),w=y.x,x=y.y,_=y.value,T=y.errorVal;if(!T)return null;var E=[],S,k;if(Array.isArray(T)){var A=pY(T,2);S=A[0],k=A[1]}else S=k=T;if(o==="vertical"){var C=c.scale,N=x+i,R=N+a,M=N-a,L=C(_-S),$=C(_+k);E.push({x1:$,y1:R,x2:$,y2:M}),E.push({x1:L,y1:N,x2:$,y2:N}),E.push({x1:L,y1:R,x2:L,y2:M})}else if(o==="horizontal"){var D=d.scale,U=w+i,V=U-a,P=U+a,j=D(_-S),z=D(_+k);E.push({x1:V,y1:z,x2:P,y2:z}),E.push({x1:U,y1:j,x2:U,y2:z}),E.push({x1:V,y1:j,x2:P,y2:j})}return I.createElement(we,kf({className:"recharts-errorBar",key:"bar-".concat(E.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},g),E.map(function(Y){return I.createElement("line",kf({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return I.createElement(we,{className:"recharts-errorBars"},v)}}])}(I.Component);kN(lp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});kN(lp,"displayName","ErrorBar");function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}function c1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(n),!0).forEach(function(r){PY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PY(e,t,n){return t=IY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IY(e){var t=NY(e,"string");return Cu(t)=="symbol"?t:t+""}function NY(e,t){if(Cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CN=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,a=gn(n,xo);if(!a)return null;var s=xo.defaultProps,l=s!==void 0?Ji(Ji({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,g=d.props,v=g.sectors||g.data||[];return c.concat(v.map(function(b){return{type:a.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,g=h!==void 0?Ji(Ji({},h),d.props):{},v=g.dataKey,b=g.name,y=g.legendType,w=g.hide;return{inactive:w,dataKey:v,type:l.iconType||y||"square",color:Ub(d),value:b||v,payload:g}}),Ji(Ji(Ji({},l),xo.getWithHeight(a,i)),{},{payload:u,item:a})};function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function d1(e){return $Y(e)||MY(e)||RY(e)||OY()}function OY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RY(e,t){if(e){if(typeof e=="string")return Bv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bv(e,t)}}function MY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Y(e){if(Array.isArray(e))return Bv(e)}function Bv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f1(Object(n),!0).forEach(function(r){ja(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ja(e,t,n){return t=DY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DY(e){var t=jY(e,"string");return Pu(t)=="symbol"?t:t+""}function jY(e,t){if(Pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e,t,n){return ge(e)||ge(t)?n:wt(t)?_n(e,t,n):ce(t)?t(e):n}function Ml(e,t,n,r){var i=MJ(e,function(s){return bt(s,t)});if(n==="number"){var o=i.filter(function(s){return W(s)||parseFloat(s)});return o.length?[op(o),bi(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ge(s)}):i;return a.map(function(s){return wt(s)||s instanceof Date?s:""})}var LY=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Yt(d-c)!==Yt(h-d)){var v=[];if(Yt(h-d)===Yt(l[1]-l[0])){g=h;var b=d+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{g=c;var y=h+l[1]-l[0];v[0]=Math.min(d,(y+d)/2),v[1]=Math.max(d,(y+d)/2)}var w=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(t>w[0]&&t<=w[1]||t>=v[0]&&t<=v[1]){a=i[u].index;break}}else{var x=Math.min(c,h),_=Math.max(c,h);if(t>(x+d)/2&&t<=(_+d)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&t<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&t>(r[T].coordinate+r[T-1].coordinate)/2&&t<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&t>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},Ub=function(t){var n,r=t,i=r.type.displayName,o=(n=t.type)!==null&&n!==void 0&&n.defaultProps?at(at({},t.type.defaultProps),t.props):t.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},UY=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,g=d.length;h<g;h++){var v=c[d[h]],b=v.items,y=v.cateAxisId,w=b.filter(function(k){return Lr(k.type).indexOf("Bar")>=0});if(w&&w.length){var x=w[0].type.defaultProps,_=x!==void 0?at(at({},x),w[0].props):w[0].props,T=_.barSize,E=_[y];a[E]||(a[E]=[]);var S=ge(T)?n:T;a[E].push({item:w[0],stackList:w.slice(1),barSize:ge(S)?void 0:Xt(S,r,0)})}}return a},FY=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,a=o===void 0?[]:o,s=t.maxBarSize,l=a.length;if(l<1)return null;var u=Xt(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,v=a.reduce(function(T,E){return T+E.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&g>0&&(h=!0,g*=.9,v=l*g);var b=(i-v)/2>>0,y={offset:b-u,size:0};c=a.reduce(function(T,E){var S={item:E.item,position:{offset:y.offset+y.size+u,size:h?g:E.barSize}},k=[].concat(d1(T),[S]);return y=k[k.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(A){k.push({item:A,position:y})}),k},d)}else{var w=Xt(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var x=(i-2*w-(l-1)*u)/l;x>1&&(x>>=0);var _=s===+s?Math.min(x,s):x;c=a.reduce(function(T,E,S){var k=[].concat(d1(T),[{item:E.item,position:{offset:w+(x+u)*S+(x-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(A){k.push({item:A,position:k[k.length-1].position})}),k},d)}return c},BY=function(t,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=CN({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,g=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&g!=="center"&&W(t[g]))return at(at({},t),{},ja({},g,t[g]+(d||0)));if((b==="horizontal"||b==="vertical"&&g==="center")&&v!=="middle"&&W(t[v]))return at(at({},t),{},ja({},v,t[v]+(h||0)))}return t},zY=function(t,n,r){return ge(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},PN=function(t,n,r,i,o){var a=n.props.children,s=Dn(a,lp).filter(function(u){return zY(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,c){var d=bt(c,r);if(ge(d))return u;var h=Array.isArray(d)?[op(d),bi(d)]:[d,d],g=l.reduce(function(v,b){var y=bt(c,b,0),w=h[0]-Math.abs(Array.isArray(y)?y[0]:y),x=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},VY=function(t,n,r,i,o){var a=n.map(function(s){return PN(t,s,r,o,i)}).filter(function(s){return!ge(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},IN=function(t,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&PN(t,l,u,i)||Ml(t,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},NN=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},ON=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var o,a,s=t.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Dr=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,a=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Yt(s[0]-s[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var c=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Is(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},Mm=new WeakMap,Wc=function(t,n){if(typeof n!="function")return t;Mm.has(t)||Mm.set(t,new WeakMap);var r=Mm.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},RN=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:wu(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:wf(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Rl(),realScaleType:"point"}:o==="category"?{scale:wu(),realScaleType:"band"}:{scale:wf(),realScaleType:"linear"};if(Co(i)){var l="scale".concat(qh(i));return{scale:(o1[l]||Rl)(),realScaleType:o1[l]?l:"point"}}return ce(i)?{scale:i}:{scale:Rl(),realScaleType:"point"}},h1=1e-4,MN=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-h1,a=Math.max(i[0],i[1])+h1,s=t(n[0]),l=t(n[r-1]);(s<o||s>a||l<o||l>a)&&t.domain([n[0],n[r-1]])}},qY=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},GY=function(t,n){if(!n||n.length!==2||!W(n[0])||!W(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!W(t[0])||t[0]<r)&&(o[0]=r),(!W(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},HY=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Is(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1])}},WY=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Is(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=o,t[a][r][1]=o+s,o=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},KY={sign:HY,expand:h3,none:Ja,silhouette:p3,wiggle:m3,positive:WY},JY=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),o=KY[r],a=f3().keys(i).value(function(s,l){return+bt(s,l,0)}).order(fv).offset(o);return a(t)},YY=function(t,n,r,i,o,a){if(!t)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?at(at({},h.type.defaultProps),h.props):h.props,b=v.stackId,y=v.hide;if(y)return d;var w=v[r],x=d[w]||{hasStack:!1,stackGroups:{}};if(wt(b)){var _=x.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),x.hasStack=!0,x.stackGroups[b]=_}else x.stackGroups[Ns("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return at(at({},d),{},ja({},w,x))},l),c={};return Object.keys(u).reduce(function(d,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(b,y){var w=g.stackGroups[y];return at(at({},b),{},ja({},y,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:JY(t,w.items,o)}))},v)}return at(at({},d),{},ja({},h,g))},c)},$N=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=t.domain();if(!u.length)return null;var c=cY(u,o,s);return t.domain([op(c),bi(c)]),{niceTicks:c}}if(o&&i==="number"){var d=t.domain(),h=dY(d,o,s);return{niceTicks:h}}return null};function p1(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ge(i[t.dataKey])){var s=Qd(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=bt(i,ge(a)?t.dataKey:a);return ge(l)?null:t.scale(l)}var m1=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,a=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=bt(a,n.dataKey,n.domain[s]);return ge(l)?null:n.scale(l)-o/2+i},XY=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},QY=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?at(at({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(wt(o)){var a=n[o];if(a){var s=a.items.indexOf(t);return s>=0?a.stackedData[s]:null}}return null},ZY=function(t){return t.reduce(function(n,r){return[op(r.concat([n[0]]).filter(W)),bi(r.concat([n[1]]).filter(W))]},[1/0,-1/0])},DN=function(t,n,r){return Object.keys(t).reduce(function(i,o){var a=t[o],s=a.stackedData,l=s.reduce(function(u,c){var d=ZY(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},g1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zv=function(t,n,r){if(ce(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(W(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(g1.test(t[0])){var o=+g1.exec(t[0])[1];i[0]=n[0]-o}else ce(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(W(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(v1.test(t[1])){var a=+v1.exec(t[1])[1];i[1]=n[1]+a}else ce(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},Cf=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=hb(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},y1=function(t,n,r){return!t||!t.length||rs(t,_n(r,"type.defaultProps.domain"))?n:t},jN=function(t,n){var r=t.type.defaultProps?at(at({},t.type.defaultProps),t.props):t.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return at(at({},ae(t,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Ub(t),value:bt(n,i),type:l,payload:n,chartType:u,hide:c})};function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function b1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b1(Object(n),!0).forEach(function(r){LN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LN(e,t,n){return t=eX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eX(e){var t=tX(e,"string");return Iu(t)=="symbol"?t:t+""}function tX(e,t){if(Iu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nX(e,t){return aX(e)||oX(e,t)||iX(e,t)||rX()}function rX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iX(e,t){if(e){if(typeof e=="string")return x1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x1(e,t)}}function x1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oX(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function aX(e){if(Array.isArray(e))return e}var Pf=Math.PI/180,sX=function(t){return t*180/Math.PI},Ge=function(t,n,r,i){return{x:t+Math.cos(-Pf*i)*r,y:n+Math.sin(-Pf*i)*r}},UN=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},lX=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.startAngle,u=t.endAngle,c=Xt(t.cx,a,a/2),d=Xt(t.cy,s,s/2),h=UN(a,s,r),g=Xt(t.innerRadius,h,0),v=Xt(t.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(y,w){var x=n[w],_=x.domain,T=x.reversed,E;if(ge(x.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[g,v]),T&&(E=[E[1],E[0]]);else{E=x.range;var S=E,k=nX(S,2);l=k[0],u=k[1]}var A=RN(x,o),C=A.realScaleType,N=A.scale;N.domain(_).range(E),MN(N);var R=$N(N,Ir(Ir({},x),{},{realScaleType:C})),M=Ir(Ir(Ir({},x),R),{},{range:E,radius:v,realScaleType:C,scale:N,cx:c,cy:d,innerRadius:g,outerRadius:v,startAngle:l,endAngle:u});return Ir(Ir({},y),{},LN({},w,M))},{})},uX=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},cX=function(t,n){var r=t.x,i=t.y,o=n.cx,a=n.cy,s=uX({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:sX(u),angleInRadian:u}},dX=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},fX=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return t+s*360},w1=function(t,n){var r=t.x,i=t.y,o=cX({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=dX(n),d=c.startAngle,h=c.endAngle,g=s,v;if(d<=h){for(;g>h;)g-=360;for(;g<d;)g+=360;v=g>=d&&g<=h}else{for(;g>d;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=d}return v?Ir(Ir({},n),{},{radius:a,angle:fX(g,n)}):null},FN=function(t){return!O.isValidElement(t)&&!ce(t)&&typeof t!="boolean"?t.className:""};function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}var hX=["offset"];function pX(e){return yX(e)||vX(e)||gX(e)||mX()}function mX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gX(e,t){if(e){if(typeof e=="string")return Vv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vv(e,t)}}function vX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yX(e){if(Array.isArray(e))return Vv(e)}function Vv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bX(e,t){if(e==null)return{};var n=xX(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xX(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(n),!0).forEach(function(r){wX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wX(e,t,n){return t=_X(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _X(e){var t=SX(e,"string");return Nu(t)=="symbol"?t:t+""}function SX(e,t){if(Nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ou.apply(this,arguments)}var EX=function(t){var n=t.value,r=t.formatter,i=ge(t.children)?n:t.children;return ce(r)?r(i):i},TX=function(t,n){var r=Yt(n-t),i=Math.min(Math.abs(n-t),360);return r*i},kX=function(t,n,r){var i=t.position,o=t.viewBox,a=t.offset,s=t.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,b=l.clockWise,y=(d+h)/2,w=TX(g,v),x=w>=0?1:-1,_,T;i==="insideStart"?(_=g+x*a,T=b):i==="insideEnd"?(_=v-x*a,T=!b):i==="end"&&(_=v+x*a,T=b),T=w<=0?T:!T;var E=Ge(u,c,y,_),S=Ge(u,c,y,_+(T?1:-1)*359),k="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(T?0:1,`,
    `).concat(S.x,",").concat(S.y),A=ge(t.id)?Ns("recharts-radial-line-"):t.id;return I.createElement("text",Ou({},r,{dominantBaseline:"central",className:ve("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:A,d:k})),I.createElement("textPath",{xlinkHref:"#".concat(A)},n))},AX=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var g=Ge(a,s,u+r,h),v=g.x,b=g.y;return{x:v,y:b,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,w=Ge(a,s,y,h),x=w.x,_=w.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},CX=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,g=d>0?"end":"start",v=d>0?"start":"end",b=u>=0?1:-1,y=b*i,w=b>0?"end":"start",x=b>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return gt(gt({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return gt(gt({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var E={x:s-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return gt(gt({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if(o==="right"){var S={x:s+u+y,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return gt(gt({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:c}:{})}var k=r?{width:u,height:c}:{};return o==="insideLeft"?gt({x:s+y,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},k):o==="insideRight"?gt({x:s+u-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},k):o==="insideTop"?gt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},k):o==="insideBottom"?gt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},k):o==="insideTopLeft"?gt({x:s+y,y:l+h,textAnchor:x,verticalAnchor:v},k):o==="insideTopRight"?gt({x:s+u-y,y:l+h,textAnchor:w,verticalAnchor:v},k):o==="insideBottomLeft"?gt({x:s+y,y:l+c-h,textAnchor:x,verticalAnchor:g},k):o==="insideBottomRight"?gt({x:s+u-y,y:l+c-h,textAnchor:w,verticalAnchor:g},k):ks(o)&&(W(o.x)||ho(o.x))&&(W(o.y)||ho(o.y))?gt({x:s+Xt(o.x,u),y:l+Xt(o.y,c),textAnchor:"end",verticalAnchor:"end"},k):gt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},PX=function(t){return"cx"in t&&W(t.cx)};function At(e){var t=e.offset,n=t===void 0?5:t,r=bX(e,hX),i=gt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||ge(s)&&ge(l)&&!O.isValidElement(u)&&!ce(u))return null;if(O.isValidElement(u))return O.cloneElement(u,i);var g;if(ce(u)){if(g=O.createElement(u,i),O.isValidElement(g))return g}else g=EX(i);var v=PX(o),b=ae(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return kX(i,g,b);var y=v?AX(i):CX(i);return I.createElement(Io,Ou({className:ve("recharts-label",d)},b,y,{breakAll:h}),g)}At.displayName="Label";var BN=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,a=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,c=t.outerRadius,d=t.x,h=t.y,g=t.top,v=t.left,b=t.width,y=t.height,w=t.clockWise,x=t.labelViewBox;if(x)return x;if(W(b)&&W(y)){if(W(d)&&W(h))return{x:d,y:h,width:b,height:y};if(W(g)&&W(v))return{x:g,y:v,width:b,height:y}}return W(d)&&W(h)?{x:d,y:h,width:0,height:0}:W(n)&&W(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:t.viewBox?t.viewBox:{}},IX=function(t,n){return t?t===!0?I.createElement(At,{key:"label-implicit",viewBox:n}):wt(t)?I.createElement(At,{key:"label-implicit",viewBox:n,value:t}):O.isValidElement(t)?t.type===At?O.cloneElement(t,{key:"label-implicit",viewBox:n}):I.createElement(At,{key:"label-implicit",content:t,viewBox:n}):ce(t)?I.createElement(At,{key:"label-implicit",content:t,viewBox:n}):ks(t)?I.createElement(At,Ou({viewBox:n},t,{key:"label-implicit"})):null:null},NX=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=BN(t),a=Dn(i,At).map(function(l,u){return O.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=IX(t.label,n||o);return[s].concat(pX(a))};At.parseViewBox=BN;At.renderCallByParent=NX;function OX(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var RX=OX;const MX=Oe(RX);function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}var $X=["valueAccessor"],DX=["data","dataKey","clockWise","id","textBreakAll"];function jX(e){return BX(e)||FX(e)||UX(e)||LX()}function LX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UX(e,t){if(e){if(typeof e=="string")return qv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qv(e,t)}}function FX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BX(e){if(Array.isArray(e))return qv(e)}function qv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},If.apply(this,arguments)}function S1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(n),!0).forEach(function(r){zX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zX(e,t,n){return t=VX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VX(e){var t=qX(e,"string");return Ru(t)=="symbol"?t:t+""}function qX(e,t){if(Ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T1(e,t){if(e==null)return{};var n=GX(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GX(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var HX=function(t){return Array.isArray(t.value)?MX(t.value):t.value};function Fr(e){var t=e.valueAccessor,n=t===void 0?HX:t,r=T1(e,$X),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=T1(r,DX);return!i||!i.length?null:I.createElement(we,{className:"recharts-label-list"},i.map(function(c,d){var h=ge(o)?n(c,d):bt(c&&c.payload,o),g=ge(s)?{}:{id:"".concat(s,"-").concat(d)};return I.createElement(At,If({},ae(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:At.parseViewBox(ge(a)?c:E1(E1({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Fr.displayName="LabelList";function WX(e,t){return e?e===!0?I.createElement(Fr,{key:"labelList-implicit",data:t}):I.isValidElement(e)||ce(e)?I.createElement(Fr,{key:"labelList-implicit",data:t,content:e}):ks(e)?I.createElement(Fr,If({data:t},e,{key:"labelList-implicit"})):null:null}function KX(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Dn(r,Fr).map(function(a,s){return O.cloneElement(a,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var o=WX(e.label,t);return[o].concat(jX(i))}Fr.renderCallByParent=KX;function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(this,arguments)}function k1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k1(Object(n),!0).forEach(function(r){JX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JX(e,t,n){return t=YX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YX(e){var t=XX(e,"string");return Mu(t)=="symbol"?t:t+""}function XX(e,t){if(Mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QX=function(t,n){var r=Yt(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Kc=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,a=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Pf,h=u?o:o+a*d,g=Ge(n,r,c,h),v=Ge(n,r,i,h),b=u?o-a*d:o,y=Ge(n,r,c*Math.cos(d*Pf),b);return{center:g,circleTangency:v,lineTangency:y,theta:d}},zN=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.startAngle,s=t.endAngle,l=QX(a,s),u=a+l,c=Ge(n,r,o,a),d=Ge(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Ge(n,r,i,a),v=Ge(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},ZX=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,c=t.endAngle,d=Yt(c-u),h=Kc({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,b=h.theta,y=Kc({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),w=y.circleTangency,x=y.lineTangency,_=y.theta,T=l?Math.abs(u-c):Math.abs(u-c)-b-_;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):zN({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var S=Kc({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=S.circleTangency,A=S.lineTangency,C=S.theta,N=Kc({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=N.circleTangency,M=N.lineTangency,L=N.theta,$=l?Math.abs(u-c):Math.abs(u-c)-C-L;if($<0&&a===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(d>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},eQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VN=function(t){var n=A1(A1({},eQ),t),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(a<o||c===d)return null;var g=ve("recharts-sector",h),v=a-o,b=Xt(s,v,0,!0),y;return b>0&&Math.abs(c-d)<360?y=ZX({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):y=zN({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),I.createElement("path",Gv({},ae(n,!0),{className:g,d:y,role:"img"}))};function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hv.apply(this,arguments)}function C1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C1(Object(n),!0).forEach(function(r){tQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tQ(e,t,n){return t=nQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nQ(e){var t=rQ(e,"string");return $u(t)=="symbol"?t:t+""}function rQ(e,t){if($u(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I1={curveBasisClosed:t3,curveBasisOpen:n3,curveBasis:e3,curveBumpX:FB,curveBumpY:BB,curveLinearClosed:r3,curveLinear:Hh,curveMonotoneX:i3,curveMonotoneY:o3,curveNatural:a3,curveStep:s3,curveStepAfter:u3,curveStepBefore:l3},Jc=function(t){return t.x===+t.x&&t.y===+t.y},sl=function(t){return t.x},ll=function(t){return t.y},iQ=function(t,n){if(ce(t))return t;var r="curve".concat(qh(t));return(r==="curveMonotone"||r==="curveBump")&&n?I1["".concat(r).concat(n==="vertical"?"Y":"X")]:I1[r]||Hh},oQ=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,a=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,c=iQ(r,s),d=u?o.filter(function(b){return Jc(b)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(b){return Jc(b)}):a,v=d.map(function(b,y){return P1(P1({},b),{},{base:g[y]})});return s==="vertical"?h=Uc().y(ll).x1(sl).x0(function(b){return b.base.x}):h=Uc().x(sl).y1(ll).y0(function(b){return b.base.y}),h.defined(Jc).curve(c),h(v)}return s==="vertical"&&W(a)?h=Uc().y(ll).x1(sl).x0(a):W(a)?h=Uc().x(sl).y1(ll).y0(a):h=jP().x(sl).y(ll),h.defined(Jc).curve(c),h(d)},La=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?oQ(t):i;return O.createElement("path",Hv({},ae(t,!1),Zd(t),{className:ve("recharts-curve",n),d:a,ref:o}))},qN={exports:{}},aQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sQ=aQ,lQ=sQ;function GN(){}function HN(){}HN.resetWarningCache=GN;var uQ=function(){function e(r,i,o,a,s,l){if(l!==lQ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:HN,resetWarningCache:GN};return n.PropTypes=n,n};qN.exports=uQ();var cQ=qN.exports;const Ne=Oe(cQ),{getOwnPropertyNames:dQ,getOwnPropertySymbols:fQ}=Object,{hasOwnProperty:hQ}=Object.prototype;function $m(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function Yc(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=e(n,r,i);return o.delete(n),o.delete(r),l}}function pQ(e){return e!=null?e[Symbol.toStringTag]:void 0}function N1(e){return dQ(e).concat(fQ(e))}const mQ=Object.hasOwn||((e,t)=>hQ.call(e,t));function Fo(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const gQ="__v",vQ="__o",yQ="_owner",{getOwnPropertyDescriptor:O1,keys:R1}=Object;function bQ(e,t){return e.byteLength===t.byteLength&&Nf(new Uint8Array(e),new Uint8Array(t))}function xQ(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function wQ(e,t){return e.byteLength===t.byteLength&&Nf(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function _Q(e,t){return Fo(e.getTime(),t.getTime())}function SQ(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function EQ(e,t){return e===t}function M1(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=t.entries();let c=!1,d=0;for(;(s=u.next())&&!s.done;){if(i[d]){d++;continue}const h=a.value,g=s.value;if(n.equals(h[0],g[0],l,d,e,t,n)&&n.equals(h[1],g[1],h[0],g[0],e,t,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const TQ=Fo;function kQ(e,t,n){const r=R1(e);let i=r.length;if(R1(t).length!==i)return!1;for(;i-- >0;)if(!WN(e,t,n,r[i]))return!1;return!0}function ul(e,t,n){const r=N1(e);let i=r.length;if(N1(t).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!WN(e,t,n,o)||(a=O1(e,o),s=O1(t,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function AQ(e,t){return Fo(e.valueOf(),t.valueOf())}function CQ(e,t){return e.source===t.source&&e.flags===t.flags}function $1(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.values();let a,s;for(;(a=o.next())&&!a.done;){const l=t.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Nf(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function PQ(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function WN(e,t,n,r){return(r===yQ||r===vQ||r===gQ)&&(e.$$typeof||t.$$typeof)?!0:mQ(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const IQ="[object ArrayBuffer]",NQ="[object Arguments]",OQ="[object Boolean]",RQ="[object DataView]",MQ="[object Date]",$Q="[object Error]",DQ="[object Map]",jQ="[object Number]",LQ="[object Object]",UQ="[object RegExp]",FQ="[object Set]",BQ="[object String]",zQ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},VQ="[object URL]",qQ=Object.prototype.toString;function GQ({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:g,unknownTagComparators:v}){return function(y,w,x){if(y===w)return!0;if(y==null||w==null)return!1;const _=typeof y;if(_!==typeof w)return!1;if(_!=="object")return _==="number"?s(y,w,x):_==="function"?o(y,w,x):!1;const T=y.constructor;if(T!==w.constructor)return!1;if(T===Object)return l(y,w,x);if(Array.isArray(y))return t(y,w,x);if(T===Date)return r(y,w,x);if(T===RegExp)return c(y,w,x);if(T===Map)return a(y,w,x);if(T===Set)return d(y,w,x);const E=qQ.call(y);if(E===MQ)return r(y,w,x);if(E===UQ)return c(y,w,x);if(E===DQ)return a(y,w,x);if(E===FQ)return d(y,w,x);if(E===LQ)return typeof y.then!="function"&&typeof w.then!="function"&&l(y,w,x);if(E===VQ)return g(y,w,x);if(E===$Q)return i(y,w,x);if(E===NQ)return l(y,w,x);if(zQ[E])return h(y,w,x);if(E===IQ)return e(y,w,x);if(E===RQ)return n(y,w,x);if(E===OQ||E===jQ||E===BQ)return u(y,w,x);if(v){let S=v[E];if(!S){const k=pQ(y);k&&(S=v[k])}if(S)return S(y,w,x)}return!1}}function HQ({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:bQ,areArraysEqual:n?ul:xQ,areDataViewsEqual:wQ,areDatesEqual:_Q,areErrorsEqual:SQ,areFunctionsEqual:EQ,areMapsEqual:n?$m(M1,ul):M1,areNumbersEqual:TQ,areObjectsEqual:n?ul:kQ,arePrimitiveWrappersEqual:AQ,areRegExpsEqual:CQ,areSetsEqual:n?$m($1,ul):$1,areTypedArraysEqual:n?$m(Nf,ul):Nf,areUrlsEqual:PQ,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const i=Yc(r.areArraysEqual),o=Yc(r.areMapsEqual),a=Yc(r.areObjectsEqual),s=Yc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function WQ(e){return function(t,n,r,i,o,a,s){return e(t,n,s)}}function KQ({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=e?new WeakMap:void 0,meta:c}=n();return t(s,l,{cache:u,equals:r,meta:c,strict:i})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return t(s,l,o)}}const JQ=Fi();Fi({strict:!0});Fi({circular:!0});Fi({circular:!0,strict:!0});Fi({createInternalComparator:()=>Fo});Fi({strict:!0,createInternalComparator:()=>Fo});Fi({circular:!0,createInternalComparator:()=>Fo});Fi({circular:!0,createInternalComparator:()=>Fo,strict:!0});function Fi(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,o=HQ(e),a=GQ(o),s=n?n(a):WQ(a);return KQ({circular:t,comparator:a,createState:r,equals:s,strict:i})}function YQ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function D1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):YQ(i)};requestAnimationFrame(r)}function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}function XQ(e){return tZ(e)||eZ(e)||ZQ(e)||QQ()}function QQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZQ(e,t){if(e){if(typeof e=="string")return j1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j1(e,t)}}function j1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tZ(e){if(Array.isArray(e))return e}function nZ(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=XQ(a),l=s[0],u=s.slice(1);if(typeof l=="number"){D1(i.bind(null,u),l);return}i(l),D1(i.bind(null,u));return}Wv(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function L1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(n),!0).forEach(function(r){KN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KN(e,t,n){return t=rZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rZ(e){var t=iZ(e,"string");return Du(t)==="symbol"?t:String(t)}function iZ(e,t){if(Du(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Du(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oZ=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},aZ=function(t){return t},sZ=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},$l=function(t,n){return Object.keys(n).reduce(function(r,i){return U1(U1({},r),{},KN({},i,t(i,n[i])))},{})},F1=function(t,n,r){return t.map(function(i){return"".concat(sZ(i)," ").concat(n,"ms ").concat(r)}).join(",")};function lZ(e,t){return dZ(e)||cZ(e,t)||JN(e,t)||uZ()}function uZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cZ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function dZ(e){if(Array.isArray(e))return e}function fZ(e){return mZ(e)||pZ(e)||JN(e)||hZ()}function hZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JN(e,t){if(e){if(typeof e=="string")return Kv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kv(e,t)}}function pZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mZ(e){if(Array.isArray(e))return Kv(e)}function Kv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Of=1e-4,YN=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},XN=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},B1=function(t,n){return function(r){var i=YN(t,n);return XN(i,r)}},gZ=function(t,n){return function(r){var i=YN(t,n),o=[].concat(fZ(i.map(function(a,s){return a*s}).slice(1)),[0]);return XN(o,r)}},z1=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=lZ(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=B1(i,a),h=B1(o,s),g=gZ(i,a),v=function(w){return w>1?1:w<0?0:w},b=function(w){for(var x=w>1?1:w,_=x,T=0;T<8;++T){var E=d(_)-x,S=g(_);if(Math.abs(E-x)<Of||S<Of)return h(_);_=v(_-E/S)}return h(_)};return b.isStepper=!1,b},vZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,a=t.dt,s=a===void 0?17:a,l=function(c,d,h){var g=-(c-d)*r,v=h*o,b=h+(g-v)*s/1e3,y=h*s/1e3+c;return Math.abs(y-d)<Of&&Math.abs(b)<Of?[d,0]:[y,b]};return l.isStepper=!0,l.dt=s,l},yZ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return z1(i);case"spring":return vZ();default:if(i.split("(")[0]==="cubic-bezier")return z1(i)}return typeof i=="function"?i:null};function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function V1(e){return wZ(e)||xZ(e)||QN(e)||bZ()}function bZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wZ(e){if(Array.isArray(e))return Yv(e)}function q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(n),!0).forEach(function(r){Jv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jv(e,t,n){return t=_Z(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Z(e){var t=SZ(e,"string");return ju(t)==="symbol"?t:String(t)}function SZ(e,t){if(ju(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ju(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EZ(e,t){return AZ(e)||kZ(e,t)||QN(e,t)||TZ()}function TZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QN(e,t){if(e){if(typeof e=="string")return Yv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yv(e,t)}}function Yv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kZ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function AZ(e){if(Array.isArray(e))return e}var Rf=function(t,n,r){return t+(n-t)*r},Xv=function(t){var n=t.from,r=t.to;return n!==r},CZ=function e(t,n,r){var i=$l(function(o,a){if(Xv(a)){var s=t(a.from,a.to,a.velocity),l=EZ(s,2),u=l[0],c=l[1];return $t($t({},a),{},{from:u,velocity:c})}return a},n);return r<1?$l(function(o,a){return Xv(a)?$t($t({},a),{},{velocity:Rf(a.velocity,i[o].velocity,r),from:Rf(a.from,i[o].from,r)}):a},n):e(t,i,r-1)};const PZ=function(e,t,n,r,i){var o=oZ(e,t),a=o.reduce(function(y,w){return $t($t({},y),{},Jv({},w,[e[w],t[w]]))},{}),s=o.reduce(function(y,w){return $t($t({},y),{},Jv({},w,{from:e[w],velocity:0,to:t[w]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return $l(function(w,x){return x.from},s)},g=function(){return!Object.values(s).filter(Xv).length},v=function(w){u||(u=w);var x=w-u,_=x/n.dt;s=CZ(n,s,_),i($t($t($t({},e),t),h())),u=w,g()||(l=requestAnimationFrame(d))},b=function(w){c||(c=w);var x=(w-c)/r,_=$l(function(E,S){return Rf.apply(void 0,V1(S).concat([n(x)]))},a);if(i($t($t($t({},e),t),_)),x<1)l=requestAnimationFrame(d);else{var T=$l(function(E,S){return Rf.apply(void 0,V1(S).concat([n(1)]))},a);i($t($t($t({},e),t),T))}};return d=n.isStepper?v:b,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function os(e){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}var IZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function NZ(e,t){if(e==null)return{};var n=OZ(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OZ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Dm(e){return DZ(e)||$Z(e)||MZ(e)||RZ()}function RZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MZ(e,t){if(e){if(typeof e=="string")return Qv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qv(e,t)}}function $Z(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DZ(e){if(Array.isArray(e))return Qv(e)}function Qv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(n),!0).forEach(function(r){yl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yl(e,t,n){return t=ZN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZN(r.key),r)}}function UZ(e,t,n){return t&&LZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZN(e){var t=FZ(e,"string");return os(t)==="symbol"?t:String(t)}function FZ(e,t){if(os(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(os(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zv(e,t)}function Zv(e,t){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zv(e,t)}function zZ(e){var t=VZ();return function(){var r=Mf(e),i;if(t){var o=Mf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ey(this,i)}}function ey(e,t){if(t&&(os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ty(e)}function ty(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mf(e)}var wr=function(e){BZ(n,e);var t=zZ(n);function n(r,i){var o;jZ(this,n),o=t.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(ty(o)),o.changeStyle=o.changeStyle.bind(ty(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),ey(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},ey(o);o.state={style:l?yl({},l,u):u}}else o.state={style:{}};return o}return UZ(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var g={style:l?yl({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(JQ(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?d:i.to;if(this.state&&h){var y={style:l?yl({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(y)}this.runAnimation(Gn(Gn({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,g=PZ(a,s,yZ(u),l,this.changeStyle),v=function(){o.stopJSAnimation=g()};this.manager.start([h,c,v,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,g=function(b,y,w){if(w===0)return b;var x=y.duration,_=y.easing,T=_===void 0?"ease":_,E=y.style,S=y.properties,k=y.onAnimationEnd,A=w>0?a[w-1]:y,C=S||Object.keys(E);if(typeof T=="function"||T==="spring")return[].concat(Dm(b),[o.runJSAnimation.bind(o,{from:A.style,to:E,duration:x,easing:T}),x]);var N=F1(C,x,T),R=Gn(Gn(Gn({},A.style),E),{},{transition:N});return[].concat(Dm(b),[R,x,k]).filter(aZ)};return this.manager.start([l].concat(Dm(a.reduce(g,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=nZ());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=s?yl({},s,l):l,y=F1(Object.keys(b),a,u);v.start([c,o,Gn(Gn({},b),{},{transition:y}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=NZ(i,IZ),u=O.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(g){var v=g.props,b=v.style,y=b===void 0?{}:b,w=v.className,x=O.cloneElement(g,Gn(Gn({},l),{},{style:Gn(Gn({},y),c),className:w}));return x};return u===1?d(O.Children.only(o)):I.createElement("div",null,O.Children.map(o,function(h){return d(h)}))}}]),n}(O.PureComponent);wr.displayName="Animate";wr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wr.propTypes={from:Ne.oneOfType([Ne.object,Ne.string]),to:Ne.oneOfType([Ne.object,Ne.string]),attributeName:Ne.string,duration:Ne.number,begin:Ne.number,easing:Ne.oneOfType([Ne.string,Ne.func]),steps:Ne.arrayOf(Ne.shape({duration:Ne.number.isRequired,style:Ne.object.isRequired,easing:Ne.oneOfType([Ne.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ne.func]),properties:Ne.arrayOf("string"),onAnimationEnd:Ne.func})),children:Ne.oneOfType([Ne.node,Ne.func]),isActive:Ne.bool,canBegin:Ne.bool,onAnimationEnd:Ne.func,shouldReAnimate:Ne.bool,onAnimationStart:Ne.func,onAnimationReStart:Ne.func};function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$f.apply(this,arguments)}function qZ(e,t){return KZ(e)||WZ(e,t)||HZ(e,t)||GZ()}function GZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HZ(e,t){if(e){if(typeof e=="string")return H1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H1(e,t)}}function H1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WZ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function KZ(e){if(Array.isArray(e))return e}function W1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(n),!0).forEach(function(r){JZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JZ(e,t,n){return t=YZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YZ(e){var t=XZ(e,"string");return Lu(t)=="symbol"?t:t+""}function XZ(e,t){if(Lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J1=function(t,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=o[h]>a?a:o[h];c="M".concat(t,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+l*d[0],",").concat(n)),c+="L ".concat(t+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+s*d[1])),c+="L ".concat(t+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+r-l*d[2],",").concat(n+i)),c+="L ".concat(t+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);c="M ".concat(t,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(n,`
            L `).concat(t+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r,",").concat(n+s*v,`
            L `).concat(t+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r-l*v,",").concat(n+i,`
            L `).concat(t+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(n+i-s*v," Z")}else c="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},QZ=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},ZZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fb=function(t){var n=K1(K1({},ZZ),t),r=O.useRef(),i=O.useState(-1),o=qZ(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,g=n.className,v=n.animationEasing,b=n.animationDuration,y=n.animationBegin,w=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=ve("recharts-rectangle",g);return x?I.createElement(wr,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:b,animationEasing:v,isActive:x},function(T){var E=T.width,S=T.height,k=T.x,A=T.y;return I.createElement(wr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:w,easing:v},I.createElement("path",$f({},ae(n,!0),{className:_,d:J1(k,A,E,S,h),ref:r})))}):I.createElement("path",$f({},ae(n,!0),{className:_,d:J1(l,u,c,d,h)}))},eee=["points","className","baseLinePoints","connectNulls"];function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a.apply(this,arguments)}function tee(e,t){if(e==null)return{};var n=nee(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nee(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Y1(e){return aee(e)||oee(e)||iee(e)||ree()}function ree(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iee(e,t){if(e){if(typeof e=="string")return ny(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ny(e,t)}}function oee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aee(e){if(Array.isArray(e))return ny(e)}function ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X1=function(t){return t&&t.x===+t.x&&t.y===+t.y},see=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){X1(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),X1(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Dl=function(t,n){var r=see(t);n&&(r=[r.reduce(function(o,a){return[].concat(Y1(o),Y1(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},lee=function(t,n,r){var i=Dl(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Dl(n.reverse(),r).slice(1))},uee=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,o=t.connectNulls,a=tee(t,eee);if(!n||!n.length)return null;var s=ve("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=lee(n,i,o);return I.createElement("g",{className:s},I.createElement("path",_a({},ae(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?I.createElement("path",_a({},ae(a,!0),{fill:"none",d:Dl(n,o)})):null,l?I.createElement("path",_a({},ae(a,!0),{fill:"none",d:Dl(i,o)})):null)}var c=Dl(n,o);return I.createElement("path",_a({},ae(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ry.apply(this,arguments)}var up=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,a=ve("recharts-dot",o);return n===+n&&r===+r&&i===+i?O.createElement("circle",ry({},ae(t,!1),Zd(t),{className:a,cx:n,cy:r,r:i})):null};function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}var cee=["x","y","top","left","width","height","className"];function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iy.apply(this,arguments)}function Q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(n),!0).forEach(function(r){fee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fee(e,t,n){return t=hee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hee(e){var t=pee(e,"string");return Uu(t)=="symbol"?t:t+""}function pee(e,t){if(Uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mee(e,t){if(e==null)return{};var n=gee(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gee(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var vee=function(t,n,r,i,o,a){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},yee=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.top,s=a===void 0?0:a,l=t.left,u=l===void 0?0:l,c=t.width,d=c===void 0?0:c,h=t.height,g=h===void 0?0:h,v=t.className,b=mee(t,cee),y=dee({x:r,y:o,top:s,left:u,width:d,height:g},b);return!W(r)||!W(o)||!W(d)||!W(g)||!W(s)||!W(u)?null:I.createElement("path",iy({},ae(y,!0),{className:ve("recharts-cross",v),d:vee(r,o,d,g,s,u)}))},bee=ip,xee=dN,wee=Sr;function _ee(e,t){return e&&e.length?bee(e,wee(t),xee):void 0}var See=_ee;const Eee=Oe(See);var Tee=ip,kee=Sr,Aee=fN;function Cee(e,t){return e&&e.length?Tee(e,kee(t),Aee):void 0}var Pee=Cee;const Iee=Oe(Pee);var Nee=["cx","cy","angle","ticks","axisLine"],Oee=["ticks","tick","angle","tickFormatter","stroke"];function as(e){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jl.apply(this,arguments)}function Z1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(n),!0).forEach(function(r){cp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eE(e,t){if(e==null)return{};var n=Ree(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ree(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Mee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tO(r.key),r)}}function $ee(e,t,n){return t&&tE(e.prototype,t),n&&tE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dee(e,t,n){return t=Df(t),jee(e,eO()?Reflect.construct(t,n||[],Df(e).constructor):t.apply(e,n))}function jee(e,t){if(t&&(as(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lee(e)}function Lee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eO=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Df(e)}function Uee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oy(e,t)}function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oy(e,t)}function cp(e,t,n){return t=tO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tO(e){var t=Fee(e,"string");return as(t)=="symbol"?t:t+""}function Fee(e,t){if(as(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(as(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dp=function(e){function t(){return Mee(this,t),Dee(this,t,arguments)}return Uee(t,e),$ee(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Ge(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=Eee(s,function(c){return c.coordinate||0}),u=Iee(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=eE(r,Nee),c=s.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),d=Ge(i,o,c[0],a),h=Ge(i,o,c[1],a),g=Yi(Yi(Yi({},ae(u,!1)),{},{fill:"none"},ae(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return I.createElement("line",jl({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=eE(i,Oee),d=this.getTickTextAnchor(),h=ae(c,!1),g=ae(a,!1),v=o.map(function(b,y){var w=r.getTickValueCoord(b),x=Yi(Yi(Yi(Yi({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:y},w),{},{payload:b});return I.createElement(we,jl({className:ve("recharts-polar-radius-axis-tick",FN(a)),key:"tick-".concat(b.coordinate)},Po(r.props,b,y)),t.renderTickItem(a,x,l?l(b.value,y):b.value))});return I.createElement(we,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:I.createElement(we,{className:ve("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),At.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):ce(r)?a=r(i):a=I.createElement(Io,jl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(O.PureComponent);cp(dp,"displayName","PolarRadiusAxis");cp(dp,"axisType","radiusAxis");cp(dp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ss(e){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},so.apply(this,arguments)}function nE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(n),!0).forEach(function(r){fp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rO(r.key),r)}}function zee(e,t,n){return t&&rE(e.prototype,t),n&&rE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vee(e,t,n){return t=jf(t),qee(e,nO()?Reflect.construct(t,n||[],jf(e).constructor):t.apply(e,n))}function qee(e,t){if(t&&(ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gee(e)}function Gee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nO=function(){return!!e})()}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jf(e)}function Hee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ay(e,t)}function ay(e,t){return ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ay(e,t)}function fp(e,t,n){return t=rO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rO(e){var t=Wee(e,"string");return ss(t)=="symbol"?t:t+""}function Wee(e,t){if(ss(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kee=Math.PI/180,iE=1e-5,hp=function(e){function t(){return Bee(this,t),Vee(this,t,arguments)}return Hee(t,e),zee(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=Ge(o,a,s,r.coordinate),h=Ge(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Kee),a;return o>iE?a=i==="outer"?"start":"end":o<-iE?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=Xi(Xi({},ae(this.props,!1)),{},{fill:"none"},ae(s,!1));if(l==="circle")return I.createElement(up,so({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,d=c.map(function(h){return Ge(i,o,a,h.coordinate)});return I.createElement(uee,so({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ae(this.props,!1),d=ae(a,!1),h=Xi(Xi({},c),{},{fill:"none"},ae(s,!1)),g=o.map(function(v,b){var y=r.getTickLineCoord(v),w=r.getTickTextAnchor(v),x=Xi(Xi(Xi({textAnchor:w},c),{},{stroke:"none",fill:u},d),{},{index:b,payload:v,x:y.x2,y:y.y2});return I.createElement(we,so({className:ve("recharts-polar-angle-axis-tick",FN(a)),key:"tick-".concat(v.coordinate)},Po(r.props,v,b)),s&&I.createElement("line",so({className:"recharts-polar-angle-axis-tick-line"},h,y)),a&&t.renderTickItem(a,x,l?l(v.value,b):v.value))});return I.createElement(we,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:I.createElement(we,{className:ve("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):ce(r)?a=r(i):a=I.createElement(Io,so({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(O.PureComponent);fp(hp,"displayName","PolarAngleAxis");fp(hp,"axisType","angleAxis");fp(hp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Jee=sI,Yee=Jee(Object.getPrototypeOf,Object),Xee=Yee,Qee=Xr,Zee=Xee,ete=Qr,tte="[object Object]",nte=Function.prototype,rte=Object.prototype,iO=nte.toString,ite=rte.hasOwnProperty,ote=iO.call(Object);function ate(e){if(!ete(e)||Qee(e)!=tte)return!1;var t=Zee(e);if(t===null)return!0;var n=ite.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&iO.call(n)==ote}var ste=ate;const lte=Oe(ste);var ute=Xr,cte=Qr,dte="[object Boolean]";function fte(e){return e===!0||e===!1||cte(e)&&ute(e)==dte}var hte=fte;const pte=Oe(hte);function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lf.apply(this,arguments)}function mte(e,t){return bte(e)||yte(e,t)||vte(e,t)||gte()}function gte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vte(e,t){if(e){if(typeof e=="string")return oE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oE(e,t)}}function oE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bte(e){if(Array.isArray(e))return e}function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(n),!0).forEach(function(r){xte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xte(e,t,n){return t=wte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wte(e){var t=_te(e,"string");return Fu(t)=="symbol"?t:t+""}function _te(e,t){if(Fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lE=function(t,n,r,i,o){var a=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-a/2,",").concat(n+o),s+="L ".concat(t+r-a/2-i,",").concat(n+o),s+="L ".concat(t,",").concat(n," Z"),s},Ste={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ete=function(t){var n=sE(sE({},Ste),t),r=O.useRef(),i=O.useState(-1),o=mte(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,g=n.className,v=n.animationEasing,b=n.animationDuration,y=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var x=ve("recharts-trapezoid",g);return w?I.createElement(wr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:b,animationEasing:v,isActive:w},function(_){var T=_.upperWidth,E=_.lowerWidth,S=_.height,k=_.x,A=_.y;return I.createElement(wr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:v},I.createElement("path",Lf({},ae(n,!0),{className:x,d:lE(k,A,T,E,S),ref:r})))}):I.createElement("g",null,I.createElement("path",Lf({},ae(n,!0),{className:x,d:lE(l,u,c,d,h)})))},Tte=["option","shapeType","propTransformer","activeClassName","isActive"];function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function kte(e,t){if(e==null)return{};var n=Ate(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ate(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(n),!0).forEach(function(r){Cte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cte(e,t,n){return t=Pte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pte(e){var t=Ite(e,"string");return Bu(t)=="symbol"?t:t+""}function Ite(e,t){if(Bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nte(e,t){return Uf(Uf({},t),e)}function Ote(e,t){return e==="symbols"}function cE(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return I.createElement(Fb,n);case"trapezoid":return I.createElement(Ete,n);case"sector":return I.createElement(VN,n);case"symbols":if(Ote(t))return I.createElement(ob,n);break;default:return null}}function Rte(e){return O.isValidElement(e)?e.props:e}function oO(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?Nte:r,o=e.activeClassName,a=o===void 0?"recharts-active-shape":o,s=e.isActive,l=kte(e,Tte),u;if(O.isValidElement(t))u=O.cloneElement(t,Uf(Uf({},l),Rte(t)));else if(ce(t))u=t(l);else if(lte(t)&&!pte(t)){var c=i(t,l);u=I.createElement(cE,{shapeType:n,elementProps:c})}else{var d=l;u=I.createElement(cE,{shapeType:n,elementProps:d})}return s?I.createElement(we,{className:a},u):u}function pp(e,t){return t!=null&&"trapezoids"in e.props}function mp(e,t){return t!=null&&"sectors"in e.props}function zu(e,t){return t!=null&&"points"in e.props}function Mte(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function $te(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Dte(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function jte(e,t){var n;return pp(e,t)?n=Mte:mp(e,t)?n=$te:zu(e,t)&&(n=Dte),n}function Lte(e,t){var n;return pp(e,t)?n="trapezoids":mp(e,t)?n="sectors":zu(e,t)&&(n="points"),n}function Ute(e,t){if(pp(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(mp(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return zu(e,t)?t.payload:{}}function Fte(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Lte(n,t),o=Ute(n,t),a=r.filter(function(l,u){var c=rs(o,l),d=n.props[i].filter(function(v){var b=jte(n,t);return b(v,t)}),h=n.props[i].indexOf(d[d.length-1]),g=u===h;return c&&g}),s=r.indexOf(a[a.length-1]);return s}var yd;function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sa.apply(this,arguments)}function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(n),!0).forEach(function(r){On(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sO(r.key),r)}}function zte(e,t,n){return t&&fE(e.prototype,t),n&&fE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vte(e,t,n){return t=Ff(t),qte(e,aO()?Reflect.construct(t,n||[],Ff(e).constructor):t.apply(e,n))}function qte(e,t){if(t&&(ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gte(e)}function Gte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aO=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ff(e)}function Hte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sy(e,t)}function sy(e,t){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sy(e,t)}function On(e,t,n){return t=sO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sO(e){var t=Wte(e,"string");return ls(t)=="symbol"?t:t+""}function Wte(e,t){if(ls(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ei=function(e){function t(n){var r;return Bte(this,t),r=Vte(this,t,[n]),On(r,"pieRef",null),On(r,"sectorRefs",[]),On(r,"id",Ns("recharts-pie-")),On(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ce(i)&&i()}),On(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ce(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Hte(t,e),zte(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=ae(this.props,!1),d=ae(a,!1),h=ae(s,!1),g=a&&a.offsetRadius||20,v=r.map(function(b,y){var w=(b.startAngle+b.endAngle)/2,x=Ge(b.cx,b.cy,b.outerRadius+g,w),_=ze(ze(ze(ze({},c),b),{},{stroke:"none"},d),{},{index:y,textAnchor:t.getTextAnchor(x.x,b.cx)},x),T=ze(ze(ze(ze({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:y,points:[Ge(b.cx,b.cy,b.outerRadius,w),x]}),E=l;return ge(l)&&ge(u)?E="value":ge(l)&&(E=u),I.createElement(we,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},s&&t.renderLabelLineItem(s,T,"line"),t.renderLabelItem(a,_,bt(b,E)))});return I.createElement(we,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,g=d?a:h,v=ze(ze({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return I.createElement(we,Sa({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Po(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),I.createElement(oO,Sa({option:g,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,h=d.prevSectors,g=d.prevIsAnimationActive;return I.createElement(wr,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,y=[],w=o&&o[0],x=w.startAngle;return o.forEach(function(_,T){var E=h&&h[T],S=T>0?_n(_,"paddingAngle",0):0;if(E){var k=on(E.endAngle-E.startAngle,_.endAngle-_.startAngle),A=ze(ze({},_),{},{startAngle:x+S,endAngle:x+k(b)+S});y.push(A),x=A.endAngle}else{var C=_.endAngle,N=_.startAngle,R=on(0,C-N),M=R(b),L=ze(ze({},_),{},{startAngle:x+S,endAngle:x+M+S});y.push(L),x=L.endAngle}}),I.createElement(we,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!rs(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!a||!a.length||!W(u)||!W(c)||!W(d)||!W(h))return null;var b=ve("recharts-pie",s);return I.createElement(we,{tabIndex:this.props.rootTabIndex,className:b,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(a),At.renderCallByParent(this.props,null,!1),(!g||v)&&Fr.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);if(ce(r))return r(i);var a=ve("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return I.createElement(La,Sa({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);var a=o;if(ce(r)&&(a=r(i),I.isValidElement(a)))return a;var s=ve("recharts-pie-label-text",typeof r!="boolean"&&!ce(r)?r.className:"");return I.createElement(Io,Sa({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(O.PureComponent);yd=ei;On(ei,"displayName","Pie");On(ei,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!jo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});On(ei,"parseDeltaAngle",function(e,t){var n=Yt(t-e),r=Math.min(Math.abs(t-e),360);return n*r});On(ei,"getRealPieData",function(e){var t=e.data,n=e.children,r=ae(e,!1),i=Dn(n,Xh);return t&&t.length?t.map(function(o,a){return ze(ze(ze({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return ze(ze({},r),o.props)}):[]});On(ei,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,o=t.height,a=UN(i,o),s=r+Xt(e.cx,i,i/2),l=n+Xt(e.cy,o,o/2),u=Xt(e.innerRadius,a,0),c=Xt(e.outerRadius,a,a*.8),d=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});On(ei,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?ze(ze({},t.type.defaultProps),t.props):t.props,i=yd.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),v=yd.parseCoordinateOfPie(r,n),b=yd.parseDeltaAngle(a,s),y=Math.abs(b),w=u;ge(u)&&ge(d)?(rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):ge(u)&&(rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var x=i.filter(function(A){return bt(A,w,0)!==0}).length,_=(y>=360?x:x-1)*l,T=y-x*g-_,E=i.reduce(function(A,C){var N=bt(C,w,0);return A+(W(N)?N:0)},0),S;if(E>0){var k;S=i.map(function(A,C){var N=bt(A,w,0),R=bt(A,c,C),M=(W(N)?N:0)/E,L;C?L=k.endAngle+Yt(b)*l*(N!==0?1:0):L=a;var $=L+Yt(b)*((N!==0?g:0)+M*T),D=(L+$)/2,U=(v.innerRadius+v.outerRadius)/2,V=[{name:R,value:N,payload:A,dataKey:w,type:h}],P=Ge(v.cx,v.cy,U,D);return k=ze(ze(ze({percent:M,cornerRadius:o,name:R,tooltipPayload:V,midAngle:D,middleRadius:U,tooltipPosition:P},A),v),{},{value:bt(A,w),startAngle:L,endAngle:$,payload:A,paddingAngle:Yt(b)*l}),k})}return ze(ze({},v),{},{sectors:S,data:i})});var Kte=Math.ceil,Jte=Math.max;function Yte(e,t,n,r){for(var i=-1,o=Jte(Kte((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}var Xte=Yte,Qte=kI,hE=1/0,Zte=17976931348623157e292;function ene(e){if(!e)return e===0?e:0;if(e=Qte(e),e===hE||e===-hE){var t=e<0?-1:1;return t*Zte}return e===e?e:0}var lO=ene,tne=Xte,nne=Yh,jm=lO;function rne(e){return function(t,n,r){return r&&typeof r!="number"&&nne(t,n,r)&&(n=r=void 0),t=jm(t),n===void 0?(n=t,t=0):n=jm(n),r=r===void 0?t<n?1:-1:jm(r),tne(t,n,r,e)}}var ine=rne,one=ine,ane=one(),sne=ane;const Bf=Oe(sne);function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(r){uO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uO(e,t,n){return t=lne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lne(e){var t=une(e,"string");return Vu(t)=="symbol"?t:t+""}function une(e,t){if(Vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cne=["Webkit","Moz","O","ms"],dne=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=cne.reduce(function(o,a){return mE(mE({},o),{},uO({},a+r,n))},{});return i[t]=n,i};function us(e){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zf.apply(this,arguments)}function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(n),!0).forEach(function(r){pn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dO(r.key),r)}}function hne(e,t,n){return t&&vE(e.prototype,t),n&&vE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pne(e,t,n){return t=Vf(t),mne(e,cO()?Reflect.construct(t,n||[],Vf(e).constructor):t.apply(e,n))}function mne(e,t){if(t&&(us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gne(e)}function gne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cO=function(){return!!e})()}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vf(e)}function vne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ly(e,t)}function ly(e,t){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ly(e,t)}function pn(e,t,n){return t=dO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dO(e){var t=yne(e,"string");return us(t)=="symbol"?t:t+""}function yne(e,t){if(us(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bne=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,a=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Rl().domain(Bf(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},yE=function(t){return t.changedTouches&&!!t.changedTouches.length},cs=function(e){function t(n){var r;return fne(this,t),r=pne(this,t,[n]),pn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),pn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),pn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),pn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),pn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),pn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),pn(r,"handleSlideDragStart",function(i){var o=yE(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return vne(t,e),hne(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),g=t.getIndexInRange(a,d),v=t.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=bt(o[r],s,r);return ce(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,g=l.endIndex,v=l.onChange,b=r.pageX-o;b>0?b=Math.min(b,u+c-d-s,u+c-d-a):b<0&&(b=Math.max(b,u-a,u-s));var y=this.getIndex({startX:a+b,endX:s+b});(y.startIndex!==h||y.endIndex!==g)&&v&&v(y),this.setState({startX:a+b,endX:s+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=yE(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,g=c.travellerWidth,v=c.onChange,b=c.gap,y=c.data,w={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,d+h-g-u):x<0&&(x=Math.max(x,d-u)),w[a]=u+x;var _=this.getIndex(w),T=_.startIndex,E=_.endIndex,S=function(){var A=y.length-1;return a==="startX"&&(s>l?T%b===0:E%b===0)||s<l&&E===A||a==="endX"&&(s>l?E%b===0:T%b===0)||s>l&&E===A};this.setState(pn(pn({},a,u+x),"brushMoveStartX",r.pageX),function(){v&&S()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(pn({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return I.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=O.Children.only(u);return d?I.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,g=l.ariaLabel,v=l.data,b=l.startIndex,y=l.endIndex,w=Math.max(r,this.props.x),x=Lm(Lm({},ae(this.props,!1)),{},{x:w,y:u,width:c,height:d}),_=g||"Min value: ".concat((o=v[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[y])===null||a===void 0?void 0:a.name);return I.createElement(we,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,g=5,v={pointerEvents:"none",fill:u};return I.createElement(we,{className:"recharts-brush-texts"},I.createElement(Io,zf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-g,y:a+s/2},v),this.getTextOfTick(i)),I.createElement(Io,zf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+g,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,g=h.startX,v=h.endX,b=h.isTextActive,y=h.isSlideMoving,w=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!W(s)||!W(l)||!W(u)||!W(c)||u<=0||c<=0)return null;var _=ve("recharts-brush",o),T=I.Children.count(a)===1,E=dne("userSelect","none");return I.createElement(we,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(b||y||w||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return I.isValidElement(r)?o=I.cloneElement(r,i):ce(r)?o=r(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Lm({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?bne({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(O.PureComponent);pn(cs,"displayName","Brush");pn(cs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var xne=fb;function wne(e,t){var n;return xne(e,function(r,i,o){return n=t(r,i,o),!n}),!!n}var _ne=wne,Sne=ZP,Ene=Sr,Tne=_ne,kne=dn,Ane=Yh;function Cne(e,t,n){var r=kne(e)?Sne:Tne;return n&&Ane(e,t,n)&&(t=void 0),r(e,Ene(t))}var Pne=Cne;const Ine=Oe(Pne);var br=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},bE=wI;function Nne(e,t,n){t=="__proto__"&&bE?bE(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var One=Nne,Rne=One,Mne=bI,$ne=Sr;function Dne(e,t){var n={};return t=$ne(t),Mne(e,function(r,i,o){Rne(n,i,t(r,i,o))}),n}var jne=Dne;const Lne=Oe(jne);function Une(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Fne=Une,Bne=fb;function zne(e,t){var n=!0;return Bne(e,function(r,i,o){return n=!!t(r,i,o),n}),n}var Vne=zne,qne=Fne,Gne=Vne,Hne=Sr,Wne=dn,Kne=Yh;function Jne(e,t,n){var r=Wne(e)?qne:Gne;return n&&Kne(e,t,n)&&(t=void 0),r(e,Hne(t))}var Yne=Jne;const fO=Oe(Yne);var Xne=["x","y"];function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uy.apply(this,arguments)}function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(n),!0).forEach(function(r){Qne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qne(e,t,n){return t=Zne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zne(e){var t=ere(e,"string");return qu(t)=="symbol"?t:t+""}function ere(e,t){if(qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tre(e,t){if(e==null)return{};var n=nre(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nre(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function rre(e,t){var n=e.x,r=e.y,i=tre(e,Xne),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),d="".concat(t.width||i.width),h=parseInt(d,10);return cl(cl(cl(cl(cl({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:t.name,radius:t.radius})}function wE(e){return I.createElement(oO,uy({shapeType:"rectangle",propTransformer:rre,activeClassName:"recharts-active-bar"},e))}var ire=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var o=W(r)||T5(r);return o?t(r,i):(o||Oo(),n)}},ore=["value","background"],hO;function ds(e){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function are(e,t){if(e==null)return{};var n=sre(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sre(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qf.apply(this,arguments)}function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(r){xi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mO(r.key),r)}}function ure(e,t,n){return t&&SE(e.prototype,t),n&&SE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cre(e,t,n){return t=Gf(t),dre(e,pO()?Reflect.construct(t,n||[],Gf(e).constructor):t.apply(e,n))}function dre(e,t){if(t&&(ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fre(e)}function fre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pO=function(){return!!e})()}function Gf(e){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gf(e)}function hre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cy(e,t)}function cy(e,t){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cy(e,t)}function xi(e,t,n){return t=mO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mO(e){var t=pre(e,"string");return ds(t)=="symbol"?t:t+""}function pre(e,t){if(ds(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lc=function(e){function t(){var n;lre(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=cre(this,t,[].concat(i)),xi(n,"state",{isAnimationFinished:!1}),xi(n,"id",Ns("recharts-bar-")),xi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),xi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return hre(t,e),ure(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ae(this.props,!1);return r&&r.map(function(d,h){var g=h===l,v=g?u:a,b=ct(ct(ct({},c),d),{},{isActive:g,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(we,qf({className:"recharts-bar-rectangle"},Po(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),I.createElement(wE,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return I.createElement(wr,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,b=o.map(function(y,w){var x=h&&h[w];if(x){var _=on(x.x,y.x),T=on(x.y,y.y),E=on(x.width,y.width),S=on(x.height,y.height);return ct(ct({},y),{},{x:_(v),y:T(v),width:E(v),height:S(v)})}if(a==="horizontal"){var k=on(0,y.height),A=k(v);return ct(ct({},y),{},{y:y.y+y.height-A,height:A})}var C=on(0,y.width),N=C(v);return ct(ct({},y),{},{width:N})});return I.createElement(we,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!rs(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ae(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=are(u,ore);if(!d)return null;var g=ct(ct(ct(ct(ct({},h),{},{fill:"#eee"},d),l),Po(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return I.createElement(wE,qf({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Dn(c,lp);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(y,w){var x=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:x,errorVal:bt(y,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(we,v,d.map(function(b){return I.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,g=r.isAnimationActive,v=r.background,b=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=ve("recharts-bar",a),x=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,T=x||_,E=ge(b)?this.id:b;return I.createElement(we,{className:w},x||_?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(E)},I.createElement("rect",{x:x?u:u-d/2,y:_?c:c-h/2,width:x?d:d*2,height:_?h:h*2}))):null,I.createElement(we,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(E,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,E),(!g||y)&&Fr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(O.PureComponent);hO=lc;xi(lc,"displayName","Bar");xi(lc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!jo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xi(lc,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,d=e.displayedData,h=e.offset,g=qY(r,n);if(!g)return null;var v=t.layout,b=n.type.defaultProps,y=b!==void 0?ct(ct({},b),n.props):n.props,w=y.dataKey,x=y.children,_=y.minPointSize,T=v==="horizontal"?a:o,E=u?T.scale.domain():null,S=XY({numericAxis:T}),k=Dn(x,Xh),A=d.map(function(C,N){var R,M,L,$,D,U;u?R=GY(u[c+N],E):(R=bt(C,w),Array.isArray(R)||(R=[S,R]));var V=ire(_,hO.defaultProps.minPointSize)(R[1],N);if(v==="horizontal"){var P,j=[a.scale(R[0]),a.scale(R[1])],z=j[0],Y=j[1];M=m1({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:C,index:N}),L=(P=Y??z)!==null&&P!==void 0?P:void 0,$=g.size;var H=z-Y;if(D=Number.isNaN(H)?0:H,U={x:M,y:a.y,width:$,height:a.height},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var ie=Yt(D||V)*(Math.abs(V)-Math.abs(D));L-=ie,D+=ie}}else{var he=[o.scale(R[0]),o.scale(R[1])],ye=he[0],Fe=he[1];if(M=ye,L=m1({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:C,index:N}),$=Fe-ye,D=g.size,U={x:o.x,y:L,width:o.width,height:D},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var Ot=Yt($||V)*(Math.abs(V)-Math.abs($));$+=Ot}}return ct(ct(ct({},C),{},{x:M,y:L,width:$,height:D,value:u?R:R[1],payload:C,background:U},k&&k[N]&&k[N].props),{},{tooltipPayload:[jN(n,C)],tooltipPosition:{x:M+$/2,y:L+D/2}})});return ct({data:A,layout:v},h)});function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function mre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gO(r.key),r)}}function gre(e,t,n){return t&&EE(e.prototype,t),n&&EE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(n),!0).forEach(function(r){gp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gp(e,t,n){return t=gO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gO(e){var t=vre(e,"string");return Gu(t)=="symbol"?t:t+""}function vre(e,t){if(Gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yre=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,u=t.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!gn(u,lc);return c.reduce(function(g,v){var b=n[v],y=b.orientation,w=b.domain,x=b.padding,_=x===void 0?{}:x,T=b.mirror,E=b.reversed,S="".concat(y).concat(T?"Mirror":""),k,A,C,N,R;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var M=w[1]-w[0],L=1/0,$=b.categoricalDomain.sort(C5);if($.forEach(function(he,ye){ye>0&&(L=Math.min((he||0)-($[ye-1]||0),L))}),Number.isFinite(L)){var D=L/M,U=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(k=D*U/2),b.padding==="no-gap"){var V=Xt(t.barCategoryGap,D*U),P=D*U/2;k=P-V-(P-V)/U*V}}}i==="xAxis"?A=[r.left+(_.left||0)+(k||0),r.left+r.width-(_.right||0)-(k||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(k||0),r.top+r.height-(_.bottom||0)-(k||0)]:A=b.range,E&&(A=[A[1],A[0]]);var j=RN(b,o,h),z=j.scale,Y=j.realScaleType;z.domain(w).range(A),MN(z);var H=$N(z,Qn(Qn({},b),{},{realScaleType:Y}));i==="xAxis"?(R=y==="top"&&!T||y==="bottom"&&T,C=r.left,N=d[S]-R*b.height):i==="yAxis"&&(R=y==="left"&&!T||y==="right"&&T,C=d[S]-R*b.width,N=r.top);var ie=Qn(Qn(Qn({},b),H),{},{realScaleType:Y,x:C,y:N,scale:z,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return ie.bandSize=Cf(ie,H),!b.hide&&i==="xAxis"?d[S]+=(R?-1:1)*ie.height:b.hide||(d[S]+=(R?-1:1)*ie.width),Qn(Qn({},g),{},gp({},v,ie))},{})},vO=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},bre=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return vO({x:n,y:r},{x:i,y:o})},yO=function(){function e(t){mre(this,e),this.scale=t}return gre(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();gp(yO,"EPS",1e-4);var Bb=function(t){var n=Object.keys(t).reduce(function(r,i){return Qn(Qn({},r),{},gp({},i,yO.create(t[i])))},{});return Qn(Qn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Lne(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return fO(i,function(o,a){return n[a].isInRange(o)})}})};function xre(e){return(e%180+180)%180}var wre=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=xre(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},_re=Sr,Sre=rc,Ere=Kh;function Tre(e){return function(t,n,r){var i=Object(t);if(!Sre(t)){var o=_re(n);t=Ere(t),n=function(s){return o(i[s],s,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}var kre=Tre,Are=lO;function Cre(e){var t=Are(e),n=t%1;return t===t?n?t-n:t:0}var Pre=Cre,Ire=hI,Nre=Sr,Ore=Pre,Rre=Math.max;function Mre(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Ore(n);return i<0&&(i=Rre(r+i,0)),Ire(e,Nre(t),i)}var $re=Mre,Dre=kre,jre=$re,Lre=Dre(jre),Ure=Lre;const Fre=Oe(Ure);var Bre=NF(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),zb=O.createContext(void 0),Vb=O.createContext(void 0),bO=O.createContext(void 0),xO=O.createContext({}),wO=O.createContext(void 0),_O=O.createContext(0),SO=O.createContext(0),kE=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=t.clipPathId,s=t.children,l=t.width,u=t.height,c=Bre(o);return I.createElement(zb.Provider,{value:r},I.createElement(Vb.Provider,{value:i},I.createElement(xO.Provider,{value:o},I.createElement(bO.Provider,{value:c},I.createElement(wO.Provider,{value:a},I.createElement(_O.Provider,{value:u},I.createElement(SO.Provider,{value:l},s)))))))},zre=function(){return O.useContext(wO)},EO=function(t){var n=O.useContext(zb);n==null&&Oo();var r=n[t];return r==null&&Oo(),r},Vre=function(){var t=O.useContext(zb);return mi(t)},qre=function(){var t=O.useContext(Vb),n=Fre(t,function(r){return fO(r.domain,Number.isFinite)});return n||mi(t)},TO=function(t){var n=O.useContext(Vb);n==null&&Oo();var r=n[t];return r==null&&Oo(),r},Gre=function(){var t=O.useContext(bO);return t},Hre=function(){return O.useContext(xO)},qb=function(){return O.useContext(SO)},Gb=function(){return O.useContext(_O)};function fs(e){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function Wre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kre(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AO(r.key),r)}}function Jre(e,t,n){return t&&Kre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yre(e,t,n){return t=Hf(t),Xre(e,kO()?Reflect.construct(t,n||[],Hf(e).constructor):t.apply(e,n))}function Xre(e,t){if(t&&(fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qre(e)}function Qre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kO=function(){return!!e})()}function Hf(e){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hf(e)}function Zre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dy(e,t)}function dy(e,t){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dy(e,t)}function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(r){Hb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hb(e,t,n){return t=AO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AO(e){var t=eie(e,"string");return fs(t)=="symbol"?t:t+""}function eie(e,t){if(fs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tie(e,t){return oie(e)||iie(e,t)||rie(e,t)||nie()}function nie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rie(e,t){if(e){if(typeof e=="string")return PE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PE(e,t)}}function PE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function oie(e){if(Array.isArray(e))return e}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fy.apply(this,arguments)}var aie=function(t,n){var r;return I.isValidElement(t)?r=I.cloneElement(t,n):ce(t)?r=t(n):r=I.createElement("line",fy({},n,{className:"recharts-reference-line-line"})),r},sie=function(t,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,g=o.height;if(r){var v=u.y,b=t.y.apply(v,{position:a});if(br(u,"discard")&&!t.y.isInRange(b))return null;var y=[{x:c+h,y:b},{x:c,y:b}];return l==="left"?y.reverse():y}if(n){var w=u.x,x=t.x.apply(w,{position:a});if(br(u,"discard")&&!t.x.isInRange(x))return null;var _=[{x,y:d+g},{x,y:d}];return s==="top"?_.reverse():_}if(i){var T=u.segment,E=T.map(function(S){return t.apply(S,{position:a})});return br(u,"discard")&&Ine(E,function(S){return!t.isInRange(S)})?null:E}return null};function lie(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,u=zre(),c=EO(i),d=TO(o),h=Gre();if(!u||!h)return null;rr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Bb({x:c.scale,y:d.scale}),v=wt(t),b=wt(n),y=r&&r.length===2,w=sie(g,v,b,y,h,e.position,c.orientation,d.orientation,e);if(!w)return null;var x=tie(w,2),_=x[0],T=_.x,E=_.y,S=x[1],k=S.x,A=S.y,C=br(e,"hidden")?"url(#".concat(u,")"):void 0,N=CE(CE({clipPath:C},ae(e,!0)),{},{x1:T,y1:E,x2:k,y2:A});return I.createElement(we,{className:ve("recharts-reference-line",s)},aie(a,N),At.renderCallByParent(e,bre({x1:T,y1:E,x2:k,y2:A})))}var Wb=function(e){function t(){return Wre(this,t),Yre(this,t,arguments)}return Zre(t,e),Jre(t,[{key:"render",value:function(){return I.createElement(lie,this.props)}}])}(I.Component);Hb(Wb,"displayName","ReferenceLine");Hb(Wb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hy.apply(this,arguments)}function hs(e){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(n),!0).forEach(function(r){vp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PO(r.key),r)}}function die(e,t,n){return t&&cie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fie(e,t,n){return t=Wf(t),hie(e,CO()?Reflect.construct(t,n||[],Wf(e).constructor):t.apply(e,n))}function hie(e,t){if(t&&(hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pie(e)}function pie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CO=function(){return!!e})()}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wf(e)}function mie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&py(e,t)}function py(e,t){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},py(e,t)}function vp(e,t,n){return t=PO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PO(e){var t=gie(e,"string");return hs(t)=="symbol"?t:t+""}function gie(e,t){if(hs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vie=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,a=Bb({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return br(t,"discard")&&!a.isInRange(s)?null:s},yp=function(e){function t(){return uie(this,t),fie(this,t,arguments)}return mie(t,e),die(t,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=wt(i),c=wt(o);if(rr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=vie(this.props);if(!d)return null;var h=d.x,g=d.y,v=this.props,b=v.shape,y=v.className,w=br(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=NE(NE({clipPath:w},ae(this.props,!0)),{},{cx:h,cy:g});return I.createElement(we,{className:ve("recharts-reference-dot",y)},t.renderDot(b,x),At.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(I.Component);vp(yp,"displayName","ReferenceDot");vp(yp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});vp(yp,"renderDot",function(e,t){var n;return I.isValidElement(e)?n=I.cloneElement(e,t):ce(e)?n=e(t):n=I.createElement(up,hy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},my.apply(this,arguments)}function ps(e){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(e)}function OE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(n),!0).forEach(function(r){bp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NO(r.key),r)}}function xie(e,t,n){return t&&bie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wie(e,t,n){return t=Kf(t),_ie(e,IO()?Reflect.construct(t,n||[],Kf(e).constructor):t.apply(e,n))}function _ie(e,t){if(t&&(ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sie(e)}function Sie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IO=function(){return!!e})()}function Kf(e){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kf(e)}function Eie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gy(e,t)}function gy(e,t){return gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gy(e,t)}function bp(e,t,n){return t=NO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NO(e){var t=Tie(e,"string");return ps(t)=="symbol"?t:t+""}function Tie(e,t){if(ps(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kie=function(t,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=Bb({x:c.scale,y:d.scale}),g={x:t?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return br(o,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:vO(g,v)},xp=function(e){function t(){return yie(this,t),wie(this,t,arguments)}return Eie(t,e),xie(t,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;rr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=wt(i),h=wt(o),g=wt(a),v=wt(s),b=this.props.shape;if(!d&&!h&&!g&&!v&&!b)return null;var y=kie(d,h,g,v,this.props);if(!y&&!b)return null;var w=br(this.props,"hidden")?"url(#".concat(c,")"):void 0;return I.createElement(we,{className:ve("recharts-reference-area",l)},t.renderRect(b,RE(RE({clipPath:w},ae(this.props,!0)),y)),At.renderCallByParent(this.props,y))}}])}(I.Component);bp(xp,"displayName","ReferenceArea");bp(xp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});bp(xp,"renderRect",function(e,t){var n;return I.isValidElement(e)?n=I.cloneElement(e,t):ce(e)?n=e(t):n=I.createElement(Fb,my({},t,{className:"recharts-reference-area-rect"})),n});function OO(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function Aie(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return wre(r,n)}function Cie(e,t,n){var r=n==="width",i=e.x,o=e.y,a=e.width,s=e.height;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Jf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Pie(e,t){return OO(e,t+1)}function Iie(e,t,n,r,i){for(var o=(r||[]).slice(),a=t.start,s=t.end,l=0,u=1,c=a,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:OO(r,u)};var b=l,y,w=function(){return y===void 0&&(y=n(v,b)),y},x=v.coordinate,_=l===0||Jf(e,x,w,c,s);_||(l=0,c=a,u+=1),_&&(c=x+e*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function ME(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(n),!0).forEach(function(r){Nie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nie(e,t,n){return t=Oie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oie(e){var t=Rie(e,"string");return Hu(t)=="symbol"?t:t+""}function Rie(e,t){if(Hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mie(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,u=function(h){var g=o[h],v,b=function(){return v===void 0&&(v=n(g,h)),v};if(h===a-1){var y=e*(g.coordinate+e*b()/2-l);o[h]=g=zt(zt({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else o[h]=g=zt(zt({},g),{},{tickCoord:g.coordinate});var w=Jf(e,g.tickCoord,b,s,l);w&&(l=g.tickCoord-e*(b()/2+i),o[h]=zt(zt({},g),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function $ie(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,u=t.end;if(o){var c=r[s-1],d=n(c,s-1),h=e*(c.coordinate+e*d/2-u);a[s-1]=c=zt(zt({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate});var g=Jf(e,c.tickCoord,function(){return d},l,u);g&&(u=c.tickCoord-e*(d/2+i),a[s-1]=zt(zt({},c),{},{isShow:!0}))}for(var v=o?s-1:s,b=function(x){var _=a[x],T,E=function(){return T===void 0&&(T=n(_,x)),T};if(x===0){var S=e*(_.coordinate-e*E()/2-l);a[x]=_=zt(zt({},_),{},{tickCoord:S<0?_.coordinate-S*e:_.coordinate})}else a[x]=_=zt(zt({},_),{},{tickCoord:_.coordinate});var k=Jf(e,_.tickCoord,E,l,u);k&&(l=_.tickCoord+e*(E()/2+i),a[x]=zt(zt({},_),{},{isShow:!0}))},y=0;y<v;y++)b(y);return a}function Kb(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(W(l)||jo.isSsr)return Pie(i,typeof l=="number"&&W(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",v=c&&g==="width"?Ol(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=function(_,T){var E=ce(u)?u(_.value,T):_.value;return g==="width"?Aie(Ol(E,{fontSize:t,letterSpacing:n}),v,d):Ol(E,{fontSize:t,letterSpacing:n})[g]},y=i.length>=2?Yt(i[1].coordinate-i[0].coordinate):1,w=Cie(o,y,g);return l==="equidistantPreserveStart"?Iie(y,w,b,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=$ie(y,w,b,i,a,l==="preserveStartEnd"):h=Mie(y,w,b,i,a),h.filter(function(x){return x.isShow}))}var Die=["viewBox"],jie=["viewBox"],Lie=["ticks"];function ms(e){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ea.apply(this,arguments)}function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(n),!0).forEach(function(r){Jb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Um(e,t){if(e==null)return{};var n=Uie(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Uie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Fie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MO(r.key),r)}}function Bie(e,t,n){return t&&DE(e.prototype,t),n&&DE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zie(e,t,n){return t=Yf(t),Vie(e,RO()?Reflect.construct(t,n||[],Yf(e).constructor):t.apply(e,n))}function Vie(e,t){if(t&&(ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qie(e)}function qie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RO=function(){return!!e})()}function Yf(e){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yf(e)}function Gie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vy(e,t)}function vy(e,t){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vy(e,t)}function Jb(e,t,n){return t=MO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MO(e){var t=Hie(e,"string");return ms(t)=="symbol"?t:t+""}function Hie(e,t){if(ms(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ls=function(e){function t(n){var r;return Fie(this,t),r=zie(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return Gie(t,e),Bie(t,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Um(r,Die),s=this.props,l=s.viewBox,u=Um(s,jie);return!$a(o,l)||!$a(a,u)||!$a(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,g,v,b,y,w,x,_=d?-1:1,T=r.tickSize||c,E=W(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,y=a+ +!d*l,b=y-_*T,x=b-_*h,w=E;break;case"left":b=y=r.coordinate,v=o+ +!d*s,g=v-_*T,w=g-_*h,x=E;break;case"right":b=y=r.coordinate,v=o+ +d*s,g=v+_*T,w=g+_*h,x=E;break;default:g=v=r.coordinate,y=a+ +d*l,b=y+_*T,x=b+_*h,w=E;break}return{line:{x1:g,y1:b,x2:v,y2:y},tick:{x:w,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=mt(mt(mt({},ae(this.props,!1)),ae(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=mt(mt({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);d=mt(mt({},d),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return I.createElement("line",Ea({},d,{className:ve("recharts-cartesian-axis-line",_n(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,g=Kb(mt(mt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=ae(this.props,!1),w=ae(c,!1),x=mt(mt({},y),{},{fill:"none"},ae(l,!1)),_=g.map(function(T,E){var S=a.getTickLineCoord(T),k=S.line,A=S.tick,C=mt(mt(mt(mt({textAnchor:v,verticalAnchor:b},y),{},{stroke:"none",fill:u},w),A),{},{index:E,payload:T,visibleTicksCount:g.length,tickFormatter:d});return I.createElement(we,Ea({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Po(a.props,T,E)),l&&I.createElement("line",Ea({},x,k,{className:ve("recharts-cartesian-axis-tick-line",_n(l,"className"))})),c&&t.renderTickItem(c,C,"".concat(ce(d)?d(T.value,E):T.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,g=Um(d,Lie),v=h;return ce(l)&&(v=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!v||!v.length?null:I.createElement(we,{className:ve("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),At.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=ve(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(r)?a=I.cloneElement(r,mt(mt({},i),{},{className:s})):ce(r)?a=r(mt(mt({},i),{},{className:s})):a=I.createElement(Io,Ea({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(O.Component);Jb(Ls,"displayName","CartesianAxis");Jb(Ls,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Wie=["x1","y1","x2","y2","key"],Kie=["offset"];function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(n),!0).forEach(function(r){Jie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jie(e,t,n){return t=Yie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yie(e){var t=Xie(e,"string");return Ro(t)=="symbol"?t:t+""}function Xie(e,t){if(Ro(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ro(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},go.apply(this,arguments)}function LE(e,t){if(e==null)return{};var n=Qie(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Qie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Zie=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,o=t.y,a=t.width,s=t.height,l=t.ry;return I.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $O(e,t){var n;if(I.isValidElement(e))n=I.cloneElement(e,t);else if(ce(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=LE(t,Wie),u=ae(l,!1);u.offset;var c=LE(u,Kie);n=I.createElement("line",go({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function eoe(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=qt(qt({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return $O(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function toe(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=qt(qt({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return $O(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function noe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var v=!c[g+1],b=v?i+a-h:c[g+1]-h;if(b<=0)return null;var y=g%t.length;return I.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:b,width:o,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function roe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var v=!c[g+1],b=v?o+s-h:c[g+1]-h;if(b<=0)return null;var y=g%r.length;return I.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:b,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ioe=function(t,n){var r=t.xAxis,i=t.width,o=t.height,a=t.offset;return ON(Kb(qt(qt(qt({},Ls.defaultProps),r),{},{ticks:Dr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},ooe=function(t,n){var r=t.yAxis,i=t.width,o=t.height,a=t.offset;return ON(Kb(qt(qt(qt({},Ls.defaultProps),r),{},{ticks:Dr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},na={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function DO(e){var t,n,r,i,o,a,s=qb(),l=Gb(),u=Hre(),c=qt(qt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:na.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:na.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:na.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:na.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:na.vertical,verticalFill:(a=e.verticalFill)!==null&&a!==void 0?a:na.verticalFill,x:W(e.x)?e.x:u.left,y:W(e.y)?e.y:u.top,width:W(e.width)?e.width:u.width,height:W(e.height)?e.height:u.height}),d=c.x,h=c.y,g=c.width,v=c.height,b=c.syncWithTicks,y=c.horizontalValues,w=c.verticalValues,x=Vre(),_=qre();if(!W(g)||g<=0||!W(v)||v<=0||!W(d)||d!==+d||!W(h)||h!==+h)return null;var T=c.verticalCoordinatesGenerator||ioe,E=c.horizontalCoordinatesGenerator||ooe,S=c.horizontalPoints,k=c.verticalPoints;if((!S||!S.length)&&ce(E)){var A=y&&y.length,C=E({yAxis:_?qt(qt({},_),{},{ticks:A?y:_.ticks}):void 0,width:s,height:l,offset:u},A?!0:b);rr(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ro(C),"]")),Array.isArray(C)&&(S=C)}if((!k||!k.length)&&ce(T)){var N=w&&w.length,R=T({xAxis:x?qt(qt({},x),{},{ticks:N?w:x.ticks}):void 0,width:s,height:l,offset:u},N?!0:b);rr(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ro(R),"]")),Array.isArray(R)&&(k=R)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Zie,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),I.createElement(eoe,go({},c,{offset:u,horizontalPoints:S,xAxis:x,yAxis:_})),I.createElement(toe,go({},c,{offset:u,verticalPoints:k,xAxis:x,yAxis:_})),I.createElement(noe,go({},c,{horizontalPoints:S})),I.createElement(roe,go({},c,{verticalPoints:k})))}DO.displayName="CartesianGrid";var aoe=["layout","type","stroke","connectNulls","isRange","ref"],soe=["key"],jO;function gs(e){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function LO(e,t){if(e==null)return{};var n=loe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function loe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vo.apply(this,arguments)}function UE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(n),!0).forEach(function(r){mr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FO(r.key),r)}}function coe(e,t,n){return t&&FE(e.prototype,t),n&&FE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function doe(e,t,n){return t=Xf(t),foe(e,UO()?Reflect.construct(t,n||[],Xf(e).constructor):t.apply(e,n))}function foe(e,t){if(t&&(gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hoe(e)}function hoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UO=function(){return!!e})()}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xf(e)}function poe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yy(e,t)}function yy(e,t){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yy(e,t)}function mr(e,t,n){return t=FO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FO(e){var t=moe(e,"string");return gs(t)=="symbol"?t:t+""}function moe(e,t){if(gs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bi=function(e){function t(){var n;uoe(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=doe(this,t,[].concat(i)),mr(n,"state",{isAnimationFinished:!0}),mr(n,"id",Ns("recharts-area-")),mr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ce(a)&&a()}),mr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ce(a)&&a()}),n}return poe(t,e),coe(t,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=ae(this.props,!1),g=ae(u,!0),v=c.map(function(y,w){var x=ai(ai(ai({key:"dot-".concat(w),r:3},h),g),{},{index:w,cx:y.x,cy:y.y,dataKey:d,value:y.value,payload:y.payload,points:c});return t.renderDotItem(u,x)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return I.createElement(we,vo({className:"recharts-area-dots"},b),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,c=r*Math.abs(l-u),d=bi(a.map(function(h){return h.y||0}));return W(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(bi(o.map(function(h){return h.y||0})),d)),W(d)?I.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,c=r*Math.abs(l-u),d=bi(a.map(function(h){return h.x||0}));return W(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(bi(o.map(function(h){return h.x||0})),d)),W(d)?I.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,c=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var g=LO(s,aoe);return I.createElement(we,{clipPath:o?"url(#clipPath-".concat(a,")"):null},I.createElement(La,vo({},ae(g,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&I.createElement(La,vo({},ae(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&h&&I.createElement(La,vo({},ae(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,g=a.animationId,v=this.state,b=v.prevPoints,y=v.prevBaseLine;return I.createElement(wr,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var x=w.t;if(b){var _=b.length/s.length,T=s.map(function(A,C){var N=Math.floor(C*_);if(b[N]){var R=b[N],M=on(R.x,A.x),L=on(R.y,A.y);return ai(ai({},A),{},{x:M(x),y:L(x)})}return A}),E;if(W(l)&&typeof l=="number"){var S=on(y,l);E=S(x)}else if(ge(l)||Is(l)){var k=on(y,0);E=k(x)}else E=l.map(function(A,C){var N=Math.floor(C*_);if(y[N]){var R=y[N],M=on(R.x,A.x),L=on(R.y,A.y);return ai(ai({},A),{},{x:M(x),y:L(x)})}return A});return o.renderAreaStatically(T,E,r,i)}return I.createElement(we,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(x))),I.createElement(we,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&a&&a.length&&(!c&&h>0||!rs(c,a)||!rs(d,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,g=i.width,v=i.height,b=i.isAnimationActive,y=i.id;if(o||!s||!s.length)return null;var w=this.state.isAnimationFinished,x=s.length===1,_=ve("recharts-area",l),T=d&&d.allowDataOverflow,E=h&&h.allowDataOverflow,S=T||E,k=ge(y)?this.id:y,A=(r=ae(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=A.r,N=C===void 0?3:C,R=A.strokeWidth,M=R===void 0?2:R,L=j5(a)?a:{},$=L.clipDot,D=$===void 0?!0:$,U=N*2+M;return I.createElement(we,{className:_},T||E?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(k)},I.createElement("rect",{x:T?c:c-g/2,y:E?u:u-v/2,width:T?g:g*2,height:E?v:v*2})),!D&&I.createElement("clipPath",{id:"clipPath-dots-".concat(k)},I.createElement("rect",{x:c-U/2,y:u-U/2,width:g+U,height:v+U}))):null,x?null:this.renderArea(S,k),(a||x)&&this.renderDots(S,D,k),(!b||w)&&Fr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(O.PureComponent);jO=Bi;mr(Bi,"displayName","Area");mr(Bi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!jo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});mr(Bi,"getBaseValue",function(e,t,n,r){var i=e.layout,o=e.baseValue,a=t.props.baseValue,s=a??o;if(W(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return s==="dataMin"?d:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});mr(Bi,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,o=e.xAxisTicks,a=e.yAxisTicks,s=e.bandSize,l=e.dataKey,u=e.stackedData,c=e.dataStartIndex,d=e.displayedData,h=e.offset,g=t.layout,v=u&&u.length,b=jO.getBaseValue(t,n,r,i),y=g==="horizontal",w=!1,x=d.map(function(T,E){var S;v?S=u[c+E]:(S=bt(T,l),Array.isArray(S)?w=!0:S=[b,S]);var k=S[1]==null||v&&bt(T,l)==null;return y?{x:p1({axis:r,ticks:o,bandSize:s,entry:T,index:E}),y:k?null:i.scale(S[1]),value:S,payload:T}:{x:k?null:r.scale(S[1]),y:p1({axis:i,ticks:a,bandSize:s,entry:T,index:E}),value:S,payload:T}}),_;return v||w?_=x.map(function(T){var E=Array.isArray(T.value)?T.value[0]:null;return y?{x:T.x,y:E!=null&&T.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:T.y}}):_=y?i.scale(b):r.scale(b),ai({points:x,baseLine:_,layout:g,isRange:w},h)});mr(Bi,"renderDotItem",function(e,t){var n;if(I.isValidElement(e))n=I.cloneElement(e,t);else if(ce(e))n=e(t);else{var r=ve("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,o=LO(t,soe);n=I.createElement(up,vo({},o,{key:i,className:r}))}return n});function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function goe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function voe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VO(r.key),r)}}function yoe(e,t,n){return t&&voe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function boe(e,t,n){return t=Qf(t),xoe(e,BO()?Reflect.construct(t,n||[],Qf(e).constructor):t.apply(e,n))}function xoe(e,t){if(t&&(vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return woe(e)}function woe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BO=function(){return!!e})()}function Qf(e){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qf(e)}function _oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&by(e,t)}function by(e,t){return by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},by(e,t)}function zO(e,t,n){return t=VO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VO(e){var t=Soe(e,"string");return vs(t)=="symbol"?t:t+""}function Soe(e,t){if(vs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xy.apply(this,arguments)}function Eoe(e){var t=e.xAxisId,n=qb(),r=Gb(),i=EO(t);return i==null?null:O.createElement(Ls,xy({},i,{className:ve("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Dr(a,!0)}}))}var wp=function(e){function t(){return goe(this,t),boe(this,t,arguments)}return _oe(t,e),yoe(t,[{key:"render",value:function(){return O.createElement(Eoe,this.props)}}])}(O.Component);zO(wp,"displayName","XAxis");zO(wp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function Toe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function koe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HO(r.key),r)}}function Aoe(e,t,n){return t&&koe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Coe(e,t,n){return t=Zf(t),Poe(e,qO()?Reflect.construct(t,n||[],Zf(e).constructor):t.apply(e,n))}function Poe(e,t){if(t&&(ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ioe(e)}function Ioe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qO=function(){return!!e})()}function Zf(e){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zf(e)}function Noe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wy(e,t)}function wy(e,t){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wy(e,t)}function GO(e,t,n){return t=HO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HO(e){var t=Ooe(e,"string");return ys(t)=="symbol"?t:t+""}function Ooe(e,t){if(ys(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_y.apply(this,arguments)}var Roe=function(t){var n=t.yAxisId,r=qb(),i=Gb(),o=TO(n);return o==null?null:O.createElement(Ls,_y({},o,{className:ve("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Dr(s,!0)}}))},_p=function(e){function t(){return Toe(this,t),Coe(this,t,arguments)}return Noe(t,e),Aoe(t,[{key:"render",value:function(){return O.createElement(Roe,this.props)}}])}(O.Component);GO(_p,"displayName","YAxis");GO(_p,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function BE(e){return joe(e)||Doe(e)||$oe(e)||Moe()}function Moe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $oe(e,t){if(e){if(typeof e=="string")return Sy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sy(e,t)}}function Doe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function joe(e){if(Array.isArray(e))return Sy(e)}function Sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ey=function(t,n,r,i,o){var a=Dn(t,Wb),s=Dn(t,yp),l=[].concat(BE(a),BE(s)),u=Dn(t,xp),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(b,y){if(y.props[c]===r&&br(y.props,"extendDomain")&&W(y.props[d])){var w=y.props[d];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},h)),u.length){var g="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(b,y){if(y.props[c]===r&&br(y.props,"extendDomain")&&W(y.props[g])&&W(y.props[v])){var w=y.props[g],x=y.props[v];return[Math.min(b[0],w,x),Math.max(b[1],w,x)]}return b},h)}return o&&o.length&&(h=o.reduce(function(b,y){return W(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},h)),h},WO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,d||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,g=d.length,v=new Array(g);h<g;h++)v[h]=d[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,g,v){var b=n?n+u:u;if(!this._events[b])return!1;var y=this._events[b],w=arguments.length,x,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,h),!0;case 5:return y.fn.call(y.context,c,d,h,g),!0;case 6:return y.fn.call(y.context,c,d,h,g,v),!0}for(_=1,x=new Array(w-1);_<w;_++)x[_-1]=arguments[_];y.fn.apply(y.context,x)}else{var T=y.length,E;for(_=0;_<T;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),w){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,c);break;case 3:y[_].fn.call(y[_].context,c,d);break;case 4:y[_].fn.call(y[_].context,c,d,h);break;default:if(!x)for(E=1,x=new Array(w-1);E<w;E++)x[E-1]=arguments[E];y[_].fn.apply(y[_].context,x)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===c&&(!h||v.once)&&(!d||v.context===d)&&a(this,g);else{for(var b=0,y=[],w=v.length;b<w;b++)(v[b].fn!==c||h&&!v[b].once||d&&v[b].context!==d)&&y.push(v[b]);y.length?this._events[g]=y.length===1?y[0]:y:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(WO);var Loe=WO.exports;const Uoe=Oe(Loe);var Fm=new Uoe,Bm="recharts.syncMouseEvents";function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function Foe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Boe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KO(r.key),r)}}function zoe(e,t,n){return t&&Boe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zm(e,t,n){return t=KO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KO(e){var t=Voe(e,"string");return Wu(t)=="symbol"?t:t+""}function Voe(e,t){if(Wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qoe=function(){function e(){Foe(this,e),zm(this,"activeIndex",0),zm(this,"coordinateList",[]),zm(this,"layout","horizontal")}return zoe(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Goe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&W(r)&&W(i))return!0}return!1}function Hoe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function JO(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,a=Ge(t,n,r,i),s=Ge(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function Woe(e,t,n){var r,i,o,a;if(e==="horizontal")r=t.x,o=r,i=n.top,a=n.top+n.height;else if(e==="vertical")i=t.y,a=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,d=t.angle,h=Ge(s,l,u,d),g=Ge(s,l,c,d);r=h.x,i=h.y,o=g.x,a=g.y}else return JO(t);return[{x:r,y:i},{x:o,y:a}]}function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(n),!0).forEach(function(r){Koe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Koe(e,t,n){return t=Joe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Joe(e){var t=Yoe(e,"string");return Ku(t)=="symbol"?t:t+""}function Yoe(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xoe(e){var t,n,r=e.element,i=e.tooltipEventType,o=e.isActive,a=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,c=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,g=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,b=La;if(h==="ScatterChart")v=a,b=yee;else if(h==="BarChart")v=Hoe(d,a,l,c),b=Fb;else if(d==="radial"){var y=JO(a),w=y.cx,x=y.cy,_=y.radius,T=y.startAngle,E=y.endAngle;v={cx:w,cy:x,startAngle:T,endAngle:E,innerRadius:_,outerRadius:_},b=VN}else v={points:Woe(d,a,l)},b=La;var S=Xc(Xc(Xc(Xc({stroke:"#ccc",pointerEvents:"none"},l),v),ae(g,!1)),{},{payload:s,payloadIndex:u,className:ve("recharts-tooltip-cursor",g.className)});return O.isValidElement(g)?O.cloneElement(g,S):O.createElement(b,S)}var Qoe=["item"],Zoe=["children","className","width","height","style","compact","title","desc"];function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ta.apply(this,arguments)}function VE(e,t){return nae(e)||tae(e,t)||XO(e,t)||eae()}function eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function nae(e){if(Array.isArray(e))return e}function qE(e,t){if(e==null)return{};var n=rae(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rae(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function iae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QO(r.key),r)}}function aae(e,t,n){return t&&oae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sae(e,t,n){return t=eh(t),lae(e,YO()?Reflect.construct(t,n||[],eh(e).constructor):t.apply(e,n))}function lae(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uae(e)}function uae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YO=function(){return!!e})()}function eh(e){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eh(e)}function cae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ty(e,t)}function Ty(e,t){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ty(e,t)}function xs(e){return hae(e)||fae(e)||XO(e)||dae()}function dae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XO(e,t){if(e){if(typeof e=="string")return ky(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ky(e,t)}}function fae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hae(e){if(Array.isArray(e))return ky(e)}function ky(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(r){le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function le(e,t,n){return t=QO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QO(e){var t=pae(e,"string");return bs(t)=="symbol"?t:t+""}function pae(e,t){if(bs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mae={xAxis:["bottom","top"],yAxis:["left","right"]},gae={width:"100%",height:"100%"},ZO={x:0,y:0};function Qc(e){return e}var vae=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},yae=function(t,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var a=o.coordinate,s=i.radius;return F(F(F({},i),Ge(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return F(F(F({},i),Ge(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return ZO},Sp=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(xs(s),xs(u)):s},[]);return a.length>0?a:t&&t.length&&W(i)&&W(o)?t.slice(i,o+1):[]};function eR(e){return e==="number"?[0,"auto"]:void 0}var Ay=function(t,n,r,i){var o=t.graphicalItems,a=t.tooltipAxis,s=Sp(n,t);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=d===void 0?s:d;h=Qd(g,a.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(xs(l),[jN(u,h)]):l},[])},HE=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},a=vae(o,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,c=LY(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=Ay(t,n,c,d),g=yae(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:g}}return null},bae=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,d=t.children,h=t.stackOffset,g=NN(c,o);return r.reduce(function(v,b){var y,w=b.type.defaultProps!==void 0?F(F({},b.type.defaultProps),b.props):b.props,x=w.type,_=w.dataKey,T=w.allowDataOverflow,E=w.allowDuplicatedCategory,S=w.scale,k=w.ticks,A=w.includeHidden,C=w[a];if(v[C])return v;var N=Sp(t.data,{graphicalItems:i.filter(function(H){var ie,he=a in H.props?H.props[a]:(ie=H.type.defaultProps)===null||ie===void 0?void 0:ie[a];return he===C}),dataStartIndex:l,dataEndIndex:u}),R=N.length,M,L,$;Goe(w.domain,T,x)&&(M=zv(w.domain,null,T),g&&(x==="number"||S!=="auto")&&($=Ml(N,_,"category")));var D=eR(x);if(!M||M.length===0){var U,V=(U=w.domain)!==null&&U!==void 0?U:D;if(_){if(M=Ml(N,_,x),x==="category"&&g){var P=A5(M);E&&P?(L=M,M=Bf(0,R)):E||(M=y1(V,M,b).reduce(function(H,ie){return H.indexOf(ie)>=0?H:[].concat(xs(H),[ie])},[]))}else if(x==="category")E?M=M.filter(function(H){return H!==""&&!ge(H)}):M=y1(V,M,b).reduce(function(H,ie){return H.indexOf(ie)>=0||ie===""||ge(ie)?H:[].concat(xs(H),[ie])},[]);else if(x==="number"){var j=VY(N,i.filter(function(H){var ie,he,ye=a in H.props?H.props[a]:(ie=H.type.defaultProps)===null||ie===void 0?void 0:ie[a],Fe="hide"in H.props?H.props.hide:(he=H.type.defaultProps)===null||he===void 0?void 0:he.hide;return ye===C&&(A||!Fe)}),_,o,c);j&&(M=j)}g&&(x==="number"||S!=="auto")&&($=Ml(N,_,"category"))}else g?M=Bf(0,R):s&&s[C]&&s[C].hasStack&&x==="number"?M=h==="expand"?[0,1]:DN(s[C].stackGroups,l,u):M=IN(N,i.filter(function(H){var ie=a in H.props?H.props[a]:H.type.defaultProps[a],he="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return ie===C&&(A||!he)}),x,c,!0);if(x==="number")M=Ey(d,M,C,o,k),V&&(M=zv(V,M,T));else if(x==="category"&&V){var z=V,Y=M.every(function(H){return z.indexOf(H)>=0});Y&&(M=z)}}return F(F({},v),{},le({},C,F(F({},w),{},{axisType:o,domain:M,categoricalDomain:$,duplicateDomain:L,originalDomain:(y=w.domain)!==null&&y!==void 0?y:D,isCategorical:g,layout:c})))},{})},xae=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,d=t.children,h=Sp(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,v=NN(c,o),b=-1;return r.reduce(function(y,w){var x=w.type.defaultProps!==void 0?F(F({},w.type.defaultProps),w.props):w.props,_=x[a],T=eR("number");if(!y[_]){b++;var E;return v?E=Bf(0,g):s&&s[_]&&s[_].hasStack?(E=DN(s[_].stackGroups,l,u),E=Ey(d,E,_,o)):(E=zv(T,IN(h,r.filter(function(S){var k,A,C=a in S.props?S.props[a]:(k=S.type.defaultProps)===null||k===void 0?void 0:k[a],N="hide"in S.props?S.props.hide:(A=S.type.defaultProps)===null||A===void 0?void 0:A.hide;return C===_&&!N}),"number",c),i.defaultProps.allowDataOverflow),E=Ey(d,E,_,o)),F(F({},y),{},le({},_,F(F({axisType:o},i.defaultProps),{},{hide:!0,orientation:_n(mae,"".concat(o,".").concat(b%2),null),domain:E,originalDomain:T,isCategorical:v,layout:c})))}return y},{})},wae=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.children,d="".concat(i,"Id"),h=Dn(c,o),g={};return h&&h.length?g=bae(t,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=xae(t,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},_ae=function(t){var n=mi(t),r=Dr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:hb(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Cf(n,r)}},WE=function(t){var n=t.children,r=t.defaultShowTooltip,i=gn(n,cs),o=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Sae=function(t){return!t||!t.length?!1:t.some(function(n){var r=Lr(n&&n.type);return r&&r.indexOf("Bar")>=0})},KE=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Eae=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,a=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},g=gn(d,cs),v=gn(d,xo),b=Object.keys(l).reduce(function(E,S){var k=l[S],A=k.orientation;return!k.mirror&&!k.hide?F(F({},E),{},le({},A,E[A]+k.width)):E},{left:h.left||0,right:h.right||0}),y=Object.keys(a).reduce(function(E,S){var k=a[S],A=k.orientation;return!k.mirror&&!k.hide?F(F({},E),{},le({},A,_n(E,"".concat(A))+k.height)):E},{top:h.top||0,bottom:h.bottom||0}),w=F(F({},y),b),x=w.bottom;g&&(w.bottom+=g.props.height||cs.defaultProps.height),v&&n&&(w=BY(w,i,r,n));var _=u-w.left-w.right,T=c-w.top-w.bottom;return F(F({brushBottom:x},w),{},{width:Math.max(_,0),height:Math.max(T,0)})},Tae=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},tR=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,a=t.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=t.axisComponents,u=t.legendContent,c=t.formatAxisMap,d=t.defaultProps,h=function(w,x){var _=x.graphicalItems,T=x.stackGroups,E=x.offset,S=x.updateId,k=x.dataStartIndex,A=x.dataEndIndex,C=w.barSize,N=w.layout,R=w.barGap,M=w.barCategoryGap,L=w.maxBarSize,$=KE(N),D=$.numericAxisName,U=$.cateAxisName,V=Sae(_),P=[];return _.forEach(function(j,z){var Y=Sp(w.data,{graphicalItems:[j],dataStartIndex:k,dataEndIndex:A}),H=j.type.defaultProps!==void 0?F(F({},j.type.defaultProps),j.props):j.props,ie=H.dataKey,he=H.maxBarSize,ye=H["".concat(D,"Id")],Fe=H["".concat(U,"Id")],Ot={},_e=l.reduce(function(pt,Ut){var Vi=x["".concat(Ut.axisType,"Map")],qi=H["".concat(Ut.axisType,"Id")];Vi&&Vi[qi]||Ut.axisType==="zAxis"||Oo();var J=Vi[qi];return F(F({},pt),{},le(le({},Ut.axisType,J),"".concat(Ut.axisType,"Ticks"),Dr(J)))},Ot),X=_e[U],de=_e["".concat(U,"Ticks")],me=T&&T[ye]&&T[ye].hasStack&&QY(j,T[ye].stackGroups),G=Lr(j.type).indexOf("Bar")>=0,Ie=Cf(X,de),be=[],Ee=V&&UY({barSize:C,stackGroups:T,totalSize:Tae(_e,U)});if(G){var Ye,st,Ht=ge(he)?L:he,je=(Ye=(st=Cf(X,de,!0))!==null&&st!==void 0?st:Ht)!==null&&Ye!==void 0?Ye:0;be=FY({barGap:R,barCategoryGap:M,bandSize:je!==Ie?je:Ie,sizeList:Ee[Fe],maxBarSize:Ht}),je!==Ie&&(be=be.map(function(pt){return F(F({},pt),{},{position:F(F({},pt.position),{},{offset:pt.position.offset-je/2})})}))}var Wt=j&&j.type&&j.type.getComposedData;Wt&&P.push({props:F(F({},Wt(F(F({},_e),{},{displayedData:Y,props:w,dataKey:ie,item:j,bandSize:Ie,barPosition:be,offset:E,stackedData:me,layout:N,dataStartIndex:k,dataEndIndex:A}))),{},le(le(le({key:j.key||"item-".concat(z)},D,_e[D]),U,_e[U]),"animationId",S)),childIndex:F5(j,w.children),item:j})}),P},g=function(w,x){var _=w.props,T=w.dataStartIndex,E=w.dataEndIndex,S=w.updateId;if(!d_({props:_}))return null;var k=_.children,A=_.layout,C=_.stackOffset,N=_.data,R=_.reverseStackOrder,M=KE(A),L=M.numericAxisName,$=M.cateAxisName,D=Dn(k,r),U=YY(N,D,"".concat(L,"Id"),"".concat($,"Id"),C,R),V=l.reduce(function(H,ie){var he="".concat(ie.axisType,"Map");return F(F({},H),{},le({},he,wae(_,F(F({},ie),{},{graphicalItems:D,stackGroups:ie.axisType===L&&U,dataStartIndex:T,dataEndIndex:E}))))},{}),P=Eae(F(F({},V),{},{props:_,graphicalItems:D}),x==null?void 0:x.legendBBox);Object.keys(V).forEach(function(H){V[H]=c(_,V[H],P,H.replace("Map",""),n)});var j=V["".concat($,"Map")],z=_ae(j),Y=h(_,F(F({},V),{},{dataStartIndex:T,dataEndIndex:E,updateId:S,graphicalItems:D,stackGroups:U,offset:P}));return F(F({formattedGraphicalItems:Y,graphicalItems:D,offset:P,stackGroups:U},z),V)},v=function(y){function w(x){var _,T,E;return iae(this,w),E=sae(this,w,[x]),le(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),le(E,"accessibilityManager",new qoe),le(E,"handleLegendBBoxUpdate",function(S){if(S){var k=E.state,A=k.dataStartIndex,C=k.dataEndIndex,N=k.updateId;E.setState(F({legendBBox:S},g({props:E.props,dataStartIndex:A,dataEndIndex:C,updateId:N},F(F({},E.state),{},{legendBBox:S}))))}}),le(E,"handleReceiveSyncEvent",function(S,k,A){if(E.props.syncId===S){if(A===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(k)}}),le(E,"handleBrushChange",function(S){var k=S.startIndex,A=S.endIndex;if(k!==E.state.dataStartIndex||A!==E.state.dataEndIndex){var C=E.state.updateId;E.setState(function(){return F({dataStartIndex:k,dataEndIndex:A},g({props:E.props,dataStartIndex:k,dataEndIndex:A,updateId:C},E.state))}),E.triggerSyncEvent({dataStartIndex:k,dataEndIndex:A})}}),le(E,"handleMouseEnter",function(S){var k=E.getMouseInfo(S);if(k){var A=F(F({},k),{},{isTooltipActive:!0});E.setState(A),E.triggerSyncEvent(A);var C=E.props.onMouseEnter;ce(C)&&C(A,S)}}),le(E,"triggeredAfterMouseMove",function(S){var k=E.getMouseInfo(S),A=k?F(F({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(A),E.triggerSyncEvent(A);var C=E.props.onMouseMove;ce(C)&&C(A,S)}),le(E,"handleItemMouseEnter",function(S){E.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),le(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),le(E,"handleMouseMove",function(S){S.persist(),E.throttleTriggeredAfterMouseMove(S)}),le(E,"handleMouseLeave",function(S){E.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};E.setState(k),E.triggerSyncEvent(k);var A=E.props.onMouseLeave;ce(A)&&A(k,S)}),le(E,"handleOuterEvent",function(S){var k=U5(S),A=_n(E.props,"".concat(k));if(k&&ce(A)){var C,N;/.*touch.*/i.test(k)?N=E.getMouseInfo(S.changedTouches[0]):N=E.getMouseInfo(S),A((C=N)!==null&&C!==void 0?C:{},S)}}),le(E,"handleClick",function(S){var k=E.getMouseInfo(S);if(k){var A=F(F({},k),{},{isTooltipActive:!0});E.setState(A),E.triggerSyncEvent(A);var C=E.props.onClick;ce(C)&&C(A,S)}}),le(E,"handleMouseDown",function(S){var k=E.props.onMouseDown;if(ce(k)){var A=E.getMouseInfo(S);k(A,S)}}),le(E,"handleMouseUp",function(S){var k=E.props.onMouseUp;if(ce(k)){var A=E.getMouseInfo(S);k(A,S)}}),le(E,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),le(E,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseDown(S.changedTouches[0])}),le(E,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseUp(S.changedTouches[0])}),le(E,"handleDoubleClick",function(S){var k=E.props.onDoubleClick;if(ce(k)){var A=E.getMouseInfo(S);k(A,S)}}),le(E,"handleContextMenu",function(S){var k=E.props.onContextMenu;if(ce(k)){var A=E.getMouseInfo(S);k(A,S)}}),le(E,"triggerSyncEvent",function(S){E.props.syncId!==void 0&&Fm.emit(Bm,E.props.syncId,S,E.eventEmitterSymbol)}),le(E,"applySyncEvent",function(S){var k=E.props,A=k.layout,C=k.syncMethod,N=E.state.updateId,R=S.dataStartIndex,M=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)E.setState(F({dataStartIndex:R,dataEndIndex:M},g({props:E.props,dataStartIndex:R,dataEndIndex:M,updateId:N},E.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,$=S.chartY,D=S.activeTooltipIndex,U=E.state,V=U.offset,P=U.tooltipTicks;if(!V)return;if(typeof C=="function")D=C(P,S);else if(C==="value"){D=-1;for(var j=0;j<P.length;j++)if(P[j].value===S.activeLabel){D=j;break}}var z=F(F({},V),{},{x:V.left,y:V.top}),Y=Math.min(L,z.x+z.width),H=Math.min($,z.y+z.height),ie=P[D]&&P[D].value,he=Ay(E.state,E.props.data,D),ye=P[D]?{x:A==="horizontal"?P[D].coordinate:Y,y:A==="horizontal"?H:P[D].coordinate}:ZO;E.setState(F(F({},S),{},{activeLabel:ie,activeCoordinate:ye,activePayload:he,activeTooltipIndex:D}))}else E.setState(S)}),le(E,"renderCursor",function(S){var k,A=E.state,C=A.isTooltipActive,N=A.activeCoordinate,R=A.activePayload,M=A.offset,L=A.activeTooltipIndex,$=A.tooltipAxisBandSize,D=E.getTooltipEventType(),U=(k=S.props.active)!==null&&k!==void 0?k:C,V=E.props.layout,P=S.key||"_recharts-cursor";return I.createElement(Xoe,{key:P,activeCoordinate:N,activePayload:R,activeTooltipIndex:L,chartName:n,element:S,isActive:U,layout:V,offset:M,tooltipAxisBandSize:$,tooltipEventType:D})}),le(E,"renderPolarAxis",function(S,k,A){var C=_n(S,"type.axisType"),N=_n(E.state,"".concat(C,"Map")),R=S.type.defaultProps,M=R!==void 0?F(F({},R),S.props):S.props,L=N&&N[M["".concat(C,"Id")]];return O.cloneElement(S,F(F({},L),{},{className:ve(C,L.className),key:S.key||"".concat(k,"-").concat(A),ticks:Dr(L,!0)}))}),le(E,"renderPolarGrid",function(S){var k=S.props,A=k.radialLines,C=k.polarAngles,N=k.polarRadius,R=E.state,M=R.radiusAxisMap,L=R.angleAxisMap,$=mi(M),D=mi(L),U=D.cx,V=D.cy,P=D.innerRadius,j=D.outerRadius;return O.cloneElement(S,{polarAngles:Array.isArray(C)?C:Dr(D,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(N)?N:Dr($,!0).map(function(z){return z.coordinate}),cx:U,cy:V,innerRadius:P,outerRadius:j,key:S.key||"polar-grid",radialLines:A})}),le(E,"renderLegend",function(){var S=E.state.formattedGraphicalItems,k=E.props,A=k.children,C=k.width,N=k.height,R=E.props.margin||{},M=C-(R.left||0)-(R.right||0),L=CN({children:A,formattedGraphicalItems:S,legendWidth:M,legendContent:u});if(!L)return null;var $=L.item,D=qE(L,Qoe);return O.cloneElement($,F(F({},D),{},{chartWidth:C,chartHeight:N,margin:R,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),le(E,"renderTooltip",function(){var S,k=E.props,A=k.children,C=k.accessibilityLayer,N=gn(A,Xn);if(!N)return null;var R=E.state,M=R.isTooltipActive,L=R.activeCoordinate,$=R.activePayload,D=R.activeLabel,U=R.offset,V=(S=N.props.active)!==null&&S!==void 0?S:M;return O.cloneElement(N,{viewBox:F(F({},U),{},{x:U.left,y:U.top}),active:V,label:D,payload:V?$:[],coordinate:L,accessibilityLayer:C})}),le(E,"renderBrush",function(S){var k=E.props,A=k.margin,C=k.data,N=E.state,R=N.offset,M=N.dataStartIndex,L=N.dataEndIndex,$=N.updateId;return O.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Wc(E.handleBrushChange,S.props.onChange),data:C,x:W(S.props.x)?S.props.x:R.left,y:W(S.props.y)?S.props.y:R.top+R.height+R.brushBottom-(A.bottom||0),width:W(S.props.width)?S.props.width:R.width,startIndex:M,endIndex:L,updateId:"brush-".concat($)})}),le(E,"renderReferenceElement",function(S,k,A){if(!S)return null;var C=E,N=C.clipPathId,R=E.state,M=R.xAxisMap,L=R.yAxisMap,$=R.offset,D=S.type.defaultProps||{},U=S.props,V=U.xAxisId,P=V===void 0?D.xAxisId:V,j=U.yAxisId,z=j===void 0?D.yAxisId:j;return O.cloneElement(S,{key:S.key||"".concat(k,"-").concat(A),xAxis:M[P],yAxis:L[z],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:N})}),le(E,"renderActivePoints",function(S){var k=S.item,A=S.activePoint,C=S.basePoint,N=S.childIndex,R=S.isRange,M=[],L=k.props.key,$=k.item.type.defaultProps!==void 0?F(F({},k.item.type.defaultProps),k.item.props):k.item.props,D=$.activeDot,U=$.dataKey,V=F(F({index:N,dataKey:U,cx:A.x,cy:A.y,r:4,fill:Ub(k.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},ae(D,!1)),Zd(D));return M.push(w.renderActiveDot(D,V,"".concat(L,"-activePoint-").concat(N))),C?M.push(w.renderActiveDot(D,F(F({},V),{},{cx:C.x,cy:C.y}),"".concat(L,"-basePoint-").concat(N))):R&&M.push(null),M}),le(E,"renderGraphicChild",function(S,k,A){var C=E.filterFormatItem(S,k,A);if(!C)return null;var N=E.getTooltipEventType(),R=E.state,M=R.isTooltipActive,L=R.tooltipAxis,$=R.activeTooltipIndex,D=R.activeLabel,U=E.props.children,V=gn(U,Xn),P=C.props,j=P.points,z=P.isRange,Y=P.baseLine,H=C.item.type.defaultProps!==void 0?F(F({},C.item.type.defaultProps),C.item.props):C.item.props,ie=H.activeDot,he=H.hide,ye=H.activeBar,Fe=H.activeShape,Ot=!!(!he&&M&&V&&(ie||ye||Fe)),_e={};N!=="axis"&&V&&V.props.trigger==="click"?_e={onClick:Wc(E.handleItemMouseEnter,S.props.onClick)}:N!=="axis"&&(_e={onMouseLeave:Wc(E.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Wc(E.handleItemMouseEnter,S.props.onMouseEnter)});var X=O.cloneElement(S,F(F({},C.props),_e));function de(Ut){return typeof L.dataKey=="function"?L.dataKey(Ut.payload):null}if(Ot)if($>=0){var me,G;if(L.dataKey&&!L.allowDuplicatedCategory){var Ie=typeof L.dataKey=="function"?de:"payload.".concat(L.dataKey.toString());me=Qd(j,Ie,D),G=z&&Y&&Qd(Y,Ie,D)}else me=j==null?void 0:j[$],G=z&&Y&&Y[$];if(Fe||ye){var be=S.props.activeIndex!==void 0?S.props.activeIndex:$;return[O.cloneElement(S,F(F(F({},C.props),_e),{},{activeIndex:be})),null,null]}if(!ge(me))return[X].concat(xs(E.renderActivePoints({item:C,activePoint:me,basePoint:G,childIndex:$,isRange:z})))}else{var Ee,Ye=(Ee=E.getItemByXY(E.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:X},st=Ye.graphicalItem,Ht=st.item,je=Ht===void 0?S:Ht,Wt=st.childIndex,pt=F(F(F({},C.props),_e),{},{activeIndex:Wt});return[O.cloneElement(je,pt),null,null]}return z?[X,null,null]:[X,null]}),le(E,"renderCustomized",function(S,k,A){return O.cloneElement(S,F(F({key:"recharts-customized-".concat(A)},E.props),E.state))}),le(E,"renderMap",{CartesianGrid:{handler:Qc,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Qc},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Qc},YAxis:{handler:Qc},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:Ns("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=AI(E.triggeredAfterMouseMove,(T=x.throttleDelay)!==null&&T!==void 0?T:1e3/60),E.state={},E}return cae(w,y),aae(w,[{key:"componentDidMount",value:function(){var _,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,T=_.children,E=_.data,S=_.height,k=_.layout,A=gn(T,Xn);if(A){var C=A.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,R=Ay(this.state,E,C,N),M=this.state.tooltipTicks[C].coordinate,L=(this.state.offset.top+S)/2,$=k==="horizontal",D=$?{x:M,y:L}:{y:M,x:L},U=this.state.formattedGraphicalItems.find(function(P){var j=P.item;return j.type.name==="Scatter"});U&&(D=F(F({},D),U.props.points[C].tooltipPosition),R=U.props.points[C].tooltipPayload);var V={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:N,activePayload:R,activeCoordinate:D};this.setState(V),this.renderCursor(A),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,S;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(_){rv([gn(_.children,Xn)],[gn(this.props.children,Xn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=gn(this.props.children,Xn);if(_&&typeof _.props.shared=="boolean"){var T=_.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var T=this.container,E=T.getBoundingClientRect(),S=fW(E),k={chartX:Math.round(_.pageX-S.left),chartY:Math.round(_.pageY-S.top)},A=E.width/T.offsetWidth||1,C=this.inRange(k.chartX,k.chartY,A);if(!C)return null;var N=this.state,R=N.xAxisMap,M=N.yAxisMap,L=this.getTooltipEventType(),$=HE(this.state,this.props.data,this.props.layout,C);if(L!=="axis"&&R&&M){var D=mi(R).scale,U=mi(M).scale,V=D&&D.invert?D.invert(k.chartX):null,P=U&&U.invert?U.invert(k.chartY):null;return F(F({},k),{},{xValue:V,yValue:P},$)}return $?F(F({},k),$):null}},{key:"inRange",value:function(_,T){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,k=_/E,A=T/E;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,N=k>=C.left&&k<=C.left+C.width&&A>=C.top&&A<=C.top+C.height;return N?{x:k,y:A}:null}var R=this.state,M=R.angleAxisMap,L=R.radiusAxisMap;if(M&&L){var $=mi(M);return w1({x:k,y:A},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,T=this.getTooltipEventType(),E=gn(_,Xn),S={};E&&T==="axis"&&(E.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Zd(this.props,this.handleOuterEvent);return F(F({},k),S)}},{key:"addListener",value:function(){Fm.on(Bm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Fm.removeListener(Bm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,T,E){for(var S=this.state.formattedGraphicalItems,k=0,A=S.length;k<A;k++){var C=S[k];if(C.item===_||C.props.key===_.key||T===Lr(C.item.type)&&E===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,T=this.state.offset,E=T.left,S=T.top,k=T.height,A=T.width;return I.createElement("defs",null,I.createElement("clipPath",{id:_},I.createElement("rect",{x:E,y:S,height:k,width:A})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(T,E){var S=VE(E,2),k=S[0],A=S[1];return F(F({},T),{},le({},k,A.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(T,E){var S=VE(E,2),k=S[0],A=S[1];return F(F({},T),{},le({},k,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(_){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(_){var T=this.state,E=T.formattedGraphicalItems,S=T.activeItem;if(E&&E.length)for(var k=0,A=E.length;k<A;k++){var C=E[k],N=C.props,R=C.item,M=R.type.defaultProps!==void 0?F(F({},R.type.defaultProps),R.props):R.props,L=Lr(R.type);if(L==="Bar"){var $=(N.data||[]).find(function(P){return QZ(_,P)});if($)return{graphicalItem:C,payload:$}}else if(L==="RadialBar"){var D=(N.data||[]).find(function(P){return w1(_,P)});if(D)return{graphicalItem:C,payload:D}}else if(pp(C,S)||mp(C,S)||zu(C,S)){var U=Fte({graphicalItem:C,activeTooltipItem:S,itemData:M.data}),V=M.activeIndex===void 0?U:M.activeIndex;return{graphicalItem:F(F({},C),{},{childIndex:V}),payload:zu(C,S)?M.data[U]:C.props.data[U]}}}return null}},{key:"render",value:function(){var _=this;if(!d_(this))return null;var T=this.props,E=T.children,S=T.className,k=T.width,A=T.height,C=T.style,N=T.compact,R=T.title,M=T.desc,L=qE(T,Zoe),$=ae(L,!1);if(N)return I.createElement(kE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(ov,Ta({},$,{width:k,height:A,title:R,desc:M}),this.renderClipPath(),h_(E,this.renderMap)));if(this.props.accessibilityLayer){var D,U;$.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,$.role=(U=this.props.role)!==null&&U!==void 0?U:"application",$.onKeyDown=function(P){_.accessibilityManager.keyboardEvent(P)},$.onFocus=function(){_.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return I.createElement(kE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",Ta({className:ve("recharts-wrapper",S),style:F({position:"relative",cursor:"default",width:k,height:A},C)},V,{ref:function(j){_.container=j}}),I.createElement(ov,Ta({},$,{width:k,height:A,title:R,desc:M,style:gae}),this.renderClipPath(),h_(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);le(v,"displayName",n),le(v,"defaultProps",F({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),le(v,"getDerivedStateFromProps",function(y,w){var x=y.dataKey,_=y.data,T=y.children,E=y.width,S=y.height,k=y.layout,A=y.stackOffset,C=y.margin,N=w.dataStartIndex,R=w.dataEndIndex;if(w.updateId===void 0){var M=WE(y);return F(F(F({},M),{},{updateId:0},g(F(F({props:y},M),{},{updateId:0}),w)),{},{prevDataKey:x,prevData:_,prevWidth:E,prevHeight:S,prevLayout:k,prevStackOffset:A,prevMargin:C,prevChildren:T})}if(x!==w.prevDataKey||_!==w.prevData||E!==w.prevWidth||S!==w.prevHeight||k!==w.prevLayout||A!==w.prevStackOffset||!$a(C,w.prevMargin)){var L=WE(y),$={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},D=F(F({},HE(w,_,k)),{},{updateId:w.updateId+1}),U=F(F(F({},L),$),D);return F(F(F({},U),g(F({props:y},U),w)),{},{prevDataKey:x,prevData:_,prevWidth:E,prevHeight:S,prevLayout:k,prevStackOffset:A,prevMargin:C,prevChildren:T})}if(!rv(T,w.prevChildren)){var V,P,j,z,Y=gn(T,cs),H=Y&&(V=(P=Y.props)===null||P===void 0?void 0:P.startIndex)!==null&&V!==void 0?V:N,ie=Y&&(j=(z=Y.props)===null||z===void 0?void 0:z.endIndex)!==null&&j!==void 0?j:R,he=H!==N||ie!==R,ye=!ge(_),Fe=ye&&!he?w.updateId:w.updateId+1;return F(F({updateId:Fe},g(F(F({props:y},w),{},{updateId:Fe,dataStartIndex:H,dataEndIndex:ie}),w)),{},{prevChildren:T,dataStartIndex:H,dataEndIndex:ie})}return null}),le(v,"renderActiveDot",function(y,w,x){var _;return O.isValidElement(y)?_=O.cloneElement(y,w):ce(y)?_=y(w):_=I.createElement(up,w),I.createElement(we,{className:"recharts-active-dot",key:x},_)});var b=O.forwardRef(function(w,x){return I.createElement(v,Ta({},w,{ref:x}))});return b.displayName=v.displayName,b},kae=tR({chartName:"PieChart",GraphicalChild:ei,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:hp},{axisType:"radiusAxis",AxisComp:dp}],formatAxisMap:lX,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Aae=tR({chartName:"AreaChart",GraphicalChild:Bi,axisComponents:[{axisType:"xAxis",AxisComp:wp},{axisType:"yAxis",AxisComp:_p}],formatAxisMap:yre}),Ep={exports:{}},nR={};function Fn(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Cae=Fn;Fn.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Fn.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Fn.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};Fn.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Fn.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};Fn.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};Fn.prototype.start=Fn.prototype.try;Fn.prototype.errors=function(){return this._errors};Fn.prototype.attempts=function(){return this._attempts};Fn.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=n&&(t=i,n=a)}return t};(function(e){var t=Cae;e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],a=0;a<r.retries;a++)o.push(this.createTimeout(a,r));return n&&n.forever&&!o.length&&o.push(this.createTimeout(a,r)),o.sort(function(s,l){return s-l}),o},e.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,o=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return o=Math.min(o,r.maxTimeout),o},e.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var o in n)typeof n[o]=="function"&&i.push(o)}for(var a=0;a<i.length;a++){var s=i[a],l=n[s];n[s]=(function(c){var d=e.operation(r),h=Array.prototype.slice.call(arguments,1),g=h.pop();h.push(function(v){d.retry(v)||(v&&(arguments[0]=d.mainError()),g.apply(this,arguments))}),d.attempt(function(){c.apply(n,h)})}).bind(n,l),n[s].options=r}}})(nR);var Pae=nR;const Iae=Pae,Nae=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class rR extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const Oae=(e,t,n)=>{const r=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=r,e},Rae=e=>Nae.includes(e),iR=(e,t)=>new Promise((n,r)=>{t={onFailedAttempt:()=>{},retries:10,...t};const i=Iae.operation(t);i.attempt(async o=>{try{n(await e(o))}catch(a){if(!(a instanceof Error)){r(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof rR)i.stop(),r(a.originalError);else if(a instanceof TypeError&&!Rae(a.message))i.stop(),r(a);else{Oae(a,o,t);try{await t.onFailedAttempt(a)}catch(s){r(s);return}i.retry(a)||r(i.mainError())}}})});Ep.exports=iR;Ep.exports.default=iR;var Mae=Ep.exports.AbortError=rR,$ae=Ep.exports;const Dae=Oe($ae);var jae={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Lae,Uae;function Fae(){return{geminiUrl:Lae,vertexUrl:Uae}}function Bae(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const a=Fae();return t?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ti{}function Q(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(e,t,n){for(let o=0;o<t.length-1;o++){const a=t[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[s])){const l=e[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,t.slice(o+1),n[u])}else for(const u of l)p(u,t.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in e||(e[s]=[{}]);const l=e[s];p(l[0],t.slice(o+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function f(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const a=e[o];return Array.isArray(a)?a.map(s=>f(s,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function zae(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}Cy(e,i,o,0,a)}}function Cy(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=e;if(a in s&&Array.isArray(s[a]))for(const l of s[a])Cy(l,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const a=e,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);p(a,d,c)}for(const u of s)delete a[u]}}else{const a=e;o in a&&Cy(a[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yb(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vae(e){const t={},n=f(e,["operationName"]);n!=null&&p(t,["operationName"],n);const r=f(e,["resourceName"]);return r!=null&&p(t,["_url","resourceName"],r),t}function qae(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response","generateVideoResponse"]);return a!=null&&p(t,["response"],Hae(a)),t}function Gae(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response"]);return a!=null&&p(t,["response"],Wae(a)),t}function Hae(e){const t={},n=f(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Kae(a))),p(t,["generatedVideos"],o)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&p(t,["raiMediaFilteredCount"],r);const i=f(e,["raiMediaFilteredReasons"]);return i!=null&&p(t,["raiMediaFilteredReasons"],i),t}function Wae(e){const t={},n=f(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Jae(a))),p(t,["generatedVideos"],o)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&p(t,["raiMediaFilteredCount"],r);const i=f(e,["raiMediaFilteredReasons"]);return i!=null&&p(t,["raiMediaFilteredReasons"],i),t}function Kae(e){const t={},n=f(e,["video"]);return n!=null&&p(t,["video"],tse(n)),t}function Jae(e){const t={},n=f(e,["_self"]);return n!=null&&p(t,["video"],nse(n)),t}function Yae(e){const t={},n=f(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function Xae(e){const t={},n=f(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function Qae(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response"]);return a!=null&&p(t,["response"],Zae(a)),t}function Zae(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["parent"]);r!=null&&p(t,["parent"],r);const i=f(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function oR(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response"]);return a!=null&&p(t,["response"],ese(a)),t}function ese(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["parent"]);r!=null&&p(t,["parent"],r);const i=f(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function tse(e){const t={},n=f(e,["uri"]);n!=null&&p(t,["uri"],n);const r=f(e,["encodedVideo"]);r!=null&&p(t,["videoBytes"],Yb(r));const i=f(e,["encoding"]);return i!=null&&p(t,["mimeType"],i),t}function nse(e){const t={},n=f(e,["gcsUri"]);n!=null&&p(t,["uri"],n);const r=f(e,["bytesBase64Encoded"]);r!=null&&p(t,["videoBytes"],Yb(r));const i=f(e,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var JE;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(JE||(JE={}));var YE;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(YE||(YE={}));var XE;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(XE||(XE={}));var wi;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(wi||(wi={}));var QE;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(QE||(QE={}));var ZE;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(ZE||(ZE={}));var eT;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(eT||(eT={}));var tT;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tT||(tT={}));var nT;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(nT||(nT={}));var rT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(rT||(rT={}));var iT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(iT||(iT={}));var oT;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(oT||(oT={}));var aT;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(aT||(aT={}));var sT;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(sT||(sT={}));var lT;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(lT||(lT={}));var uT;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(uT||(uT={}));var cT;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(cT||(cT={}));var dT;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(dT||(dT={}));var fT;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(fT||(fT={}));var hT;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(hT||(hT={}));var pT;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(pT||(pT={}));var th;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(th||(th={}));var mT;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(mT||(mT={}));var gT;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(gT||(gT={}));var vT;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(vT||(vT={}));var Py;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Py||(Py={}));var yT;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(yT||(yT={}));var bT;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(bT||(bT={}));var Iy;(function(e){e.COLLECTION="COLLECTION"})(Iy||(Iy={}));var xT;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(xT||(xT={}));var wT;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(wT||(wT={}));var nh;(function(e){e.PREDICT="PREDICT",e.EMBED_CONTENT="EMBED_CONTENT"})(nh||(nh={}));var _T;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(_T||(_T={}));var ST;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(ST||(ST={}));var ET;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(ET||(ET={}));var TT;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(TT||(TT={}));var kT;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(kT||(kT={}));var AT;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(AT||(AT={}));var CT;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(CT||(CT={}));var PT;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(PT||(PT={}));var IT;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(IT||(IT={}));var NT;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(NT||(NT={}));var OT;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(OT||(OT={}));var RT;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(RT||(RT={}));var MT;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(MT||(MT={}));var $T;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})($T||($T={}));var DT;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(DT||(DT={}));var jT;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(jT||(jT={}));var LT;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(LT||(LT={}));var UT;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(UT||(UT={}));var FT;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(FT||(FT={}));var BT;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(BT||(BT={}));var zT;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(zT||(zT={}));var VT;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(VT||(VT={}));var qT;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qT||(qT={}));var GT;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(GT||(GT={}));var HT;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(HT||(HT={}));var ka;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(ka||(ka={}));class Ny{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class dl{get text(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&(g!==null||g!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,r,i,o,a,s,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,r,i,o,a,s,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class WT{}class KT{}class rse{}class ise{}class ose{}class ase{}class JT{}class YT{}class XT{}class sse{}class rh{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new rh;let i;const o=t;return n?i=Gae(o):i=qae(o),Object.assign(r,i),r}}class QT{}class ZT{}class ek{}class tk{}class lse{}class use{}class cse{}class Xb{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Xb,o=Qae(t);return Object.assign(r,o),r}}class dse{}class fse{}class hse{}class pse{}class nk{}class mse{get text(){var t,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const a of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class gse{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Qb{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Qb,o=oR(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ae(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function aR(e,t){const n=Ae(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function sR(e){return Array.isArray(e)?e.map(t=>ih(t)):[ih(e)]}function ih(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function lR(e){const t=ih(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function uR(e){const t=ih(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function rk(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function cR(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>rk(t)):[rk(e)]}function Oy(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function ik(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function ok(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Ct(e){if(e==null)throw new Error("ContentUnion is required");return Oy(e)?e:{role:"user",parts:cR(e)}}function Zb(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Ct(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Ct(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ct(n)):[Ct(t)]}function xn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(ik(e)||ok(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ct(e)]}const t=[],n=[],r=Oy(e[0]);for(const i of e){const o=Oy(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(ik(i)||ok(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:cR(n)}),t}function vse(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(wi).includes(n[0].toUpperCase())?n[0].toUpperCase():wi.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(wi).includes(r.toUpperCase())?r.toUpperCase():wi.TYPE_UNSPECIFIED})}}function Ua(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&vse(e.type,t);for(const[a,s]of Object.entries(e))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(wi).includes(s.toUpperCase())?s.toUpperCase():wi.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=Ua(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){t.nullable=!0;continue}l.push(Ua(u))}t[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=Ua(c);t[a]=l}else{if(a==="additionalProperties")continue;t[a]=s}return t}function ex(e){return Ua(e)}function tx(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function nx(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Us(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ua(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ua(t.response));return e}function Fs(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function yse(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function ni(e,t){if(typeof t!="string")throw new Error("name must be a string");return yse(e,t,"cachedContents")}function dR(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function zi(e){return Yb(e)}function bse(e){return e!=null&&typeof e=="object"&&"name"in e}function xse(e){return e!=null&&typeof e=="object"&&"video"in e}function wse(e){return e!=null&&typeof e=="object"&&"uri"in e}function fR(e){var t;let n;if(bse(e)&&(n=e.name),!(wse(e)&&(n=e.uri,n===void 0))&&!(xse(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function hR(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function pR(e){for(const t of["models","tunedModels","publisherModels"])if(_se(e,t))return e[t];return[]}function _se(e,t){return e!==null&&typeof e=="object"&&t in e}function Sse(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function Ese(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Sse(i,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function mR(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Tse(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function gR(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Bs(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function vR(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function kse(e){return e.includes("gemini")&&e!=="gemini-embedding-001"||e.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ase(e){const t={},n=f(e,["responsesFile"]);n!=null&&p(t,["fileName"],n);const r=f(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>sle(a))),p(t,["inlinedResponses"],o)}const i=f(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["inlinedEmbedContentResponses"],o)}return t}function Cse(e){const t={},n=f(e,["predictionsFormat"]);n!=null&&p(t,["format"],n);const r=f(e,["gcsDestination","outputUriPrefix"]);r!=null&&p(t,["gcsUri"],r);const i=f(e,["bigqueryDestination","outputUri"]);return i!=null&&p(t,["bigqueryUri"],i),t}function Pse(e){const t={},n=f(e,["format"]);n!=null&&p(t,["predictionsFormat"],n);const r=f(e,["gcsUri"]);r!=null&&p(t,["gcsDestination","outputUriPrefix"],r);const i=f(e,["bigqueryUri"]);if(i!=null&&p(t,["bigqueryDestination","outputUri"],i),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function bd(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata","displayName"]);r!=null&&p(t,["displayName"],r);const i=f(e,["metadata","state"]);i!=null&&p(t,["state"],vR(i));const o=f(e,["metadata","createTime"]);o!=null&&p(t,["createTime"],o);const a=f(e,["metadata","endTime"]);a!=null&&p(t,["endTime"],a);const s=f(e,["metadata","updateTime"]);s!=null&&p(t,["updateTime"],s);const l=f(e,["metadata","model"]);l!=null&&p(t,["model"],l);const u=f(e,["metadata","output"]);return u!=null&&p(t,["dest"],Ase(gR(u))),t}function Ry(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["displayName"]);r!=null&&p(t,["displayName"],r);const i=f(e,["state"]);i!=null&&p(t,["state"],vR(i));const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["createTime"]);a!=null&&p(t,["createTime"],a);const s=f(e,["startTime"]);s!=null&&p(t,["startTime"],s);const l=f(e,["endTime"]);l!=null&&p(t,["endTime"],l);const u=f(e,["updateTime"]);u!=null&&p(t,["updateTime"],u);const c=f(e,["model"]);c!=null&&p(t,["model"],c);const d=f(e,["inputConfig"]);d!=null&&p(t,["src"],Ise(d));const h=f(e,["outputConfig"]);h!=null&&p(t,["dest"],Cse(gR(h)));const g=f(e,["completionStats"]);return g!=null&&p(t,["completionStats"],g),t}function Ise(e){const t={},n=f(e,["instancesFormat"]);n!=null&&p(t,["format"],n);const r=f(e,["gcsSource","uris"]);r!=null&&p(t,["gcsUri"],r);const i=f(e,["bigquerySource","inputUri"]);return i!=null&&p(t,["bigqueryUri"],i),t}function Nse(e,t){const n={};if(f(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(t,["fileName"]);r!=null&&p(n,["fileName"],r);const i=f(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ale(e,a))),p(n,["requests","requests"],o)}return n}function Ose(e){const t={},n=f(e,["format"]);n!=null&&p(t,["instancesFormat"],n);const r=f(e,["gcsUri"]);r!=null&&p(t,["gcsSource","uris"],r);const i=f(e,["bigqueryUri"]);if(i!=null&&p(t,["bigquerySource","inputUri"],i),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Rse(e){const t={},n=f(e,["data"]);if(n!=null&&p(t,["data"],n),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function Mse(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],Bs(e,r)),n}function $se(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],Bs(e,r)),n}function Dse(e){const t={},n=f(e,["content"]);n!=null&&p(t,["content"],n);const r=f(e,["citationMetadata"]);r!=null&&p(t,["citationMetadata"],jse(r));const i=f(e,["tokenCount"]);i!=null&&p(t,["tokenCount"],i);const o=f(e,["finishReason"]);o!=null&&p(t,["finishReason"],o);const a=f(e,["avgLogprobs"]);a!=null&&p(t,["avgLogprobs"],a);const s=f(e,["groundingMetadata"]);s!=null&&p(t,["groundingMetadata"],s);const l=f(e,["index"]);l!=null&&p(t,["index"],l);const u=f(e,["logprobsResult"]);u!=null&&p(t,["logprobsResult"],u);const c=f(e,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(t,["safetyRatings"],h)}const d=f(e,["urlContextMetadata"]);return d!=null&&p(t,["urlContextMetadata"],d),t}function jse(e){const t={},n=f(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(t,["citations"],r)}return t}function yR(e){const t={},n=f(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ple(o))),p(t,["parts"],i)}const r=f(e,["role"]);return r!=null&&p(t,["role"],r),t}function Lse(e,t){const n={},r=f(e,["displayName"]);if(t!==void 0&&r!=null&&p(t,["batch","displayName"],r),f(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Use(e,t){const n={},r=f(e,["displayName"]);t!==void 0&&r!=null&&p(t,["displayName"],r);const i=f(e,["dest"]);return t!==void 0&&i!=null&&p(t,["outputConfig"],Pse(Tse(i))),n}function ak(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["_url","model"],Ae(e,r));const i=f(t,["src"]);i!=null&&p(n,["batch","inputConfig"],Nse(e,mR(e,i)));const o=f(t,["config"]);return o!=null&&Lse(o,n),n}function Fse(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["model"],Ae(e,r));const i=f(t,["src"]);i!=null&&p(n,["inputConfig"],Ose(mR(e,i)));const o=f(t,["config"]);return o!=null&&Use(o,n),n}function Bse(e,t){const n={},r=f(e,["displayName"]);return t!==void 0&&r!=null&&p(t,["batch","displayName"],r),n}function zse(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["_url","model"],Ae(e,r));const i=f(t,["src"]);i!=null&&p(n,["batch","inputConfig"],Jse(e,i));const o=f(t,["config"]);return o!=null&&Bse(o,n),n}function Vse(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],Bs(e,r)),n}function qse(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],Bs(e,r)),n}function Gse(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["name"]);r!=null&&p(t,["name"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);return o!=null&&p(t,["error"],o),t}function Hse(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["name"]);r!=null&&p(t,["name"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);return o!=null&&p(t,["error"],o),t}function Wse(e,t){const n={},r=f(t,["contents"]);if(r!=null){let o=Zb(e,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=f(t,["config"]);return i!=null&&(p(n,["_self"],Kse(i,n)),zae(n,{"requests[].*":"requests[].request.*"})),n}function Kse(e,t){const n={},r=f(e,["taskType"]);t!==void 0&&r!=null&&p(t,["requests[]","taskType"],r);const i=f(e,["title"]);t!==void 0&&i!=null&&p(t,["requests[]","title"],i);const o=f(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&p(t,["requests[]","outputDimensionality"],o),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Jse(e,t){const n={},r=f(t,["fileName"]);r!=null&&p(n,["file_name"],r);const i=f(t,["inlinedRequests"]);return i!=null&&p(n,["requests"],Wse(e,i)),n}function Yse(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function Xse(e){const t={},n=f(e,["id"]);n!=null&&p(t,["id"],n);const r=f(e,["args"]);r!=null&&p(t,["args"],r);const i=f(e,["name"]);if(i!=null&&p(t,["name"],i),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Qse(e){const t={},n=f(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const r=f(e,["mode"]);if(r!=null&&p(t,["mode"],r),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Zse(e,t,n){const r={},i=f(t,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],yR(Ct(i)));const o=f(t,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(t,["topP"]);a!=null&&p(r,["topP"],a);const s=f(t,["topK"]);s!=null&&p(r,["topK"],s);const l=f(t,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(t,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(t,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(t,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(t,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const v=f(t,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const b=f(t,["seed"]);b!=null&&p(r,["seed"],b);const y=f(t,["responseMimeType"]);y!=null&&p(r,["responseMimeType"],y);const w=f(t,["responseSchema"]);w!=null&&p(r,["responseSchema"],ex(w));const x=f(t,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(t,["safetySettings"]);if(n!==void 0&&_!=null){let L=_;Array.isArray(L)&&(L=L.map($=>mle($))),p(n,["safetySettings"],L)}const T=f(t,["tools"]);if(n!==void 0&&T!=null){let L=Fs(T);Array.isArray(L)&&(L=L.map($=>vle(Us($)))),p(n,["tools"],L)}const E=f(t,["toolConfig"]);if(n!==void 0&&E!=null&&p(n,["toolConfig"],gle(E)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=f(t,["cachedContent"]);n!==void 0&&S!=null&&p(n,["cachedContent"],ni(e,S));const k=f(t,["responseModalities"]);k!=null&&p(r,["responseModalities"],k);const A=f(t,["mediaResolution"]);A!=null&&p(r,["mediaResolution"],A);const C=f(t,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],tx(C)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(t,["thinkingConfig"]);N!=null&&p(r,["thinkingConfig"],N);const R=f(t,["imageConfig"]);R!=null&&p(r,["imageConfig"],ole(R));const M=f(t,["enableEnhancedCivicAnswers"]);if(M!=null&&p(r,["enableEnhancedCivicAnswers"],M),f(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function ele(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Dse(u))),p(t,["candidates"],l)}const i=f(e,["modelVersion"]);i!=null&&p(t,["modelVersion"],i);const o=f(e,["promptFeedback"]);o!=null&&p(t,["promptFeedback"],o);const a=f(e,["responseId"]);a!=null&&p(t,["responseId"],a);const s=f(e,["usageMetadata"]);return s!=null&&p(t,["usageMetadata"],s),t}function tle(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],Bs(e,r)),n}function nle(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],Bs(e,r)),n}function rle(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function ile(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function ole(e){const t={},n=f(e,["aspectRatio"]);n!=null&&p(t,["aspectRatio"],n);const r=f(e,["imageSize"]);if(r!=null&&p(t,["imageSize"],r),f(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function ale(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["request","model"],Ae(e,r));const i=f(t,["contents"]);if(i!=null){let s=xn(i);Array.isArray(s)&&(s=s.map(l=>yR(l))),p(n,["request","contents"],s)}const o=f(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(t,["config"]);return a!=null&&p(n,["request","generationConfig"],Zse(e,a,f(n,["request"],{}))),n}function sle(e){const t={},n=f(e,["response"]);n!=null&&p(t,["response"],ele(n));const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["error"]);return i!=null&&p(t,["error"],i),t}function lle(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);if(t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),f(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ule(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);t!==void 0&&i!=null&&p(t,["_query","pageToken"],i);const o=f(e,["filter"]);return t!==void 0&&o!=null&&p(t,["_query","filter"],o),n}function cle(e){const t={},n=f(e,["config"]);return n!=null&&lle(n,t),t}function dle(e){const t={},n=f(e,["config"]);return n!=null&&ule(n,t),t}function fle(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>bd(a))),p(t,["batchJobs"],o)}return t}function hle(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ry(a))),p(t,["batchJobs"],o)}return t}function ple(e){const t={},n=f(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=f(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=f(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=f(e,["fileData"]);o!=null&&p(t,["fileData"],Yse(o));const a=f(e,["functionCall"]);a!=null&&p(t,["functionCall"],Xse(a));const s=f(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=f(e,["inlineData"]);l!=null&&p(t,["inlineData"],Rse(l));const u=f(e,["text"]);u!=null&&p(t,["text"],u);const c=f(e,["thought"]);c!=null&&p(t,["thought"],c);const d=f(e,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const h=f(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function mle(e){const t={},n=f(e,["category"]);if(n!=null&&p(t,["category"],n),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(e,["threshold"]);return r!=null&&p(t,["threshold"],r),t}function gle(e){const t={},n=f(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const r=f(e,["functionCallingConfig"]);return r!=null&&p(t,["functionCallingConfig"],Qse(r)),t}function vle(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=f(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=f(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["functionDeclarations"],c)}const a=f(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],rle(a));const s=f(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],ile(s));const l=f(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=f(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kr;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Kr||(Kr={}));class Bo{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yle extends ti{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Bo(Kr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=ak(this.apiClient,t),r=n._url,i=Q("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const g=d.request;g.systemInstruction=h,d.request=g}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),a=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Fse(this.apiClient,t);return s=Q("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Ry(c))}else{const u=ak(this.apiClient,t);return s=Q("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>bd(c))}}async createEmbeddingsInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=zse(this.apiClient,t);return o=Q("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>bd(l))}}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=nle(this.apiClient,t);return s=Q("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Ry(c))}else{const u=tle(this.apiClient,t);return s=Q("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>bd(c))}}async cancel(t){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=$se(this.apiClient,t);a=Q("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Mse(this.apiClient,t);a=Q("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=dle(t);return s=Q("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=hle(c),h=new nk;return Object.assign(h,d),h})}else{const u=cle(t);return s=Q("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=fle(c),h=new nk;return Object.assign(h,d),h})}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=qse(this.apiClient,t);return s=Q("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Hse(c))}else{const u=Vse(this.apiClient,t);return s=Q("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Gse(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ble(e){const t={},n=f(e,["data"]);if(n!=null&&p(t,["data"],n),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function sk(e){const t={},n=f(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>zle(o))),p(t,["parts"],i)}const r=f(e,["role"]);return r!=null&&p(t,["role"],r),t}function xle(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=f(e,["expireTime"]);t!==void 0&&i!=null&&p(t,["expireTime"],i);const o=f(e,["displayName"]);t!==void 0&&o!=null&&p(t,["displayName"],o);const a=f(e,["contents"]);if(t!==void 0&&a!=null){let c=xn(a);Array.isArray(c)&&(c=c.map(d=>sk(d))),p(t,["contents"],c)}const s=f(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],sk(Ct(s)));const l=f(e,["tools"]);if(t!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>qle(d))),p(t,["tools"],c)}const u=f(e,["toolConfig"]);if(t!==void 0&&u!=null&&p(t,["toolConfig"],Vle(u)),f(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function wle(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=f(e,["expireTime"]);t!==void 0&&i!=null&&p(t,["expireTime"],i);const o=f(e,["displayName"]);t!==void 0&&o!=null&&p(t,["displayName"],o);const a=f(e,["contents"]);if(t!==void 0&&a!=null){let d=xn(a);Array.isArray(d)&&(d=d.map(h=>h)),p(t,["contents"],d)}const s=f(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],Ct(s));const l=f(e,["tools"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Gle(h))),p(t,["tools"],d)}const u=f(e,["toolConfig"]);t!==void 0&&u!=null&&p(t,["toolConfig"],u);const c=f(e,["kmsKeyName"]);return t!==void 0&&c!=null&&p(t,["encryption_spec","kmsKeyName"],c),n}function _le(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["model"],aR(e,r));const i=f(t,["config"]);return i!=null&&xle(i,n),n}function Sle(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["model"],aR(e,r));const i=f(t,["config"]);return i!=null&&wle(i,n),n}function Ele(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],ni(e,r)),n}function Tle(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],ni(e,r)),n}function kle(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function Ale(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function Cle(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function Ple(e){const t={},n=f(e,["id"]);n!=null&&p(t,["id"],n);const r=f(e,["args"]);r!=null&&p(t,["args"],r);const i=f(e,["name"]);if(i!=null&&p(t,["name"],i),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Ile(e){const t={},n=f(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const r=f(e,["mode"]);if(r!=null&&p(t,["mode"],r),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Nle(e){const t={},n=f(e,["description"]);n!=null&&p(t,["description"],n);const r=f(e,["name"]);r!=null&&p(t,["name"],r);const i=f(e,["parameters"]);i!=null&&p(t,["parameters"],i);const o=f(e,["parametersJsonSchema"]);o!=null&&p(t,["parametersJsonSchema"],o);const a=f(e,["response"]);a!=null&&p(t,["response"],a);const s=f(e,["responseJsonSchema"]);if(s!=null&&p(t,["responseJsonSchema"],s),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Ole(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],ni(e,r)),n}function Rle(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],ni(e,r)),n}function Mle(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function $le(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function Dle(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function jle(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function Lle(e){const t={},n=f(e,["config"]);return n!=null&&Dle(n,t),t}function Ule(e){const t={},n=f(e,["config"]);return n!=null&&jle(n,t),t}function Fle(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["cachedContents"],o)}return t}function Ble(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["cachedContents"],o)}return t}function zle(e){const t={},n=f(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=f(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=f(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=f(e,["fileData"]);o!=null&&p(t,["fileData"],Cle(o));const a=f(e,["functionCall"]);a!=null&&p(t,["functionCall"],Ple(a));const s=f(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=f(e,["inlineData"]);l!=null&&p(t,["inlineData"],ble(l));const u=f(e,["text"]);u!=null&&p(t,["text"],u);const c=f(e,["thought"]);c!=null&&p(t,["thought"],c);const d=f(e,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const h=f(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function Vle(e){const t={},n=f(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const r=f(e,["functionCallingConfig"]);return r!=null&&p(t,["functionCallingConfig"],Ile(r)),t}function qle(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=f(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=f(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["functionDeclarations"],c)}const a=f(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],Mle(a));const s=f(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],$le(s));const l=f(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=f(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}function Gle(e){const t={},n=f(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const r=f(e,["computerUse"]);if(r!=null&&p(t,["computerUse"],r),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(e,["codeExecution"]);i!=null&&p(t,["codeExecution"],i);const o=f(e,["enterpriseWebSearch"]);o!=null&&p(t,["enterpriseWebSearch"],o);const a=f(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>Nle(h))),p(t,["functionDeclarations"],d)}const s=f(e,["googleMaps"]);s!=null&&p(t,["googleMaps"],s);const l=f(e,["googleSearch"]);l!=null&&p(t,["googleSearch"],l);const u=f(e,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const c=f(e,["urlContext"]);return c!=null&&p(t,["urlContext"],c),t}function Hle(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=f(e,["expireTime"]);return t!==void 0&&i!=null&&p(t,["expireTime"],i),n}function Wle(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=f(e,["expireTime"]);return t!==void 0&&i!=null&&p(t,["expireTime"],i),n}function Kle(e,t){const n={},r=f(t,["name"]);r!=null&&p(n,["_url","name"],ni(e,r));const i=f(t,["config"]);return i!=null&&Hle(i,n),n}function Jle(e,t){const n={},r=f(t,["name"]);r!=null&&p(n,["_url","name"],ni(e,r));const i=f(t,["config"]);return i!=null&&Wle(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yle extends ti{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Bo(Kr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Sle(this.apiClient,t);return s=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=_le(this.apiClient,t);return s=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Rle(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Ole(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Tle(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Ale(c),h=new ek;return Object.assign(h,d),h})}else{const u=Ele(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=kle(c),h=new ek;return Object.assign(h,d),h})}}async update(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Jle(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Kle(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ule(t);return s=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Ble(c),h=new tk;return Object.assign(h,d),h})}else{const u=Lle(t);return s=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Fle(c),h=new tk;return Object.assign(h,d),h})}}}function oh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function lk(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pe(e){return this instanceof pe?(this.v=e,this):new pe(e)}function ir(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,d)}}function s(g,v){r[g]&&(i[g]=function(b){return new Promise(function(y,w){o.push([g,b,y,w])>1||l(g,b)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(b){h(o[0][3],b)}}function u(g){g.value instanceof pe?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function or(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof lk=="function"?lk(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xle(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:bR(n)}function bR(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Qle(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function uk(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!bR(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class Zle{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new eue(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class eue{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Qle(o)}async sendMessage(t){var n;await this.sendPromise;const r=Ct(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=Ct(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?uk(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return ir(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var d=!0,h=or(t),g;g=yield pe(h.next()),i=g.done,!i;d=!0){s=g.value,d=!1;const v=s;if(Xle(v)){const b=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;b!==void 0&&c.push(b)}yield yield pe(v)}}catch(v){o={error:v}}finally{try{!d&&!i&&(a=h.return)&&(yield pe(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...uk(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ju extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ju.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tue(e){const t={},n=f(e,["file"]);return n!=null&&p(t,["file"],n),t}function nue(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function rue(e){const t={},n=f(e,["name"]);return n!=null&&p(t,["_url","file"],fR(n)),t}function iue(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function oue(e){const t={},n=f(e,["name"]);return n!=null&&p(t,["_url","file"],fR(n)),t}function aue(e){const t={},n=f(e,["uris"]);return n!=null&&p(t,["uris"],n),t}function sue(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function lue(e){const t={},n=f(e,["config"]);return n!=null&&sue(n,t),t}function uue(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["files"],o)}return t}function cue(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class due extends ti{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Bo(Kr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=lue(t);return o=Q("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=uue(l),c=new dse;return Object.assign(c,u),c})}}async createInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=tue(t);return o=Q("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=nue(l),c=new fse;return Object.assign(c,u),c})}}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=oue(t);return o=Q("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=rue(t);return o=Q("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=iue(l),c=new hse;return Object.assign(c,u),c})}}async registerFilesInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=aue(t);return o=Q("files:register",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=cue(l),c=new pse;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xd(e){const t={},n=f(e,["data"]);if(n!=null&&p(t,["data"],n),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function fue(e){const t={},n=f(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Cue(o))),p(t,["parts"],i)}const r=f(e,["role"]);return r!=null&&p(t,["role"],r),t}function hue(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function pue(e){const t={},n=f(e,["id"]);n!=null&&p(t,["id"],n);const r=f(e,["args"]);r!=null&&p(t,["args"],r);const i=f(e,["name"]);if(i!=null&&p(t,["name"],i),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function mue(e){const t={},n=f(e,["description"]);n!=null&&p(t,["description"],n);const r=f(e,["name"]);r!=null&&p(t,["name"],r);const i=f(e,["parameters"]);i!=null&&p(t,["parameters"],i);const o=f(e,["parametersJsonSchema"]);o!=null&&p(t,["parametersJsonSchema"],o);const a=f(e,["response"]);a!=null&&p(t,["response"],a);const s=f(e,["responseJsonSchema"]);if(s!=null&&p(t,["responseJsonSchema"],s),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function gue(e){const t={},n=f(e,["modelSelectionConfig"]);n!=null&&p(t,["modelConfig"],n);const r=f(e,["responseJsonSchema"]);r!=null&&p(t,["responseJsonSchema"],r);const i=f(e,["audioTimestamp"]);i!=null&&p(t,["audioTimestamp"],i);const o=f(e,["candidateCount"]);o!=null&&p(t,["candidateCount"],o);const a=f(e,["enableAffectiveDialog"]);a!=null&&p(t,["enableAffectiveDialog"],a);const s=f(e,["frequencyPenalty"]);s!=null&&p(t,["frequencyPenalty"],s);const l=f(e,["logprobs"]);l!=null&&p(t,["logprobs"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(t,["maxOutputTokens"],u);const c=f(e,["mediaResolution"]);c!=null&&p(t,["mediaResolution"],c);const d=f(e,["presencePenalty"]);d!=null&&p(t,["presencePenalty"],d);const h=f(e,["responseLogprobs"]);h!=null&&p(t,["responseLogprobs"],h);const g=f(e,["responseMimeType"]);g!=null&&p(t,["responseMimeType"],g);const v=f(e,["responseModalities"]);v!=null&&p(t,["responseModalities"],v);const b=f(e,["responseSchema"]);b!=null&&p(t,["responseSchema"],b);const y=f(e,["routingConfig"]);y!=null&&p(t,["routingConfig"],y);const w=f(e,["seed"]);w!=null&&p(t,["seed"],w);const x=f(e,["speechConfig"]);x!=null&&p(t,["speechConfig"],x);const _=f(e,["stopSequences"]);_!=null&&p(t,["stopSequences"],_);const T=f(e,["temperature"]);T!=null&&p(t,["temperature"],T);const E=f(e,["thinkingConfig"]);E!=null&&p(t,["thinkingConfig"],E);const S=f(e,["topK"]);S!=null&&p(t,["topK"],S);const k=f(e,["topP"]);if(k!=null&&p(t,["topP"],k),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function vue(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function yue(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function bue(e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],r);const i=f(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=f(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=f(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=f(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=f(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=f(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const d=f(e,["speechConfig"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","speechConfig"],nx(d));const h=f(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const g=f(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(e,["systemInstruction"]);t!==void 0&&v!=null&&p(t,["setup","systemInstruction"],fue(Ct(v)));const b=f(e,["tools"]);if(t!==void 0&&b!=null){let S=Fs(b);Array.isArray(S)&&(S=S.map(k=>Iue(Us(k)))),p(t,["setup","tools"],S)}const y=f(e,["sessionResumption"]);t!==void 0&&y!=null&&p(t,["setup","sessionResumption"],Pue(y));const w=f(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&p(t,["setup","inputAudioTranscription"],w);const x=f(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&p(t,["setup","outputAudioTranscription"],x);const _=f(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&p(t,["setup","realtimeInputConfig"],_);const T=f(e,["contextWindowCompression"]);t!==void 0&&T!=null&&p(t,["setup","contextWindowCompression"],T);const E=f(e,["proactivity"]);if(t!==void 0&&E!=null&&p(t,["setup","proactivity"],E),f(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function xue(e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],gue(r));const i=f(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=f(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=f(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=f(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=f(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=f(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const d=f(e,["speechConfig"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","speechConfig"],nx(d));const h=f(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const g=f(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(e,["systemInstruction"]);t!==void 0&&v!=null&&p(t,["setup","systemInstruction"],Ct(v));const b=f(e,["tools"]);if(t!==void 0&&b!=null){let k=Fs(b);Array.isArray(k)&&(k=k.map(A=>Nue(Us(A)))),p(t,["setup","tools"],k)}const y=f(e,["sessionResumption"]);t!==void 0&&y!=null&&p(t,["setup","sessionResumption"],y);const w=f(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&p(t,["setup","inputAudioTranscription"],w);const x=f(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&p(t,["setup","outputAudioTranscription"],x);const _=f(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&p(t,["setup","realtimeInputConfig"],_);const T=f(e,["contextWindowCompression"]);t!==void 0&&T!=null&&p(t,["setup","contextWindowCompression"],T);const E=f(e,["proactivity"]);t!==void 0&&E!=null&&p(t,["setup","proactivity"],E);const S=f(e,["explicitVadSignal"]);return t!==void 0&&S!=null&&p(t,["setup","explicitVadSignal"],S),n}function wue(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["setup","model"],Ae(e,r));const i=f(t,["config"]);return i!=null&&p(n,["config"],bue(i,n)),n}function _ue(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["setup","model"],Ae(e,r));const i=f(t,["config"]);return i!=null&&p(n,["config"],xue(i,n)),n}function Sue(e){const t={},n=f(e,["musicGenerationConfig"]);return n!=null&&p(t,["musicGenerationConfig"],n),t}function Eue(e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(t,["weightedPrompts"],r)}return t}function Tue(e){const t={},n=f(e,["media"]);if(n!=null){let u=sR(n);Array.isArray(u)&&(u=u.map(c=>xd(c))),p(t,["mediaChunks"],u)}const r=f(e,["audio"]);r!=null&&p(t,["audio"],xd(uR(r)));const i=f(e,["audioStreamEnd"]);i!=null&&p(t,["audioStreamEnd"],i);const o=f(e,["video"]);o!=null&&p(t,["video"],xd(lR(o)));const a=f(e,["text"]);a!=null&&p(t,["text"],a);const s=f(e,["activityStart"]);s!=null&&p(t,["activityStart"],s);const l=f(e,["activityEnd"]);return l!=null&&p(t,["activityEnd"],l),t}function kue(e){const t={},n=f(e,["media"]);if(n!=null){let u=sR(n);Array.isArray(u)&&(u=u.map(c=>c)),p(t,["mediaChunks"],u)}const r=f(e,["audio"]);r!=null&&p(t,["audio"],uR(r));const i=f(e,["audioStreamEnd"]);i!=null&&p(t,["audioStreamEnd"],i);const o=f(e,["video"]);o!=null&&p(t,["video"],lR(o));const a=f(e,["text"]);a!=null&&p(t,["text"],a);const s=f(e,["activityStart"]);s!=null&&p(t,["activityStart"],s);const l=f(e,["activityEnd"]);return l!=null&&p(t,["activityEnd"],l),t}function Aue(e){const t={},n=f(e,["setupComplete"]);n!=null&&p(t,["setupComplete"],n);const r=f(e,["serverContent"]);r!=null&&p(t,["serverContent"],r);const i=f(e,["toolCall"]);i!=null&&p(t,["toolCall"],i);const o=f(e,["toolCallCancellation"]);o!=null&&p(t,["toolCallCancellation"],o);const a=f(e,["usageMetadata"]);a!=null&&p(t,["usageMetadata"],Oue(a));const s=f(e,["goAway"]);s!=null&&p(t,["goAway"],s);const l=f(e,["sessionResumptionUpdate"]);l!=null&&p(t,["sessionResumptionUpdate"],l);const u=f(e,["voiceActivityDetectionSignal"]);u!=null&&p(t,["voiceActivityDetectionSignal"],u);const c=f(e,["voiceActivity"]);return c!=null&&p(t,["voiceActivity"],Rue(c)),t}function Cue(e){const t={},n=f(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=f(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=f(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=f(e,["fileData"]);o!=null&&p(t,["fileData"],hue(o));const a=f(e,["functionCall"]);a!=null&&p(t,["functionCall"],pue(a));const s=f(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=f(e,["inlineData"]);l!=null&&p(t,["inlineData"],xd(l));const u=f(e,["text"]);u!=null&&p(t,["text"],u);const c=f(e,["thought"]);c!=null&&p(t,["thought"],c);const d=f(e,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const h=f(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function Pue(e){const t={},n=f(e,["handle"]);if(n!=null&&p(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Iue(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=f(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=f(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["functionDeclarations"],c)}const a=f(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],vue(a));const s=f(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],yue(s));const l=f(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=f(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}function Nue(e){const t={},n=f(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const r=f(e,["computerUse"]);if(r!=null&&p(t,["computerUse"],r),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(e,["codeExecution"]);i!=null&&p(t,["codeExecution"],i);const o=f(e,["enterpriseWebSearch"]);o!=null&&p(t,["enterpriseWebSearch"],o);const a=f(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>mue(h))),p(t,["functionDeclarations"],d)}const s=f(e,["googleMaps"]);s!=null&&p(t,["googleMaps"],s);const l=f(e,["googleSearch"]);l!=null&&p(t,["googleSearch"],l);const u=f(e,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const c=f(e,["urlContext"]);return c!=null&&p(t,["urlContext"],c),t}function Oue(e){const t={},n=f(e,["promptTokenCount"]);n!=null&&p(t,["promptTokenCount"],n);const r=f(e,["cachedContentTokenCount"]);r!=null&&p(t,["cachedContentTokenCount"],r);const i=f(e,["candidatesTokenCount"]);i!=null&&p(t,["responseTokenCount"],i);const o=f(e,["toolUsePromptTokenCount"]);o!=null&&p(t,["toolUsePromptTokenCount"],o);const a=f(e,["thoughtsTokenCount"]);a!=null&&p(t,["thoughtsTokenCount"],a);const s=f(e,["totalTokenCount"]);s!=null&&p(t,["totalTokenCount"],s);const l=f(e,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),p(t,["promptTokensDetails"],g)}const u=f(e,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),p(t,["cacheTokensDetails"],g)}const c=f(e,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),p(t,["responseTokensDetails"],g)}const d=f(e,["toolUsePromptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),p(t,["toolUsePromptTokensDetails"],g)}const h=f(e,["trafficType"]);return h!=null&&p(t,["trafficType"],h),t}function Rue(e){const t={},n=f(e,["type"]);return n!=null&&p(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mue(e,t){const n={},r=f(e,["data"]);if(r!=null&&p(n,["data"],r),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function $ue(e,t){const n={},r=f(e,["content"]);r!=null&&p(n,["content"],r);const i=f(e,["citationMetadata"]);i!=null&&p(n,["citationMetadata"],Due(i));const o=f(e,["tokenCount"]);o!=null&&p(n,["tokenCount"],o);const a=f(e,["finishReason"]);a!=null&&p(n,["finishReason"],a);const s=f(e,["avgLogprobs"]);s!=null&&p(n,["avgLogprobs"],s);const l=f(e,["groundingMetadata"]);l!=null&&p(n,["groundingMetadata"],l);const u=f(e,["index"]);u!=null&&p(n,["index"],u);const c=f(e,["logprobsResult"]);c!=null&&p(n,["logprobsResult"],c);const d=f(e,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),p(n,["safetyRatings"],g)}const h=f(e,["urlContextMetadata"]);return h!=null&&p(n,["urlContextMetadata"],h),n}function Due(e,t){const n={},r=f(e,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["citations"],i)}return n}function jue(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["contents"]);if(o!=null){let a=xn(o);Array.isArray(a)&&(a=a.map(s=>s)),p(r,["contents"],a)}return r}function Lue(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(n,["tokensInfo"],o)}return n}function Uue(e,t){const n={},r=f(e,["values"]);r!=null&&p(n,["values"],r);const i=f(e,["statistics"]);return i!=null&&p(n,["statistics"],Fue(i)),n}function Fue(e,t){const n={},r=f(e,["truncated"]);r!=null&&p(n,["truncated"],r);const i=f(e,["token_count"]);return i!=null&&p(n,["tokenCount"],i),n}function uc(e,t){const n={},r=f(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Jce(a))),p(n,["parts"],o)}const i=f(e,["role"]);return i!=null&&p(n,["role"],i),n}function Bue(e,t){const n={},r=f(e,["controlType"]);r!=null&&p(n,["controlType"],r);const i=f(e,["enableControlImageComputation"]);return i!=null&&p(n,["computeControl"],i),n}function zue(e,t){const n={};if(f(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Vue(e,t,n){const r={},i=f(e,["systemInstruction"]);t!==void 0&&i!=null&&p(t,["systemInstruction"],Ct(i));const o=f(e,["tools"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>SR(l))),p(t,["tools"],s)}const a=f(e,["generationConfig"]);return t!==void 0&&a!=null&&p(t,["generationConfig"],Mce(a)),r}function que(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["contents"]);if(o!=null){let s=xn(o);Array.isArray(s)&&(s=s.map(l=>uc(l))),p(r,["contents"],s)}const a=f(t,["config"]);return a!=null&&zue(a),r}function Gue(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["contents"]);if(o!=null){let s=xn(o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["contents"],s)}const a=f(t,["config"]);return a!=null&&Vue(a,r),r}function Hue(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["totalTokens"]);i!=null&&p(n,["totalTokens"],i);const o=f(e,["cachedContentTokenCount"]);return o!=null&&p(n,["cachedContentTokenCount"],o),n}function Wue(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["totalTokens"]);return i!=null&&p(n,["totalTokens"],i),n}function Kue(e,t,n){const r={},i=f(t,["model"]);return i!=null&&p(r,["_url","name"],Ae(e,i)),r}function Jue(e,t,n){const r={},i=f(t,["model"]);return i!=null&&p(r,["_url","name"],Ae(e,i)),r}function Yue(e,t){const n={},r=f(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function Xue(e,t){const n={},r=f(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function Que(e,t,n){const r={},i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=f(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const a=f(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const s=f(e,["aspectRatio"]);t!==void 0&&s!=null&&p(t,["parameters","aspectRatio"],s);const l=f(e,["guidanceScale"]);t!==void 0&&l!=null&&p(t,["parameters","guidanceScale"],l);const u=f(e,["seed"]);t!==void 0&&u!=null&&p(t,["parameters","seed"],u);const c=f(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&p(t,["parameters","safetySetting"],c);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&p(t,["parameters","personGeneration"],d);const h=f(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&p(t,["parameters","includeSafetyAttributes"],h);const g=f(e,["includeRaiReason"]);t!==void 0&&g!=null&&p(t,["parameters","includeRaiReason"],g);const v=f(e,["language"]);t!==void 0&&v!=null&&p(t,["parameters","language"],v);const b=f(e,["outputMimeType"]);t!==void 0&&b!=null&&p(t,["parameters","outputOptions","mimeType"],b);const y=f(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&p(t,["parameters","outputOptions","compressionQuality"],y);const w=f(e,["addWatermark"]);t!==void 0&&w!=null&&p(t,["parameters","addWatermark"],w);const x=f(e,["labels"]);t!==void 0&&x!=null&&p(t,["labels"],x);const _=f(e,["editMode"]);t!==void 0&&_!=null&&p(t,["parameters","editMode"],_);const T=f(e,["baseSteps"]);return t!==void 0&&T!=null&&p(t,["parameters","editConfig","baseSteps"],T),r}function Zue(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>tde(u))),p(r,["instances[0]","referenceImages"],l)}const s=f(t,["config"]);return s!=null&&Que(s,r),r}function ece(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Tp(a))),p(n,["generatedImages"],o)}return n}function tce(e,t,n){const r={},i=f(e,["taskType"]);t!==void 0&&i!=null&&p(t,["requests[]","taskType"],i);const o=f(e,["title"]);t!==void 0&&o!=null&&p(t,["requests[]","title"],o);const a=f(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&p(t,["requests[]","outputDimensionality"],a),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function nce(e,t,n){const r={};let i=f(n,["embeddingApiType"]);if(i===void 0&&(i="PREDICT"),i==="PREDICT"){const u=f(e,["taskType"]);t!==void 0&&u!=null&&p(t,["instances[]","task_type"],u)}else if(i==="EMBED_CONTENT"){const u=f(e,["taskType"]);t!==void 0&&u!=null&&p(t,["taskType"],u)}let o=f(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const u=f(e,["title"]);t!==void 0&&u!=null&&p(t,["instances[]","title"],u)}else if(o==="EMBED_CONTENT"){const u=f(e,["title"]);t!==void 0&&u!=null&&p(t,["title"],u)}let a=f(n,["embeddingApiType"]);if(a===void 0&&(a="PREDICT"),a==="PREDICT"){const u=f(e,["outputDimensionality"]);t!==void 0&&u!=null&&p(t,["parameters","outputDimensionality"],u)}else if(a==="EMBED_CONTENT"){const u=f(e,["outputDimensionality"]);t!==void 0&&u!=null&&p(t,["outputDimensionality"],u)}let s=f(n,["embeddingApiType"]);if(s===void 0&&(s="PREDICT"),s==="PREDICT"){const u=f(e,["mimeType"]);t!==void 0&&u!=null&&p(t,["instances[]","mimeType"],u)}let l=f(n,["embeddingApiType"]);if(l===void 0&&(l="PREDICT"),l==="PREDICT"){const u=f(e,["autoTruncate"]);t!==void 0&&u!=null&&p(t,["parameters","autoTruncate"],u)}else if(l==="EMBED_CONTENT"){const u=f(e,["autoTruncate"]);t!==void 0&&u!=null&&p(t,["autoTruncate"],u)}return r}function rce(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["contents"]);if(o!=null){let u=Zb(e,o);Array.isArray(u)&&(u=u.map(c=>c)),p(r,["requests[]","content"],u)}const a=f(t,["content"]);a!=null&&uc(Ct(a));const s=f(t,["config"]);s!=null&&tce(s,r);const l=f(t,["model"]);return l!==void 0&&p(r,["requests[]","model"],Ae(e,l)),r}function ice(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));let o=f(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const l=f(t,["contents"]);if(l!=null){let u=Zb(e,l);Array.isArray(u)&&(u=u.map(c=>c)),p(r,["instances[]","content"],u)}}let a=f(n,["embeddingApiType"]);if(a===void 0&&(a="PREDICT"),a==="EMBED_CONTENT"){const l=f(t,["content"]);l!=null&&p(r,["content"],Ct(l))}const s=f(t,["config"]);return s!=null&&nce(s,r,n),r}function oce(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),p(n,["embeddings"],a)}const o=f(e,["metadata"]);return o!=null&&p(n,["metadata"],o),n}function ace(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Uue(s))),p(n,["embeddings"],a)}const o=f(e,["metadata"]);if(o!=null&&p(n,["metadata"],o),t&&f(t,["embeddingApiType"])==="EMBED_CONTENT"){const a=f(e,["embedding"]),s=f(e,["usageMetadata"]),l=f(e,["truncated"]);if(a){const u={};s&&s.promptTokenCount&&(u.tokenCount=s.promptTokenCount),l&&(u.truncated=l),a.statistics=u,p(n,["embeddings"],[a])}}return n}function sce(e,t){const n={},r=f(e,["endpoint"]);r!=null&&p(n,["name"],r);const i=f(e,["deployedModelId"]);return i!=null&&p(n,["deployedModelId"],i),n}function lce(e,t){const n={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["fileUri"]);r!=null&&p(n,["fileUri"],r);const i=f(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function uce(e,t){const n={},r=f(e,["id"]);r!=null&&p(n,["id"],r);const i=f(e,["args"]);i!=null&&p(n,["args"],i);const o=f(e,["name"]);if(o!=null&&p(n,["name"],o),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function cce(e,t){const n={},r=f(e,["allowedFunctionNames"]);r!=null&&p(n,["allowedFunctionNames"],r);const i=f(e,["mode"]);if(i!=null&&p(n,["mode"],i),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function dce(e,t){const n={},r=f(e,["description"]);r!=null&&p(n,["description"],r);const i=f(e,["name"]);i!=null&&p(n,["name"],i);const o=f(e,["parameters"]);o!=null&&p(n,["parameters"],o);const a=f(e,["parametersJsonSchema"]);a!=null&&p(n,["parametersJsonSchema"],a);const s=f(e,["response"]);s!=null&&p(n,["response"],s);const l=f(e,["responseJsonSchema"]);if(l!=null&&p(n,["responseJsonSchema"],l),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function fce(e,t,n,r){const i={},o=f(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],uc(Ct(o)));const a=f(t,["temperature"]);a!=null&&p(i,["temperature"],a);const s=f(t,["topP"]);s!=null&&p(i,["topP"],s);const l=f(t,["topK"]);l!=null&&p(i,["topK"],l);const u=f(t,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=f(t,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const d=f(t,["stopSequences"]);d!=null&&p(i,["stopSequences"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const g=f(t,["logprobs"]);g!=null&&p(i,["logprobs"],g);const v=f(t,["presencePenalty"]);v!=null&&p(i,["presencePenalty"],v);const b=f(t,["frequencyPenalty"]);b!=null&&p(i,["frequencyPenalty"],b);const y=f(t,["seed"]);y!=null&&p(i,["seed"],y);const w=f(t,["responseMimeType"]);w!=null&&p(i,["responseMimeType"],w);const x=f(t,["responseSchema"]);x!=null&&p(i,["responseSchema"],ex(x));const _=f(t,["responseJsonSchema"]);if(_!=null&&p(i,["responseJsonSchema"],_),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=f(t,["safetySettings"]);if(n!==void 0&&T!=null){let $=T;Array.isArray($)&&($=$.map(D=>nde(D))),p(n,["safetySettings"],$)}const E=f(t,["tools"]);if(n!==void 0&&E!=null){let $=Fs(E);Array.isArray($)&&($=$.map(D=>ude(Us(D)))),p(n,["tools"],$)}const S=f(t,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],lde(S)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=f(t,["cachedContent"]);n!==void 0&&k!=null&&p(n,["cachedContent"],ni(e,k));const A=f(t,["responseModalities"]);A!=null&&p(i,["responseModalities"],A);const C=f(t,["mediaResolution"]);C!=null&&p(i,["mediaResolution"],C);const N=f(t,["speechConfig"]);if(N!=null&&p(i,["speechConfig"],tx(N)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=f(t,["thinkingConfig"]);R!=null&&p(i,["thinkingConfig"],R);const M=f(t,["imageConfig"]);M!=null&&p(i,["imageConfig"],Uce(M));const L=f(t,["enableEnhancedCivicAnswers"]);if(L!=null&&p(i,["enableEnhancedCivicAnswers"],L),f(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function hce(e,t,n,r){const i={},o=f(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],Ct(o));const a=f(t,["temperature"]);a!=null&&p(i,["temperature"],a);const s=f(t,["topP"]);s!=null&&p(i,["topP"],s);const l=f(t,["topK"]);l!=null&&p(i,["topK"],l);const u=f(t,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=f(t,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const d=f(t,["stopSequences"]);d!=null&&p(i,["stopSequences"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const g=f(t,["logprobs"]);g!=null&&p(i,["logprobs"],g);const v=f(t,["presencePenalty"]);v!=null&&p(i,["presencePenalty"],v);const b=f(t,["frequencyPenalty"]);b!=null&&p(i,["frequencyPenalty"],b);const y=f(t,["seed"]);y!=null&&p(i,["seed"],y);const w=f(t,["responseMimeType"]);w!=null&&p(i,["responseMimeType"],w);const x=f(t,["responseSchema"]);x!=null&&p(i,["responseSchema"],ex(x));const _=f(t,["responseJsonSchema"]);_!=null&&p(i,["responseJsonSchema"],_);const T=f(t,["routingConfig"]);T!=null&&p(i,["routingConfig"],T);const E=f(t,["modelSelectionConfig"]);E!=null&&p(i,["modelConfig"],E);const S=f(t,["safetySettings"]);if(n!==void 0&&S!=null){let P=S;Array.isArray(P)&&(P=P.map(j=>j)),p(n,["safetySettings"],P)}const k=f(t,["tools"]);if(n!==void 0&&k!=null){let P=Fs(k);Array.isArray(P)&&(P=P.map(j=>SR(Us(j)))),p(n,["tools"],P)}const A=f(t,["toolConfig"]);n!==void 0&&A!=null&&p(n,["toolConfig"],A);const C=f(t,["labels"]);n!==void 0&&C!=null&&p(n,["labels"],C);const N=f(t,["cachedContent"]);n!==void 0&&N!=null&&p(n,["cachedContent"],ni(e,N));const R=f(t,["responseModalities"]);R!=null&&p(i,["responseModalities"],R);const M=f(t,["mediaResolution"]);M!=null&&p(i,["mediaResolution"],M);const L=f(t,["speechConfig"]);L!=null&&p(i,["speechConfig"],tx(L));const $=f(t,["audioTimestamp"]);$!=null&&p(i,["audioTimestamp"],$);const D=f(t,["thinkingConfig"]);D!=null&&p(i,["thinkingConfig"],D);const U=f(t,["imageConfig"]);if(U!=null&&p(i,["imageConfig"],Fce(U)),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const V=f(t,["modelArmorConfig"]);return n!==void 0&&V!=null&&p(n,["modelArmorConfig"],V),i}function ck(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["contents"]);if(o!=null){let s=xn(o);Array.isArray(s)&&(s=s.map(l=>uc(l))),p(r,["contents"],s)}const a=f(t,["config"]);return a!=null&&p(r,["generationConfig"],fce(e,a,r)),r}function dk(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["contents"]);if(o!=null){let s=xn(o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["contents"],s)}const a=f(t,["config"]);return a!=null&&p(r,["generationConfig"],hce(e,a,r)),r}function fk(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>$ue(c))),p(n,["candidates"],u)}const o=f(e,["modelVersion"]);o!=null&&p(n,["modelVersion"],o);const a=f(e,["promptFeedback"]);a!=null&&p(n,["promptFeedback"],a);const s=f(e,["responseId"]);s!=null&&p(n,["responseId"],s);const l=f(e,["usageMetadata"]);return l!=null&&p(n,["usageMetadata"],l),n}function hk(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>d)),p(n,["candidates"],c)}const o=f(e,["createTime"]);o!=null&&p(n,["createTime"],o);const a=f(e,["modelVersion"]);a!=null&&p(n,["modelVersion"],a);const s=f(e,["promptFeedback"]);s!=null&&p(n,["promptFeedback"],s);const l=f(e,["responseId"]);l!=null&&p(n,["responseId"],l);const u=f(e,["usageMetadata"]);return u!=null&&p(n,["usageMetadata"],u),n}function pce(e,t,n){const r={};if(f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=f(e,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=f(e,["aspectRatio"]);t!==void 0&&o!=null&&p(t,["parameters","aspectRatio"],o);const a=f(e,["guidanceScale"]);if(t!==void 0&&a!=null&&p(t,["parameters","guidanceScale"],a),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=f(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&p(t,["parameters","safetySetting"],s);const l=f(e,["personGeneration"]);t!==void 0&&l!=null&&p(t,["parameters","personGeneration"],l);const u=f(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&p(t,["parameters","includeSafetyAttributes"],u);const c=f(e,["includeRaiReason"]);t!==void 0&&c!=null&&p(t,["parameters","includeRaiReason"],c);const d=f(e,["language"]);t!==void 0&&d!=null&&p(t,["parameters","language"],d);const h=f(e,["outputMimeType"]);t!==void 0&&h!=null&&p(t,["parameters","outputOptions","mimeType"],h);const g=f(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&p(t,["parameters","outputOptions","compressionQuality"],g),f(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=f(e,["imageSize"]);if(t!==void 0&&v!=null&&p(t,["parameters","sampleImageSize"],v),f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function mce(e,t,n){const r={},i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=f(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const a=f(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const s=f(e,["aspectRatio"]);t!==void 0&&s!=null&&p(t,["parameters","aspectRatio"],s);const l=f(e,["guidanceScale"]);t!==void 0&&l!=null&&p(t,["parameters","guidanceScale"],l);const u=f(e,["seed"]);t!==void 0&&u!=null&&p(t,["parameters","seed"],u);const c=f(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&p(t,["parameters","safetySetting"],c);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&p(t,["parameters","personGeneration"],d);const h=f(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&p(t,["parameters","includeSafetyAttributes"],h);const g=f(e,["includeRaiReason"]);t!==void 0&&g!=null&&p(t,["parameters","includeRaiReason"],g);const v=f(e,["language"]);t!==void 0&&v!=null&&p(t,["parameters","language"],v);const b=f(e,["outputMimeType"]);t!==void 0&&b!=null&&p(t,["parameters","outputOptions","mimeType"],b);const y=f(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&p(t,["parameters","outputOptions","compressionQuality"],y);const w=f(e,["addWatermark"]);t!==void 0&&w!=null&&p(t,["parameters","addWatermark"],w);const x=f(e,["labels"]);t!==void 0&&x!=null&&p(t,["labels"],x);const _=f(e,["imageSize"]);t!==void 0&&_!=null&&p(t,["parameters","sampleImageSize"],_);const T=f(e,["enhancePrompt"]);return t!==void 0&&T!=null&&p(t,["parameters","enhancePrompt"],T),r}function gce(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["config"]);return a!=null&&pce(a,r),r}function vce(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["config"]);return a!=null&&mce(a,r),r}function yce(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Ice(s))),p(n,["generatedImages"],a)}const o=f(e,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],wR(o)),n}function bce(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Tp(s))),p(n,["generatedImages"],a)}const o=f(e,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],_R(o)),n}function xce(e,t,n){const r={},i=f(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i),f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=f(e,["durationSeconds"]);if(t!==void 0&&o!=null&&p(t,["parameters","durationSeconds"],o),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(e,["aspectRatio"]);t!==void 0&&a!=null&&p(t,["parameters","aspectRatio"],a);const s=f(e,["resolution"]);t!==void 0&&s!=null&&p(t,["parameters","resolution"],s);const l=f(e,["personGeneration"]);if(t!==void 0&&l!=null&&p(t,["parameters","personGeneration"],l),f(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=f(e,["negativePrompt"]);t!==void 0&&u!=null&&p(t,["parameters","negativePrompt"],u);const c=f(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&p(t,["parameters","enhancePrompt"],c),f(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=f(e,["lastFrame"]);t!==void 0&&d!=null&&p(t,["instances[0]","lastFrame"],kp(d));const h=f(e,["referenceImages"]);if(t!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>_de(v))),p(t,["instances[0]","referenceImages"],g)}if(f(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function wce(e,t,n){const r={},i=f(e,["numberOfVideos"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=f(e,["outputGcsUri"]);t!==void 0&&o!=null&&p(t,["parameters","storageUri"],o);const a=f(e,["fps"]);t!==void 0&&a!=null&&p(t,["parameters","fps"],a);const s=f(e,["durationSeconds"]);t!==void 0&&s!=null&&p(t,["parameters","durationSeconds"],s);const l=f(e,["seed"]);t!==void 0&&l!=null&&p(t,["parameters","seed"],l);const u=f(e,["aspectRatio"]);t!==void 0&&u!=null&&p(t,["parameters","aspectRatio"],u);const c=f(e,["resolution"]);t!==void 0&&c!=null&&p(t,["parameters","resolution"],c);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&p(t,["parameters","personGeneration"],d);const h=f(e,["pubsubTopic"]);t!==void 0&&h!=null&&p(t,["parameters","pubsubTopic"],h);const g=f(e,["negativePrompt"]);t!==void 0&&g!=null&&p(t,["parameters","negativePrompt"],g);const v=f(e,["enhancePrompt"]);t!==void 0&&v!=null&&p(t,["parameters","enhancePrompt"],v);const b=f(e,["generateAudio"]);t!==void 0&&b!=null&&p(t,["parameters","generateAudio"],b);const y=f(e,["lastFrame"]);t!==void 0&&y!=null&&p(t,["instances[0]","lastFrame"],lr(y));const w=f(e,["referenceImages"]);if(t!==void 0&&w!=null){let T=w;Array.isArray(T)&&(T=T.map(E=>Sde(E))),p(t,["instances[0]","referenceImages"],T)}const x=f(e,["mask"]);t!==void 0&&x!=null&&p(t,["instances[0]","mask"],wde(x));const _=f(e,["compressionQuality"]);return t!==void 0&&_!=null&&p(t,["parameters","compressionQuality"],_),r}function _ce(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["name"],r);const i=f(e,["metadata"]);i!=null&&p(n,["metadata"],i);const o=f(e,["done"]);o!=null&&p(n,["done"],o);const a=f(e,["error"]);a!=null&&p(n,["error"],a);const s=f(e,["response","generateVideoResponse"]);return s!=null&&p(n,["response"],kce(s)),n}function Sce(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["name"],r);const i=f(e,["metadata"]);i!=null&&p(n,["metadata"],i);const o=f(e,["done"]);o!=null&&p(n,["done"],o);const a=f(e,["error"]);a!=null&&p(n,["error"],a);const s=f(e,["response"]);return s!=null&&p(n,["response"],Ace(s)),n}function Ece(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["image"]);a!=null&&p(r,["instances[0]","image"],kp(a));const s=f(t,["video"]);s!=null&&p(r,["instances[0]","video"],ER(s));const l=f(t,["source"]);l!=null&&Cce(l,r);const u=f(t,["config"]);return u!=null&&xce(u,r),r}function Tce(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["image"]);a!=null&&p(r,["instances[0]","image"],lr(a));const s=f(t,["video"]);s!=null&&p(r,["instances[0]","video"],TR(s));const l=f(t,["source"]);l!=null&&Pce(l,r);const u=f(t,["config"]);return u!=null&&wce(u,r),r}function kce(e,t){const n={},r=f(e,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Oce(s))),p(n,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=f(e,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function Ace(e,t){const n={},r=f(e,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Rce(s))),p(n,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=f(e,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function Cce(e,t,n){const r={},i=f(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=f(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],kp(o));const a=f(e,["video"]);return t!==void 0&&a!=null&&p(t,["instances[0]","video"],ER(a)),r}function Pce(e,t,n){const r={},i=f(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=f(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],lr(o));const a=f(e,["video"]);return t!==void 0&&a!=null&&p(t,["instances[0]","video"],TR(a)),r}function Ice(e,t){const n={},r=f(e,["_self"]);r!=null&&p(n,["image"],Bce(r));const i=f(e,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=f(e,["_self"]);return o!=null&&p(n,["safetyAttributes"],wR(o)),n}function Tp(e,t){const n={},r=f(e,["_self"]);r!=null&&p(n,["image"],xR(r));const i=f(e,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=f(e,["_self"]);o!=null&&p(n,["safetyAttributes"],_R(o));const a=f(e,["prompt"]);return a!=null&&p(n,["enhancedPrompt"],a),n}function Nce(e,t){const n={},r=f(e,["_self"]);r!=null&&p(n,["mask"],xR(r));const i=f(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(n,["labels"],o)}return n}function Oce(e,t){const n={},r=f(e,["video"]);return r!=null&&p(n,["video"],bde(r)),n}function Rce(e,t){const n={},r=f(e,["_self"]);return r!=null&&p(n,["video"],xde(r)),n}function Mce(e,t){const n={},r=f(e,["modelSelectionConfig"]);r!=null&&p(n,["modelConfig"],r);const i=f(e,["responseJsonSchema"]);i!=null&&p(n,["responseJsonSchema"],i);const o=f(e,["audioTimestamp"]);o!=null&&p(n,["audioTimestamp"],o);const a=f(e,["candidateCount"]);a!=null&&p(n,["candidateCount"],a);const s=f(e,["enableAffectiveDialog"]);s!=null&&p(n,["enableAffectiveDialog"],s);const l=f(e,["frequencyPenalty"]);l!=null&&p(n,["frequencyPenalty"],l);const u=f(e,["logprobs"]);u!=null&&p(n,["logprobs"],u);const c=f(e,["maxOutputTokens"]);c!=null&&p(n,["maxOutputTokens"],c);const d=f(e,["mediaResolution"]);d!=null&&p(n,["mediaResolution"],d);const h=f(e,["presencePenalty"]);h!=null&&p(n,["presencePenalty"],h);const g=f(e,["responseLogprobs"]);g!=null&&p(n,["responseLogprobs"],g);const v=f(e,["responseMimeType"]);v!=null&&p(n,["responseMimeType"],v);const b=f(e,["responseModalities"]);b!=null&&p(n,["responseModalities"],b);const y=f(e,["responseSchema"]);y!=null&&p(n,["responseSchema"],y);const w=f(e,["routingConfig"]);w!=null&&p(n,["routingConfig"],w);const x=f(e,["seed"]);x!=null&&p(n,["seed"],x);const _=f(e,["speechConfig"]);_!=null&&p(n,["speechConfig"],_);const T=f(e,["stopSequences"]);T!=null&&p(n,["stopSequences"],T);const E=f(e,["temperature"]);E!=null&&p(n,["temperature"],E);const S=f(e,["thinkingConfig"]);S!=null&&p(n,["thinkingConfig"],S);const k=f(e,["topK"]);k!=null&&p(n,["topK"],k);const A=f(e,["topP"]);if(A!=null&&p(n,["topP"],A),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function $ce(e,t,n){const r={},i=f(t,["model"]);return i!=null&&p(r,["_url","name"],Ae(e,i)),r}function Dce(e,t,n){const r={},i=f(t,["model"]);return i!=null&&p(r,["_url","name"],Ae(e,i)),r}function jce(e,t){const n={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=f(e,["enableWidget"]);return r!=null&&p(n,["enableWidget"],r),n}function Lce(e,t){const n={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=f(e,["timeRangeFilter"]);return r!=null&&p(n,["timeRangeFilter"],r),n}function Uce(e,t){const n={},r=f(e,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=f(e,["imageSize"]);if(i!=null&&p(n,["imageSize"],i),f(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function Fce(e,t){const n={},r=f(e,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=f(e,["imageSize"]);i!=null&&p(n,["imageSize"],i);const o=f(e,["personGeneration"]);o!=null&&p(n,["personGeneration"],o);const a=f(e,["outputMimeType"]);a!=null&&p(n,["imageOutputOptions","mimeType"],a);const s=f(e,["outputCompressionQuality"]);return s!=null&&p(n,["imageOutputOptions","compressionQuality"],s),n}function Bce(e,t){const n={},r=f(e,["bytesBase64Encoded"]);r!=null&&p(n,["imageBytes"],zi(r));const i=f(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function xR(e,t){const n={},r=f(e,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=f(e,["bytesBase64Encoded"]);i!=null&&p(n,["imageBytes"],zi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function kp(e,t){const n={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=f(e,["imageBytes"]);r!=null&&p(n,["bytesBase64Encoded"],zi(r));const i=f(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function lr(e,t){const n={},r=f(e,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=f(e,["imageBytes"]);i!=null&&p(n,["bytesBase64Encoded"],zi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function zce(e,t,n,r){const i={},o=f(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=f(t,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const s=f(t,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const l=f(t,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],hR(e,l)),i}function Vce(e,t,n,r){const i={},o=f(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=f(t,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const s=f(t,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const l=f(t,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],hR(e,l)),i}function qce(e,t,n){const r={},i=f(t,["config"]);return i!=null&&zce(e,i,r),r}function Gce(e,t,n){const r={},i=f(t,["config"]);return i!=null&&Vce(e,i,r),r}function Hce(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(e,["_self"]);if(o!=null){let a=pR(o);Array.isArray(a)&&(a=a.map(s=>My(s))),p(n,["models"],a)}return n}function Wce(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(e,["_self"]);if(o!=null){let a=pR(o);Array.isArray(a)&&(a=a.map(s=>$y(s))),p(n,["models"],a)}return n}function Kce(e,t){const n={},r=f(e,["maskMode"]);r!=null&&p(n,["maskMode"],r);const i=f(e,["segmentationClasses"]);i!=null&&p(n,["maskClasses"],i);const o=f(e,["maskDilation"]);return o!=null&&p(n,["dilation"],o),n}function My(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["name"],r);const i=f(e,["displayName"]);i!=null&&p(n,["displayName"],i);const o=f(e,["description"]);o!=null&&p(n,["description"],o);const a=f(e,["version"]);a!=null&&p(n,["version"],a);const s=f(e,["_self"]);s!=null&&p(n,["tunedModelInfo"],cde(s));const l=f(e,["inputTokenLimit"]);l!=null&&p(n,["inputTokenLimit"],l);const u=f(e,["outputTokenLimit"]);u!=null&&p(n,["outputTokenLimit"],u);const c=f(e,["supportedGenerationMethods"]);c!=null&&p(n,["supportedActions"],c);const d=f(e,["temperature"]);d!=null&&p(n,["temperature"],d);const h=f(e,["maxTemperature"]);h!=null&&p(n,["maxTemperature"],h);const g=f(e,["topP"]);g!=null&&p(n,["topP"],g);const v=f(e,["topK"]);v!=null&&p(n,["topK"],v);const b=f(e,["thinking"]);return b!=null&&p(n,["thinking"],b),n}function $y(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["name"],r);const i=f(e,["displayName"]);i!=null&&p(n,["displayName"],i);const o=f(e,["description"]);o!=null&&p(n,["description"],o);const a=f(e,["versionId"]);a!=null&&p(n,["version"],a);const s=f(e,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>sce(g))),p(n,["endpoints"],h)}const l=f(e,["labels"]);l!=null&&p(n,["labels"],l);const u=f(e,["_self"]);u!=null&&p(n,["tunedModelInfo"],dde(u));const c=f(e,["defaultCheckpointId"]);c!=null&&p(n,["defaultCheckpointId"],c);const d=f(e,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),p(n,["checkpoints"],h)}return n}function Jce(e,t){const n={},r=f(e,["mediaResolution"]);r!=null&&p(n,["mediaResolution"],r);const i=f(e,["codeExecutionResult"]);i!=null&&p(n,["codeExecutionResult"],i);const o=f(e,["executableCode"]);o!=null&&p(n,["executableCode"],o);const a=f(e,["fileData"]);a!=null&&p(n,["fileData"],lce(a));const s=f(e,["functionCall"]);s!=null&&p(n,["functionCall"],uce(s));const l=f(e,["functionResponse"]);l!=null&&p(n,["functionResponse"],l);const u=f(e,["inlineData"]);u!=null&&p(n,["inlineData"],Mue(u));const c=f(e,["text"]);c!=null&&p(n,["text"],c);const d=f(e,["thought"]);d!=null&&p(n,["thought"],d);const h=f(e,["thoughtSignature"]);h!=null&&p(n,["thoughtSignature"],h);const g=f(e,["videoMetadata"]);return g!=null&&p(n,["videoMetadata"],g),n}function Yce(e,t){const n={},r=f(e,["productImage"]);return r!=null&&p(n,["image"],lr(r)),n}function Xce(e,t,n){const r={},i=f(e,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=f(e,["baseSteps"]);t!==void 0&&o!=null&&p(t,["parameters","baseSteps"],o);const a=f(e,["outputGcsUri"]);t!==void 0&&a!=null&&p(t,["parameters","storageUri"],a);const s=f(e,["seed"]);t!==void 0&&s!=null&&p(t,["parameters","seed"],s);const l=f(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&p(t,["parameters","safetySetting"],l);const u=f(e,["personGeneration"]);t!==void 0&&u!=null&&p(t,["parameters","personGeneration"],u);const c=f(e,["addWatermark"]);t!==void 0&&c!=null&&p(t,["parameters","addWatermark"],c);const d=f(e,["outputMimeType"]);t!==void 0&&d!=null&&p(t,["parameters","outputOptions","mimeType"],d);const h=f(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&p(t,["parameters","outputOptions","compressionQuality"],h);const g=f(e,["enhancePrompt"]);t!==void 0&&g!=null&&p(t,["parameters","enhancePrompt"],g);const v=f(e,["labels"]);return t!==void 0&&v!=null&&p(t,["labels"],v),r}function Qce(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["source"]);o!=null&&ede(o,r);const a=f(t,["config"]);return a!=null&&Xce(a,r),r}function Zce(e,t){const n={},r=f(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Tp(o))),p(n,["generatedImages"],i)}return n}function ede(e,t,n){const r={},i=f(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=f(e,["personImage"]);t!==void 0&&o!=null&&p(t,["instances[0]","personImage","image"],lr(o));const a=f(e,["productImages"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>Yce(l))),p(t,["instances[0]","productImages"],s)}return r}function tde(e,t){const n={},r=f(e,["referenceImage"]);r!=null&&p(n,["referenceImage"],lr(r));const i=f(e,["referenceId"]);i!=null&&p(n,["referenceId"],i);const o=f(e,["referenceType"]);o!=null&&p(n,["referenceType"],o);const a=f(e,["maskImageConfig"]);a!=null&&p(n,["maskImageConfig"],Kce(a));const s=f(e,["controlImageConfig"]);s!=null&&p(n,["controlImageConfig"],Bue(s));const l=f(e,["styleImageConfig"]);l!=null&&p(n,["styleImageConfig"],l);const u=f(e,["subjectImageConfig"]);return u!=null&&p(n,["subjectImageConfig"],u),n}function wR(e,t){const n={},r=f(e,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=f(e,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=f(e,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function _R(e,t){const n={},r=f(e,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=f(e,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=f(e,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function nde(e,t){const n={},r=f(e,["category"]);if(r!=null&&p(n,["category"],r),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=f(e,["threshold"]);return i!=null&&p(n,["threshold"],i),n}function rde(e,t){const n={},r=f(e,["image"]);return r!=null&&p(n,["image"],lr(r)),n}function ide(e,t,n){const r={},i=f(e,["mode"]);t!==void 0&&i!=null&&p(t,["parameters","mode"],i);const o=f(e,["maxPredictions"]);t!==void 0&&o!=null&&p(t,["parameters","maxPredictions"],o);const a=f(e,["confidenceThreshold"]);t!==void 0&&a!=null&&p(t,["parameters","confidenceThreshold"],a);const s=f(e,["maskDilation"]);t!==void 0&&s!=null&&p(t,["parameters","maskDilation"],s);const l=f(e,["binaryColorThreshold"]);t!==void 0&&l!=null&&p(t,["parameters","binaryColorThreshold"],l);const u=f(e,["labels"]);return t!==void 0&&u!=null&&p(t,["labels"],u),r}function ode(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["source"]);o!=null&&sde(o,r);const a=f(t,["config"]);return a!=null&&ide(a,r),r}function ade(e,t){const n={},r=f(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Nce(o))),p(n,["generatedMasks"],i)}return n}function sde(e,t,n){const r={},i=f(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=f(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],lr(o));const a=f(e,["scribbleImage"]);return t!==void 0&&a!=null&&p(t,["instances[0]","scribble"],rde(a)),r}function lde(e,t){const n={},r=f(e,["retrievalConfig"]);r!=null&&p(n,["retrievalConfig"],r);const i=f(e,["functionCallingConfig"]);return i!=null&&p(n,["functionCallingConfig"],cce(i)),n}function ude(e,t){const n={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["computerUse"]);r!=null&&p(n,["computerUse"],r);const i=f(e,["fileSearch"]);i!=null&&p(n,["fileSearch"],i);const o=f(e,["codeExecution"]);if(o!=null&&p(n,["codeExecution"],o),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>h)),p(n,["functionDeclarations"],d)}const s=f(e,["googleMaps"]);s!=null&&p(n,["googleMaps"],jce(s));const l=f(e,["googleSearch"]);l!=null&&p(n,["googleSearch"],Lce(l));const u=f(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],u);const c=f(e,["urlContext"]);return c!=null&&p(n,["urlContext"],c),n}function SR(e,t){const n={},r=f(e,["retrieval"]);r!=null&&p(n,["retrieval"],r);const i=f(e,["computerUse"]);if(i!=null&&p(n,["computerUse"],i),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=f(e,["codeExecution"]);o!=null&&p(n,["codeExecution"],o);const a=f(e,["enterpriseWebSearch"]);a!=null&&p(n,["enterpriseWebSearch"],a);const s=f(e,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>dce(g))),p(n,["functionDeclarations"],h)}const l=f(e,["googleMaps"]);l!=null&&p(n,["googleMaps"],l);const u=f(e,["googleSearch"]);u!=null&&p(n,["googleSearch"],u);const c=f(e,["googleSearchRetrieval"]);c!=null&&p(n,["googleSearchRetrieval"],c);const d=f(e,["urlContext"]);return d!=null&&p(n,["urlContext"],d),n}function cde(e,t){const n={},r=f(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(e,["createTime"]);i!=null&&p(n,["createTime"],i);const o=f(e,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function dde(e,t){const n={},r=f(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&p(n,["baseModel"],r);const i=f(e,["createTime"]);i!=null&&p(n,["createTime"],i);const o=f(e,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function fde(e,t,n){const r={},i=f(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=f(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const a=f(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&p(t,["defaultCheckpointId"],a),r}function hde(e,t,n){const r={},i=f(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=f(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const a=f(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&p(t,["defaultCheckpointId"],a),r}function pde(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","name"],Ae(e,i));const o=f(t,["config"]);return o!=null&&fde(o,r),r}function mde(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["config"]);return o!=null&&hde(o,r),r}function gde(e,t,n){const r={},i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=f(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&p(t,["parameters","safetySetting"],o);const a=f(e,["personGeneration"]);t!==void 0&&a!=null&&p(t,["parameters","personGeneration"],a);const s=f(e,["includeRaiReason"]);t!==void 0&&s!=null&&p(t,["parameters","includeRaiReason"],s);const l=f(e,["outputMimeType"]);t!==void 0&&l!=null&&p(t,["parameters","outputOptions","mimeType"],l);const u=f(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&p(t,["parameters","outputOptions","compressionQuality"],u);const c=f(e,["enhanceInputImage"]);t!==void 0&&c!=null&&p(t,["parameters","upscaleConfig","enhanceInputImage"],c);const d=f(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&p(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=f(e,["labels"]);t!==void 0&&h!=null&&p(t,["labels"],h);const g=f(e,["numberOfImages"]);t!==void 0&&g!=null&&p(t,["parameters","sampleCount"],g);const v=f(e,["mode"]);return t!==void 0&&v!=null&&p(t,["parameters","mode"],v),r}function vde(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Ae(e,i));const o=f(t,["image"]);o!=null&&p(r,["instances[0]","image"],lr(o));const a=f(t,["upscaleFactor"]);a!=null&&p(r,["parameters","upscaleConfig","upscaleFactor"],a);const s=f(t,["config"]);return s!=null&&gde(s,r),r}function yde(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Tp(a))),p(n,["generatedImages"],o)}return n}function bde(e,t){const n={},r=f(e,["uri"]);r!=null&&p(n,["uri"],r);const i=f(e,["encodedVideo"]);i!=null&&p(n,["videoBytes"],zi(i));const o=f(e,["encoding"]);return o!=null&&p(n,["mimeType"],o),n}function xde(e,t){const n={},r=f(e,["gcsUri"]);r!=null&&p(n,["uri"],r);const i=f(e,["bytesBase64Encoded"]);i!=null&&p(n,["videoBytes"],zi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function wde(e,t){const n={},r=f(e,["image"]);r!=null&&p(n,["_self"],lr(r));const i=f(e,["maskMode"]);return i!=null&&p(n,["maskMode"],i),n}function _de(e,t){const n={},r=f(e,["image"]);r!=null&&p(n,["image"],kp(r));const i=f(e,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function Sde(e,t){const n={},r=f(e,["image"]);r!=null&&p(n,["image"],lr(r));const i=f(e,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function ER(e,t){const n={},r=f(e,["uri"]);r!=null&&p(n,["uri"],r);const i=f(e,["videoBytes"]);i!=null&&p(n,["encodedVideo"],zi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["encoding"],o),n}function TR(e,t){const n={},r=f(e,["uri"]);r!=null&&p(n,["gcsUri"],r);const i=f(e,["videoBytes"]);i!=null&&p(n,["bytesBase64Encoded"],zi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ede(e,t){const n={},r=f(e,["displayName"]);return t!==void 0&&r!=null&&p(t,["displayName"],r),n}function Tde(e){const t={},n=f(e,["config"]);return n!=null&&Ede(n,t),t}function kde(e,t){const n={},r=f(e,["force"]);return t!==void 0&&r!=null&&p(t,["_query","force"],r),n}function Ade(e){const t={},n=f(e,["name"]);n!=null&&p(t,["_url","name"],n);const r=f(e,["config"]);return r!=null&&kde(r,t),t}function Cde(e){const t={},n=f(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function Pde(e,t){const n={},r=f(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["customMetadata"],o)}const i=f(e,["chunkingConfig"]);return t!==void 0&&i!=null&&p(t,["chunkingConfig"],i),n}function Ide(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response"]);return a!=null&&p(t,["response"],Ode(a)),t}function Nde(e){const t={},n=f(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const r=f(e,["fileName"]);r!=null&&p(t,["fileName"],r);const i=f(e,["config"]);return i!=null&&Pde(i,t),t}function Ode(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["parent"]);r!=null&&p(t,["parent"],r);const i=f(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function Rde(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function Mde(e){const t={},n=f(e,["config"]);return n!=null&&Rde(n,t),t}function $de(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["fileSearchStores"],o)}return t}function kR(e,t){const n={},r=f(e,["mimeType"]);t!==void 0&&r!=null&&p(t,["mimeType"],r);const i=f(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=f(e,["customMetadata"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(t,["customMetadata"],s)}const a=f(e,["chunkingConfig"]);return t!==void 0&&a!=null&&p(t,["chunkingConfig"],a),n}function Dde(e){const t={},n=f(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const r=f(e,["config"]);return r!=null&&kR(r,t),t}function jde(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lde="Content-Type",Ude="X-Server-Timeout",Fde="User-Agent",Dy="x-goog-api-client",Bde="1.42.0",zde=`google-genai-sdk/${Bde}`,Vde="v1beta1",qde="v1beta",Gde=5,Hde=[408,429,500,502,503,504];class Wde{constructor(t){var n,r,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const s=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!s?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Vde}else{if(!this.clientOptions.apiKey)throw new Ju({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:qde,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===Iy.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[a,s]of Object.entries(t.queryParams))i.searchParams.append(a,String(s));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=a}return n&&n.extraBody!==null&&Kde(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await pk(i),new Ny(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await pk(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return ir(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield pe(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const v=JSON.parse(d);if("error"in v){const b=JSON.parse(JSON.stringify(v.error)),y=b.status,w=b.code,x=`got status: ${y}. ${JSON.stringify(v)}`;if(w>=400&&w<600)throw new Ju({message:x,status:w})}}catch(v){if(v.name==="ApiError")throw v}a+=d;let h=-1,g=0;for(;;){h=-1,g=0;for(const y of l){const w=a.indexOf(y);w!==-1&&(h===-1||w<h)&&(h=w,g=y.length)}if(h===-1)break;const v=a.substring(0,h);a=a.substring(h+g);const b=v.trim();if(b.startsWith(s)){const y=b.substring(s.length).trim();try{const w=new Response(y,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield pe(new Ny(w))}catch(w){throw new Error(`exception parsing stream chunk ${y}. ${w}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,n);const i=this.clientOptions.httpOptions.retryOptions;return Dae(async()=>{const a=await fetch(t,n);if(a.ok)return a;throw Hde.includes(a.status)?new Error(`Retryable HTTP Error: ${a.statusText}`):new Mae(`Non-retryable exception ${a.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:Gde)-1})}getDefaultHeaders(){const t={},n=zde+" "+this.clientOptions.userAgentExtra;return t[Fde]=n,t[Dy]=n,t[Lde]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(Ude,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(t);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(t),c=Q("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(t,d,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&kR(r,d);const h=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function pk(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ju({message:i,status:n}):new Error(i)}}function Kde(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jde="mcp_used/unknown";let Yde=!1;function AR(e){for(const t of e)if(Xde(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Yde}function CR(e){var t;const n=(t=e[Dy])!==null&&t!==void 0?t:"";e[Dy]=(n+` ${Jde}`).trimStart()}function Xde(e){return e!==null&&typeof e=="object"&&e instanceof rx}function Qde(e){return ir(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield pe(n.listTools({cursor:i}));for(const s of a.tools)yield yield pe(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class rx{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new rx(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,or(Qde(c))),u;u=await l.next(),t=u.done,!t;s=!0){i=u.value,s=!1;const d=i;a.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!s&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Ese(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Zde(e,t,n){const r=new gse;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class efe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=rfe(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(_=>{u=_}),d=t.callbacks,h=function(){u({})},g=this.apiClient,v={onopen:h,onmessage:_=>{Zde(g,d.onmessage,_)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(_){}},b=this.webSocketFactory.create(l,nfe(a),v);b.connect(),await c;const x={setup:{model:Ae(this.apiClient,t.model)}};return b.send(JSON.stringify(x)),new tfe(b,this.apiClient)}}class tfe{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Eue(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Sue(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ka.PLAY)}pause(){this.sendPlaybackControl(ka.PAUSE)}stop(){this.sendPlaybackControl(ka.STOP)}resetContext(){this.sendPlaybackControl(ka.RESET_CONTEXT)}close(){this.conn.close()}}function nfe(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function rfe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ife="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ofe(e,t,n){const r=new mse;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const a=Aue(o);Object.assign(r,a)}else Object.assign(r,o);t(r)}class afe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new efe(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,a,s;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();t.config&&t.config.tools&&AR(t.config.tools)&&CR(d);const h=cfe(d);if(this.apiClient.isVertexAI()){const C=this.apiClient.getProject(),N=this.apiClient.getLocation(),R=this.apiClient.getApiKey(),M=!!C&&!!N||!!R;this.apiClient.getCustomBaseUrl()&&!M?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const C=this.apiClient.getApiKey();let N="BidiGenerateContent",R="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",R="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${N}?${R}=${C}`}let g=()=>{};const v=new Promise(C=>{g=C}),b=t.callbacks,y=function(){var C;(C=b==null?void 0:b.onopen)===null||C===void 0||C.call(b),g({})},w=this.apiClient,x={onopen:y,onmessage:C=>{ofe(w,b.onmessage,C)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(C){}},_=this.webSocketFactory.create(c,ufe(h),x);_.connect(),await v;let T=Ae(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const C=this.apiClient.getProject(),N=this.apiClient.getLocation();C&&N&&(T=`projects/${C}/locations/${N}/`+T)}let E={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[th.AUDIO]}:t.config.responseModalities=[th.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const S=(s=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],k=[];for(const C of S)if(this.isCallableTool(C)){const N=C;k.push(await N.tool())}else k.push(C);k.length>0&&(t.config.tools=k);const A={model:T,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?E=_ue(this.apiClient,A):E=wue(this.apiClient,A),delete E.config,_.send(JSON.stringify(E)),new lfe(_,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const sfe={turnComplete:!0};class lfe{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=xn(n.turns),t.isVertexAI()||(r=r.map(i=>uc(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(ife)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},sfe),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:kue(t)}:n={realtimeInput:Tue(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ufe(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function cfe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mk=10;function gk(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const a of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Fa(a)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Fa(e){return"callTool"in e&&typeof e.callTool=="function"}function dfe(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Fa(i)))!==null&&r!==void 0?r:!1}function vk(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Fa(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function yk(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ffe extends ti{constructor(t){super(),this.apiClient=t,this.embedContent=async n=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(n);if(n.model.includes("gemini")&&n.model!=="gemini-embedding-001"||n.model.includes("maas")){const i=xn(n.contents);if(i.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const o=Object.assign(Object.assign({},n),{content:i[0],embeddingApiType:nh.EMBED_CONTENT});return await this.embedContentInternal(o)}else{const i=Object.assign(Object.assign({},n),{embeddingApiType:nh.PREDICT});return await this.embedContentInternal(i)}},this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!dfe(n)||gk(n.config))return await this.generateContentInternal(l);const u=vk(n);if(u.length>0){const b=u.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let c,d;const h=xn(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:mk;let v=0;for(;v<g&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const b=c.candidates[0].content,y=[];for(const w of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Fa(w)){const _=await w.callTool(c.functionCalls);y.push(..._)}v++,d={role:"user",parts:y},l.contents=xn(l.contents),l.contents.push(b),l.contents.push(d),yk(l.config)&&(h.push(b),h.push(d))}return yk(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),gk(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=vk(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Bo(Kr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const a=await Promise.all(o.map(async l=>Fa(l)?await l.tool():l)),s={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(s.config.tools=a,t.config&&t.config.tools&&AR(t.config.tools)){const l=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),CR(u),s.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const a of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Fa(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:mk;let a=!1,s=0;const l=await this.initAfcToolsMap(t);return function(u,c,d){return ir(this,arguments,function*(){for(var h,g,v,b,y,w;s<o;){a&&(s++,a=!1);const E=yield pe(u.processParamsMaybeAddMcpUsage(d)),S=yield pe(u.generateContentStreamInternal(E)),k=[],A=[];try{for(var x=!0,_=(g=void 0,or(S)),T;T=yield pe(_.next()),h=T.done,!h;x=!0){b=T.value,x=!1;const C=b;if(yield yield pe(C),C.candidates&&(!((y=C.candidates[0])===null||y===void 0)&&y.content)){A.push(C.candidates[0].content);for(const N of(w=C.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(s<o&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(N.functionCall.name)){const R=yield pe(c.get(N.functionCall.name).callTool([N.functionCall]));k.push(...R)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(C){g={error:C}}finally{try{!x&&!h&&(v=_.return)&&(yield pe(v.call(_)))}finally{if(g)throw g.error}}if(k.length>0){a=!0;const C=new dl;C.candidates=[{content:{role:"user",parts:k}}],yield yield pe(C);const N=[];N.push(...A),N.push({role:"user",parts:k});const R=xn(d.contents).concat(N);d.contents=R}else break}})}(this,l,t)}async generateContentInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=dk(this.apiClient,t);return s=Q("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=hk(c),h=new dl;return Object.assign(h,d),h})}else{const u=ck(this.apiClient,t);return s=Q("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=fk(c),h=new dl;return Object.assign(h,d),h})}}async generateContentStreamInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=dk(this.apiClient,t);return s=Q("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return ir(this,arguments,function*(){var h,g,v,b;try{for(var y=!0,w=or(d),x;x=yield pe(w.next()),h=x.done,!h;y=!0){b=x.value,y=!1;const _=b,T=hk(yield pe(_.json()),t);T.sdkHttpResponse={headers:_.headers};const E=new dl;Object.assign(E,T),yield yield pe(E)}}catch(_){g={error:_}}finally{try{!y&&!h&&(v=w.return)&&(yield pe(v.call(w)))}finally{if(g)throw g.error}}})})}else{const u=ck(this.apiClient,t);return s=Q("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return ir(this,arguments,function*(){var h,g,v,b;try{for(var y=!0,w=or(d),x;x=yield pe(w.next()),h=x.done,!h;y=!0){b=x.value,y=!1;const _=b,T=fk(yield pe(_.json()),t);T.sdkHttpResponse={headers:_.headers};const E=new dl;Object.assign(E,T),yield yield pe(E)}}catch(_){g={error:_}}finally{try{!y&&!h&&(v=w.return)&&(yield pe(v.call(w)))}finally{if(g)throw g.error}}})})}}async embedContentInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ice(this.apiClient,t,t),c=kse(t.model)?"{model}:embedContent":"{model}:predict";return s=Q(c,u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=ace(d,t),g=new WT;return Object.assign(g,h),g})}else{const u=rce(this.apiClient,t);return s=Q("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=oce(c),h=new WT;return Object.assign(h,d),h})}}async generateImagesInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=vce(this.apiClient,t);return s=Q("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=bce(c),h=new KT;return Object.assign(h,d),h})}else{const u=gce(this.apiClient,t);return s=Q("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=yce(c),h=new KT;return Object.assign(h,d),h})}}async editImageInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Zue(this.apiClient,t);return o=Q("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=ece(l),c=new rse;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=vde(this.apiClient,t);return o=Q("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=yde(l),c=new ise;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Qce(this.apiClient,t);return o=Q("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Zce(l),c=new ose;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=ode(this.apiClient,t);return o=Q("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=ade(l),c=new ase;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Dce(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>$y(c))}else{const u=$ce(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>My(c))}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Gce(this.apiClient,t);return s=Q("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Wce(c),h=new JT;return Object.assign(h,d),h})}else{const u=qce(this.apiClient,t);return s=Q("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Hce(c),h=new JT;return Object.assign(h,d),h})}}async update(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=mde(this.apiClient,t);return s=Q("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>$y(c))}else{const u=pde(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>My(c))}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Jue(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Xue(c),h=new YT;return Object.assign(h,d),h})}else{const u=Kue(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Yue(c),h=new YT;return Object.assign(h,d),h})}}async countTokens(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Gue(this.apiClient,t);return s=Q("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Wue(c),h=new XT;return Object.assign(h,d),h})}else{const u=que(this.apiClient,t);return s=Q("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Hue(c),h=new XT;return Object.assign(h,d),h})}}async computeTokens(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=jue(this.apiClient,t);return o=Q("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Lue(l),c=new sse;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Tce(this.apiClient,t);return s=Q("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=Sce(c),h=new rh;return Object.assign(h,d),h})}else{const u=Ece(this.apiClient,t);return s=Q("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=_ce(c),h=new rh;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hfe extends ti{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Xae(t);return s=Q("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=Yae(t);return s=Q("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Vae(t);return o=Q("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pfe(e){const t={},n=f(e,["data"]);if(n!=null&&p(t,["data"],n),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function mfe(e){const t={},n=f(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Efe(o))),p(t,["parts"],i)}const r=f(e,["role"]);return r!=null&&p(t,["role"],r),t}function gfe(e,t,n){const r={},i=f(t,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=f(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=f(t,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=f(t,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],Sfe(e,s));const l=f(t,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function vfe(e,t){const n={},r=f(t,["config"]);return r!=null&&p(n,["config"],gfe(e,r,n)),n}function yfe(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function bfe(e){const t={},n=f(e,["id"]);n!=null&&p(t,["id"],n);const r=f(e,["args"]);r!=null&&p(t,["args"],r);const i=f(e,["name"]);if(i!=null&&p(t,["name"],i),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function xfe(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function wfe(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function _fe(e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],r);const i=f(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=f(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=f(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=f(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=f(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=f(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const d=f(e,["speechConfig"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","speechConfig"],nx(d));const h=f(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const g=f(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(e,["systemInstruction"]);t!==void 0&&v!=null&&p(t,["setup","systemInstruction"],mfe(Ct(v)));const b=f(e,["tools"]);if(t!==void 0&&b!=null){let S=Fs(b);Array.isArray(S)&&(S=S.map(k=>kfe(Us(k)))),p(t,["setup","tools"],S)}const y=f(e,["sessionResumption"]);t!==void 0&&y!=null&&p(t,["setup","sessionResumption"],Tfe(y));const w=f(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&p(t,["setup","inputAudioTranscription"],w);const x=f(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&p(t,["setup","outputAudioTranscription"],x);const _=f(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&p(t,["setup","realtimeInputConfig"],_);const T=f(e,["contextWindowCompression"]);t!==void 0&&T!=null&&p(t,["setup","contextWindowCompression"],T);const E=f(e,["proactivity"]);if(t!==void 0&&E!=null&&p(t,["setup","proactivity"],E),f(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Sfe(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["setup","model"],Ae(e,r));const i=f(t,["config"]);return i!=null&&p(n,["config"],_fe(i,n)),n}function Efe(e){const t={},n=f(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=f(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=f(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=f(e,["fileData"]);o!=null&&p(t,["fileData"],yfe(o));const a=f(e,["functionCall"]);a!=null&&p(t,["functionCall"],bfe(a));const s=f(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=f(e,["inlineData"]);l!=null&&p(t,["inlineData"],pfe(l));const u=f(e,["text"]);u!=null&&p(t,["text"],u);const c=f(e,["thought"]);c!=null&&p(t,["thought"],c);const d=f(e,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const h=f(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function Tfe(e){const t={},n=f(e,["handle"]);if(n!=null&&p(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function kfe(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=f(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=f(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["functionDeclarations"],c)}const a=f(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],xfe(a));const s=f(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],wfe(s));const l=f(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=f(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Afe(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function Cfe(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=Afe(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Pfe extends ti{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=vfe(this.apiClient,t);o=Q("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=Cfe(s,t.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ife(e,t){const n={},r=f(e,["force"]);return t!==void 0&&r!=null&&p(t,["_query","force"],r),n}function Nfe(e){const t={},n=f(e,["name"]);n!=null&&p(t,["_url","name"],n);const r=f(e,["config"]);return r!=null&&Ife(r,t),t}function Ofe(e){const t={},n=f(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function Rfe(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function Mfe(e){const t={},n=f(e,["parent"]);n!=null&&p(t,["_url","parent"],n);const r=f(e,["config"]);return r!=null&&Rfe(r,t),t}function $fe(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dfe extends ti{constructor(t){super(),this.apiClient=t,this.list=async n=>new Bo(Kr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ofe(t);return o=Q("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Nfe(t);i=Q("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Mfe(t);return o=Q("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=$fe(l),c=new lse;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jfe extends ti{constructor(t,n=new Dfe(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Bo(Kr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Tde(t);return o=Q("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Cde(t);return o=Q("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Ade(t);i=Q("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Mde(t);return o=Q("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=$de(l),c=new use;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Dde(t);return o=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=jde(l),c=new cse;return Object.assign(c,u),c})}}async importFile(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Nde(t);return o=Q("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Ide(l),c=new Xb;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PR=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return PR=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Lfe=()=>PR();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jy(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Ly=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bn extends Error{}class en extends Bn{constructor(t,n,r,i){super(`${en.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Ap({message:r,cause:Ly(n)});const o=n;return t===400?new NR(t,o,r,i):t===401?new OR(t,o,r,i):t===403?new RR(t,o,r,i):t===404?new MR(t,o,r,i):t===409?new $R(t,o,r,i):t===422?new DR(t,o,r,i):t===429?new jR(t,o,r,i):t>=500?new LR(t,o,r,i):new en(t,o,r,i)}}class Uy extends en{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ap extends en{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class IR extends Ap{constructor({message:t}={}){super({message:t??"Request timed out."})}}class NR extends en{}class OR extends en{}class RR extends en{}class MR extends en{}class $R extends en{}class DR extends en{}class jR extends en{}class LR extends en{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ufe=/^[a-z][a-z0-9+.-]*:/i,Ffe=e=>Ufe.test(e);let Fy=e=>(Fy=Array.isArray,Fy(e));const Bfe=Fy;let zfe=Bfe;const bk=zfe;function Vfe(e){if(!e)return!0;for(const t in e)return!1;return!0}function qfe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Gfe=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Bn(`${e} must be an integer`);if(t<0)throw new Bn(`${e} must be a positive integer`);return t},Hfe=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wfe=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aa="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kfe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Jfe=()=>{var e,t,n,r,i;const o=Kfe();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":aa,"X-Stainless-OS":wk(Deno.build.os),"X-Stainless-Arch":xk(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":aa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":aa,"X-Stainless-OS":wk((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":xk((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=Yfe();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":aa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":aa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Yfe(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${o}.${a}`}}}return null}const xk=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",wk=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Zc;const Xfe=()=>Zc??(Zc=Jfe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qfe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function UR(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Zfe(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return UR({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function FR(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function ehe(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const the=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BR=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Vm(e,t,n){return BR(),new File(e,t??"unknown_file",n)}function nhe(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const rhe=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zR=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",ihe=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&zR(e),ohe=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function ahe(e,t,n){if(BR(),e=await e,ihe(e))return e instanceof File?e:Vm([await e.arrayBuffer()],e.name);if(ohe(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Vm(await By(i),t,n)}const r=await By(e);if(t||(t=nhe(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Vm(r,t,n)}async function By(e){var t,n,r,i,o;let a=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)a.push(e);else if(zR(e))a.push(e instanceof Blob?e:await e.arrayBuffer());else if(rhe(e))try{for(var s=!0,l=or(e),u;u=await l.next(),t=u.done,!t;s=!0){i=u.value,s=!1;const c=i;a.push(...await By(c))}}catch(c){n={error:c}}finally{try{!s&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${c?`; constructor: ${c}`:""}${she(e)}`)}return a}function she(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VR{constructor(t){this._client=t}}VR._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qR(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const _k=Object.freeze(Object.create(null)),lhe=(e=qR)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,d,h)=>{var g,v,b;/[?#]/.test(d)&&(i=!0);const y=r[h];let w=(i?encodeURIComponent:e)(""+y);return h!==r.length&&(y==null||typeof y=="object"&&y.toString===((b=Object.getPrototypeOf((v=Object.getPrototypeOf((g=y.hasOwnProperty)!==null&&g!==void 0?g:_k))!==null&&v!==void 0?v:_k))===null||b===void 0?void 0:b.toString))&&(w=y+"",o.push({start:c.length+d.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":w)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((h,g)=>{const v=" ".repeat(g.start-c),b="^".repeat(g.length);return c=g.start+g.length,h+v+b},"");throw new Bn(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${d}`)}return a},ed=lhe(qR);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GR extends VR{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=oh(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new Bn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Bn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ed`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ed`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ed`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=oh(o,["api_version"]);return this._client.get(ed`/${a}/interactions/${t}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}GR._key=Object.freeze(["interactions"]);class HR extends GR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uhe(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let td;function ix(e){let t;return(td??(t=new globalThis.TextEncoder,td=t.encode.bind(t)))(e)}let nd;function Sk(e){let t;return(nd??(t=new globalThis.TextDecoder,nd=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?ix(t):t;this.buffer=uhe([this.buffer,n]);const r=[];let i;for(;(i=che(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Sk(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=Sk(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Cp.NEWLINE_CHARS=new Set([`
`,"\r"]);Cp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function che(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function dhe(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ah={off:0,error:200,warn:300,info:400,debug:500},Ek=(e,t,n)=>{if(e){if(qfe(ah,e))return e;Kt(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(ah))}`)}};function bl(){}function rd(e,t,n){return!t||ah[e]>ah[n]?bl:t[e].bind(t)}const fhe={error:bl,warn:bl,info:bl,debug:bl};let Tk=new WeakMap;function Kt(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return fhe;const i=Tk.get(n);if(i&&i[0]===r)return i[1];const o={error:rd("error",n,r),warn:rd("warn",n,r),info:rd("info",n,r),debug:rd("debug",n,r)};return Tk.set(n,[r,o]),o}const io=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aa{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?Kt(r):console;function a(){return ir(this,arguments,function*(){var l,u,c,d;if(i)throw new Bn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,v=or(hhe(t,n)),b;b=yield pe(v.next()),l=b.done,!l;g=!0){d=b.value,g=!1;const y=d;if(!h)if(y.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield pe(JSON.parse(y.data))}catch(w){throw o.error("Could not parse message into JSON:",y.data),o.error("From chunk:",y.raw),w}}}catch(y){u={error:y}}finally{try{!g&&!l&&(c=v.return)&&(yield pe(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(y){if(jy(y))return yield pe(void 0);throw y}finally{h||n.abort()}})}return new Aa(a,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return ir(this,arguments,function*(){var l,u,c,d;const h=new Cp,g=FR(t);try{for(var v=!0,b=or(g),y;y=yield pe(b.next()),l=y.done,!l;v=!0){d=y.value,v=!1;const w=d;for(const x of h.decode(w))yield yield pe(x)}}catch(w){u={error:w}}finally{try{!v&&!l&&(c=b.return)&&(yield pe(c.call(b)))}finally{if(u)throw u.error}}for(const w of h.flush())yield yield pe(w)})}function a(){return ir(this,arguments,function*(){var l,u,c,d;if(i)throw new Bn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,v=or(o()),b;b=yield pe(v.next()),l=b.done,!l;g=!0){d=b.value,g=!1;const y=d;h||y&&(yield yield pe(JSON.parse(y)))}}catch(y){u={error:y}}finally{try{!g&&!l&&(c=v.return)&&(yield pe(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(y){if(jy(y))return yield pe(void 0);throw y}finally{h||n.abort()}})}return new Aa(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();t.push(a),n.push(a)}return o.shift()}});return[new Aa(()=>i(t),this.controller,this.client),new Aa(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return UR({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=ix(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function hhe(e,t){return ir(this,arguments,function*(){var r,i,o,a;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Bn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Bn("Attempted to iterate over a response with no body");const s=new mhe,l=new Cp,u=FR(e.body);try{for(var c=!0,d=or(phe(u)),h;h=yield pe(d.next()),r=h.done,!r;c=!0){a=h.value,c=!1;const g=a;for(const v of l.decode(g)){const b=s.decode(v);b&&(yield yield pe(b))}}}catch(g){i={error:g}}finally{try{!c&&!r&&(o=d.return)&&(yield pe(o.call(d)))}finally{if(i)throw i.error}}for(const g of l.flush()){const v=s.decode(g);v&&(yield yield pe(v))}})}function phe(e){return ir(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=or(e),u;u=yield pe(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?ix(c):c;let h=new Uint8Array(a.length+d.length);h.set(a),h.set(d,a.length),a=h;let g;for(;(g=dhe(a))!==-1;)yield yield pe(a.slice(0,g)),a=a.slice(g)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield pe(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield pe(a))})}class mhe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=ghe(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function ghe(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function vhe(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,a=await(async()=>{var s;if(t.options.stream)return Kt(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Aa.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Kt(e).debug(`[${r}] response parsed`,io({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ox extends Promise{constructor(t,n,r=vhe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new ox(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WR=Symbol("brand.privateNullableHeaders");function*yhe(e){if(!e)return;if(WR in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():bk(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=bk(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const fl=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,a]of yhe(r)){const s=o.toLowerCase();i.has(s)||(t.delete(o),i.add(s)),a===null?(t.delete(o),n.add(s)):(t.append(o,a),n.delete(s))}}return{[WR]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qm=e=>{var t,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(t=jae)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var KR;class Pp{constructor(t){var n,r,i,o,a,s,l,{baseURL:u=qm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=qm("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=t,h=oh(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:c,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:Pp.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(a=(o=Ek(g.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:Ek(qm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:v,this.fetchOptions=g.fetchOptions,this.maxRetries=(s=g.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:Qfe(),this.encoder=the,this._options=g,this.apiKey=c,this.apiVersion=d,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=fl([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return fl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return fl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Bn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${aa}`}defaultIdempotencyKey(){return`stainless-node-retry-${Lfe()}`}makeStatusError(t,n,r,i){return en.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Ffe(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return Vfe(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new ox(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,a;const s=await t,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:d}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(Kt(this).debug(`[${h}] sending request`,io({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new Uy;const b=new AbortController,y=await this.fetchWithTimeout(c,u,d,b).catch(Ly),w=Date.now();if(y instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new Uy;const T=jy(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return Kt(this).info(`[${h}] connection ${T?"timed out":"failed"} - ${_}`),Kt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (${_})`,io({retryOfRequestLogID:r,url:c,durationMs:w-v,message:y.message})),this.retryRequest(s,n,r??h);throw Kt(this).info(`[${h}] connection ${T?"timed out":"failed"} - error; no more retries left`),Kt(this).debug(`[${h}] connection ${T?"timed out":"failed"} (error; no more retries left)`,io({retryOfRequestLogID:r,url:c,durationMs:w-v,message:y.message})),T?new IR:new Ap({cause:y})}const x=`[${h}${g}] ${u.method} ${c} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${w-v}ms`;if(!y.ok){const _=await this.shouldRetry(y);if(n&&_){const C=`retrying, ${n} attempts remaining`;return await ehe(y.body),Kt(this).info(`${x} - ${C}`),Kt(this).debug(`[${h}] response error (${C})`,io({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:w-v})),this.retryRequest(s,n,r??h,y.headers)}const T=_?"error; no more retries left":"error; not retryable";Kt(this).info(`${x} - ${T}`);const E=await y.text().catch(C=>Ly(C).message),S=Hfe(E),k=S?void 0:E;throw Kt(this).debug(`[${h}] response error (${T})`,io({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:k,durationMs:Date.now()-v})),this.makeStatusError(y.status,S,k,y.headers)}return Kt(this).info(x),Kt(this).debug(`[${h}] response start`,io({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:w-v})),{response:y,options:s,controller:b,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:a,method:s}=o,l=oh(o,["signal","method"]),u=this._makeAbort(i);a&&a.addEventListener("abort",u,{once:!0});const c=setTimeout(u,r),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);s&&(h.method=s.toUpperCase());try{return await this.fetch.call(void 0,t,h)}finally{clearTimeout(c)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Wfe(a),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},t),{method:s,path:l,query:u,defaultBaseURL:c}=a,d=this.buildURL(l,u,c);"timeout"in a&&Gfe("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:a}),v=await this.buildHeaders({options:t,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:v},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:a.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const a=await this.authHeaders(t);let s=fl([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Xfe()),this._options.defaultHeaders,r,t.headers,a]);return this.validateHeaders(s),s.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=fl([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Zfe(t)}:typeof t=="object"&&r.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(t)}:this.encoder({body:t,headers:r})}}Pp.DEFAULT_TIMEOUT=6e4;class Nt extends Pp{constructor(){super(...arguments),this.interactions=new HR(this)}}KR=Nt;Nt.GeminiNextGenAPIClient=KR;Nt.GeminiNextGenAPIClientError=Bn;Nt.APIError=en;Nt.APIConnectionError=Ap;Nt.APIConnectionTimeoutError=IR;Nt.APIUserAbortError=Uy;Nt.NotFoundError=MR;Nt.ConflictError=$R;Nt.RateLimitError=jR;Nt.BadRequestError=NR;Nt.AuthenticationError=OR;Nt.InternalServerError=LR;Nt.PermissionDeniedError=RR;Nt.UnprocessableEntityError=DR;Nt.toFile=ahe;Nt.Interactions=HR;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bhe(e,t){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function xhe(e,t){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function whe(e,t){const n={},r=f(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function _he(e,t){const n={},r=f(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function She(e,t,n){const r={};if(f(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&p(t,["displayName"],i),f(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(e,["epochCount"]);t!==void 0&&o!=null&&p(t,["tuningTask","hyperparameters","epochCount"],o);const a=f(e,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(f(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(f(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const s=f(e,["batchSize"]);t!==void 0&&s!=null&&p(t,["tuningTask","hyperparameters","batchSize"],s);const l=f(e,["learningRate"]);if(t!==void 0&&l!=null&&p(t,["tuningTask","hyperparameters","learningRate"],l),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(f(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(f(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(f(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(f(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(f(e,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function Ehe(e,t,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const S=f(e,["validationDataset"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec"],Gm(S))}else if(i==="PREFERENCE_TUNING"){const S=f(e,["validationDataset"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec"],Gm(S))}else if(i==="DISTILLATION"){const S=f(e,["validationDataset"]);t!==void 0&&S!=null&&p(t,["distillationSpec"],Gm(S))}const o=f(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&p(t,["tunedModelDisplayName"],o);const a=f(e,["description"]);t!==void 0&&a!=null&&p(t,["description"],a);let s=f(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const S=f(e,["epochCount"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(s==="PREFERENCE_TUNING"){const S=f(e,["epochCount"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}else if(s==="DISTILLATION"){const S=f(e,["epochCount"]);t!==void 0&&S!=null&&p(t,["distillationSpec","hyperParameters","epochCount"],S)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const S=f(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(l==="PREFERENCE_TUNING"){const S=f(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}else if(l==="DISTILLATION"){const S=f(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&p(t,["distillationSpec","hyperParameters","learningRateMultiplier"],S)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const S=f(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(u==="PREFERENCE_TUNING"){const S=f(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}else if(u==="DISTILLATION"){const S=f(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&p(t,["distillationSpec","exportLastCheckpointOnly"],S)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const S=f(e,["adapterSize"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(c==="PREFERENCE_TUNING"){const S=f(e,["adapterSize"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}else if(c==="DISTILLATION"){const S=f(e,["adapterSize"]);t!==void 0&&S!=null&&p(t,["distillationSpec","hyperParameters","adapterSize"],S)}let d=f(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const S=f(e,["tuningMode"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","tuningMode"],S)}const h=f(e,["customBaseModel"]);t!==void 0&&h!=null&&p(t,["customBaseModel"],h);let g=f(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const S=f(e,["batchSize"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","batchSize"],S)}let v=f(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const S=f(e,["learningRate"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRate"],S)}const b=f(e,["labels"]);t!==void 0&&b!=null&&p(t,["labels"],b);const y=f(e,["beta"]);t!==void 0&&y!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","beta"],y);const w=f(e,["baseTeacherModel"]);t!==void 0&&w!=null&&p(t,["distillationSpec","baseTeacherModel"],w);const x=f(e,["tunedTeacherModelSource"]);t!==void 0&&x!=null&&p(t,["distillationSpec","tunedTeacherModelSource"],x);const _=f(e,["sftLossWeightMultiplier"]);t!==void 0&&_!=null&&p(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],_);const T=f(e,["outputUri"]);t!==void 0&&T!=null&&p(t,["outputUri"],T);const E=f(e,["encryptionSpec"]);return t!==void 0&&E!=null&&p(t,["encryptionSpec"],E),r}function The(e,t){const n={},r=f(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(e,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(e,["trainingDataset"]);o!=null&&Dhe(o);const a=f(e,["config"]);return a!=null&&She(a,n),n}function khe(e,t){const n={},r=f(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(e,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(e,["trainingDataset"]);o!=null&&jhe(o,n,t);const a=f(e,["config"]);return a!=null&&Ehe(a,n,t),n}function Ahe(e,t){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function Che(e,t){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function Phe(e,t,n){const r={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const o=f(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const a=f(e,["filter"]);return t!==void 0&&a!=null&&p(t,["_query","filter"],a),r}function Ihe(e,t,n){const r={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const o=f(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const a=f(e,["filter"]);return t!==void 0&&a!=null&&p(t,["_query","filter"],a),r}function Nhe(e,t){const n={},r=f(e,["config"]);return r!=null&&Phe(r,n),n}function Ohe(e,t){const n={},r=f(e,["config"]);return r!=null&&Ihe(r,n),n}function Rhe(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(e,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>JR(s))),p(n,["tuningJobs"],a)}return n}function Mhe(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(e,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>zy(s))),p(n,["tuningJobs"],a)}return n}function $he(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["model"],r);const i=f(e,["name"]);return i!=null&&p(n,["endpoint"],i),n}function Dhe(e,t){const n={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function jhe(e,t,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=f(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=f(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(i==="DISTILLATION"){const a=f(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["distillationSpec","promptDatasetUri"],a)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=f(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=f(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(o==="DISTILLATION"){const a=f(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["distillationSpec","promptDatasetUri"],a)}if(f(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function JR(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["name"]);i!=null&&p(n,["name"],i);const o=f(e,["state"]);o!=null&&p(n,["state"],dR(o));const a=f(e,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(e,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=f(e,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=f(e,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(e,["description"]);c!=null&&p(n,["description"],c);const d=f(e,["baseModel"]);d!=null&&p(n,["baseModel"],d);const h=f(e,["_self"]);return h!=null&&p(n,["tunedModel"],$he(h)),n}function zy(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["name"]);i!=null&&p(n,["name"],i);const o=f(e,["state"]);o!=null&&p(n,["state"],dR(o));const a=f(e,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(e,["startTime"]);s!=null&&p(n,["startTime"],s);const l=f(e,["endTime"]);l!=null&&p(n,["endTime"],l);const u=f(e,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(e,["error"]);c!=null&&p(n,["error"],c);const d=f(e,["description"]);d!=null&&p(n,["description"],d);const h=f(e,["baseModel"]);h!=null&&p(n,["baseModel"],h);const g=f(e,["tunedModel"]);g!=null&&p(n,["tunedModel"],g);const v=f(e,["preTunedModel"]);v!=null&&p(n,["preTunedModel"],v);const b=f(e,["supervisedTuningSpec"]);b!=null&&p(n,["supervisedTuningSpec"],b);const y=f(e,["preferenceOptimizationSpec"]);y!=null&&p(n,["preferenceOptimizationSpec"],y);const w=f(e,["distillationSpec"]);w!=null&&p(n,["distillationSpec"],w);const x=f(e,["tuningDataStats"]);x!=null&&p(n,["tuningDataStats"],x);const _=f(e,["encryptionSpec"]);_!=null&&p(n,["encryptionSpec"],_);const T=f(e,["partnerModelTuningSpec"]);T!=null&&p(n,["partnerModelTuningSpec"],T);const E=f(e,["customBaseModel"]);E!=null&&p(n,["customBaseModel"],E);const S=f(e,["experiment"]);S!=null&&p(n,["experiment"],S);const k=f(e,["labels"]);k!=null&&p(n,["labels"],k);const A=f(e,["outputUri"]);A!=null&&p(n,["outputUri"],A);const C=f(e,["pipelineJob"]);C!=null&&p(n,["pipelineJob"],C);const N=f(e,["serviceAccount"]);N!=null&&p(n,["serviceAccount"],N);const R=f(e,["tunedModelDisplayName"]);R!=null&&p(n,["tunedModelDisplayName"],R);const M=f(e,["veoTuningSpec"]);return M!=null&&p(n,["veoTuningSpec"],M),n}function Lhe(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["name"]);i!=null&&p(n,["name"],i);const o=f(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(e,["done"]);a!=null&&p(n,["done"],a);const s=f(e,["error"]);return s!=null&&p(n,["error"],s),n}function Gm(e,t){const n={},r=f(e,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=f(e,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uhe extends ti{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Bo(Kr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Py.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Che(t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>zy(c))}else{const u=Ahe(t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>JR(c))}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ohe(t);return s=Q("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Mhe(c),h=new QT;return Object.assign(h,d),h})}else{const u=Nhe(t);return s=Q("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Rhe(c),h=new QT;return Object.assign(h,d),h})}}async cancel(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=xhe(t);return s=Q("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=_he(c),h=new ZT;return Object.assign(h,d),h})}else{const u=bhe(t);return s=Q("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=whe(c),h=new ZT;return Object.assign(h,d),h})}}async tuneInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=khe(t,t);return o=Q("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>zy(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=The(t);return o=Q("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Lhe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fhe{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Bhe=1024*1024*8,zhe=3,Vhe=1e3,qhe=2,sh="x-goog-upload-status";async function Ghe(e,t,n){var r;const i=await YR(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[sh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Hhe(e,t,n){var r;const i=await YR(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[sh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=oR(o),s=new Qb;return Object.assign(s,a),s}async function YR(e,t,n){var r,i;let o=0,a=0,s=new Ny(new Response),l="upload";for(o=e.size;a<o;){const u=Math.min(Bhe,o-a),c=e.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=Vhe;for(;d<zhe&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[sh]));)d++,await Khe(h),h=h*qhe;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[sh])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function Whe(e){return{size:e.size,type:e.type}}function Khe(e){return new Promise(t=>setTimeout(t,e))}class Jhe{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Ghe(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Hhe(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Whe(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yhe{create(t,n,r){return new Xhe(t,n,r)}}class Xhe{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kk="x-goog-api-key";class Qhe{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(kk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(kk,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zhe="gl-node/";class epe{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new Nt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(t=n==null?void 0:n.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=r.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=Bae(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new Qhe(this.apiKey);this.apiClient=new Wde({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Zhe+"web",uploader:new Jhe,downloader:new Fhe}),this.models=new ffe(this.apiClient),this.live=new afe(this.apiClient,i,new Yhe),this.batches=new yle(this.apiClient),this.chats=new Zle(this.models,this.apiClient),this.caches=new Yle(this.apiClient),this.files=new due(this.apiClient),this.operations=new hfe(this.apiClient),this.authTokens=new Pfe(this.apiClient),this.tunings=new Uhe(this.apiClient),this.fileSearchStores=new jfe(this.apiClient)}}var Ak={};const Ck=Ak.API_KEY||Ak.VITE_API_KEY,Pk=Ck?new epe({apiKey:Ck}):null,tpe=async e=>{if(!Pk)return console.warn("Gemini API key not configured"),"Insights indisponveis - configure a chave de API do Gemini.";try{return(await Pk.models.generateContent({model:"gemini-3-flash-preview",contents:`Analise as seguintes mtricas do SaaS BOOKI e fornea um resumo executivo de 3 frases com recomendaes: ${JSON.stringify(e)}`,config:{systemInstruction:"Voc  um consultor de negcios snior especializado em SaaS. Responda em Portugus do Brasil."}})).text}catch(t){return console.error("Erro ao obter insights do Gemini:",t),"No foi possvel gerar insights no momento. Verifique sua conexo ou chave de API."}},npe=({theme:e})=>{const[t,n]=O.useState({companies:0,professionals:0,bookings:0,revenue:0}),[r,i]=O.useState("Analisando o ecossistema..."),[o,a]=O.useState(!1);O.useEffect(()=>{(async()=>{const{count:u}=await re.from("companies").select("*",{count:"exact",head:!0}),{count:c}=await re.from("profiles").select("*",{count:"exact",head:!0}).eq("role","PROFESSIONAL"),{count:d}=await re.from("bookings").select("*",{count:"exact",head:!0}),h={companies:u||0,professionals:c||0,bookings:d||0,revenue:(u||0)*49.9};n(h);const g=await tpe(h);i(g||"Insights indisponveis no momento."),setTimeout(()=>a(!0),100)})()},[]);const s=({title:l,value:u,icon:c,color:d})=>m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 md:p-8 rounded-[2rem] shadow-sm border border-slate-200 dark:border-slate-800 hover:shadow-xl dark:hover:shadow-indigo-900/10 transition-all duration-300",children:[m.jsx("div",{className:`p-4 rounded-2xl ${d} w-fit mb-6`,children:m.jsx(c,{size:24,className:"text-white"})}),m.jsx("h3",{className:"text-slate-400 dark:text-slate-500 text-[10px] font-black uppercase tracking-[0.2em]",children:l}),m.jsx("p",{className:"text-3xl font-black text-black dark:text-white mt-1 tracking-tighter",children:u})]});return m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 md:gap-6",children:[m.jsx(s,{title:"Empresas SaaS",value:t.companies,icon:VC,color:"bg-indigo-600"}),m.jsx(s,{title:"Profissionais",value:t.professionals,icon:ba,color:"bg-violet-600"}),m.jsx(s,{title:"Agendamentos",value:t.bookings,icon:W$,color:"bg-purple-600"}),m.jsx(s,{title:"MRR Estimado",value:`R$ ${t.revenue.toFixed(2)}`,icon:KC,color:"bg-fuchsia-600"})]}),m.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 lg:gap-8",children:[m.jsxs("div",{className:"xl:col-span-2 bg-white dark:bg-slate-900 p-6 md:p-10 rounded-[2.5rem] shadow-sm border border-slate-200 dark:border-slate-800 min-h-[450px] flex flex-col transition-colors",children:[m.jsx("h2",{className:"text-xl font-black text-black dark:text-white mb-8 tracking-tighter",children:"Fluxo Global"}),m.jsx("div",{className:"flex-1 w-full min-h-[300px] relative",children:o?m.jsx(CI,{width:"100%",height:300,children:m.jsxs(Aae,{data:[{name:"Ago",v:2400},{name:"Set",v:3e3},{name:"Out",v:2800},{name:"Nov",v:3900},{name:"Dez",v:4800},{name:"Jan",v:t.bookings||5e3}],margin:{top:10,right:10,left:-20,bottom:0},children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"colorV",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#6366F1",stopOpacity:.2}),m.jsx("stop",{offset:"95%",stopColor:"#6366F1",stopOpacity:0})]})}),m.jsx(DO,{strokeDasharray:"3 3",vertical:!1,stroke:e==="dark"?"#1e293b":"#f1f5f9"}),m.jsx(wp,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:800}}),m.jsx(_p,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:800}}),m.jsx(Xn,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",fontWeight:900,backgroundColor:e==="dark"?"#0f172a":"#fff",color:e==="dark"?"#fff":"#000"},cursor:{stroke:"#6366F1",strokeWidth:2}}),m.jsx(Bi,{type:"monotone",dataKey:"v",stroke:"#6366F1",fillOpacity:1,fill:"url(#colorV)",strokeWidth:4,animationDuration:1500})]})}):m.jsx("div",{className:"w-full h-[300px] bg-slate-50 dark:bg-slate-800 rounded-3xl animate-pulse flex items-center justify-center",children:m.jsx("p",{className:"text-[10px] font-black text-slate-300 dark:text-slate-600 uppercase tracking-widest",children:"Preparando Grfico..."})})})]}),m.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-800 dark:from-indigo-800 dark:to-slate-900 p-8 rounded-[2.5rem] text-white relative overflow-hidden flex flex-col justify-between shadow-2xl transition-colors",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6 bg-white/10 w-fit px-4 py-1.5 rounded-full backdrop-blur-md border border-white/10",children:[m.jsx(hD,{size:16}),m.jsx("h3",{className:"font-black text-[10px] uppercase tracking-widest",children:"IA Insight Master"})]}),m.jsxs("p",{className:"text-indigo-50 text-xl font-bold leading-tight italic",children:['"',r,'"']})]}),m.jsxs("div",{className:"bg-black/20 p-6 rounded-3xl backdrop-blur-md border border-white/10 relative z-10 mt-8",children:[m.jsx("p",{className:"text-[10px] uppercase font-black text-indigo-200 tracking-[0.2em] mb-2",children:"Recomendao"}),m.jsx("p",{className:"text-sm font-bold",children:"Considere implementar uma campanha de upgrade para empresas com alta densidade de agendamentos."})]}),m.jsx(JC,{className:"absolute -right-16 -bottom-16 opacity-10",size:300})]})]})]})},rpe=()=>{const[e,t]=O.useState(""),[n,r]=O.useState([]),[i,o]=O.useState([]),[a,s]=O.useState(!0),[l,u]=O.useState(!1),[c,d]=O.useState(!1),[h,g]=O.useState(!1),[v,b]=O.useState(null),[y,w]=O.useState(null),[x,_]=O.useState({name:"",responsible_name:"",phone:"",address:"",owner_email:"",access_password:"",category:"Barbearia",plan:"",logo_url:""}),[T,E]=O.useState(null),[S,k]=O.useState(!1);O.useEffect(()=>{R(),N()},[]);const A=P=>{const j=P.target.value;_({...x,logo_url:j}),E(j||null)},C=P=>{P&&E(P)},N=async()=>{const{data:P}=await re.from("plans").select("name").eq("status","ACTIVE");P&&o(P)},R=async()=>{s(!0);const{data:P,error:j}=await re.from("companies").select("*").order("created_at",{ascending:!1});j?console.error("Erro ao buscar empresas:",j.message):P&&r(P),s(!1)},M=()=>{g(!1),b(null),_({name:"",responsible_name:"",phone:"",address:"",owner_email:"",access_password:"",category:"Barbearia",plan:i.length>0?i[0].name:"",logo_url:""}),E(null),u(!0)},L=P=>{g(!0),b(P.id),_({name:P.name||"",responsible_name:P.responsible_name||"",phone:P.phone||"",address:P.address||"",owner_email:P.owner_email||"",access_password:P.access_password||"",category:P.category||"Barbearia",plan:P.plan||"",logo_url:P.logo_url||""}),E(P.logo_url||null),u(!0)},$=P=>{w(P),d(!0)},D=async P=>{if(P.preventDefault(),!/^(?=.*[a-zA-Z])(?=.*[0-9]).{8,}$/.test(x.access_password)){alert("Segurana: A senha deve ter no mnimo 8 caracteres e conter pelo menos uma letra e um nmero.");return}if(!x.plan&&i.length>0){alert("Por favor, selecione um plano para a empresa.");return}k(!0);try{const z={name:x.name,responsible_name:x.responsible_name,phone:x.phone,address:x.address,owner_email:x.owner_email,access_password:x.access_password,category:x.category,plan:x.plan,logo_url:x.logo_url||null,status:h?void 0:"ACTIVE"};let Y;if(h&&v){const{error:H}=await re.from("companies").update(z).eq("id",v);Y=H}else{const{error:H}=await re.from("companies").insert([z]);Y=H}if(Y)throw Y;u(!1),E(null),await R()}catch(z){alert("Erro ao processar: "+z.message)}finally{k(!1)}},U=async(P,j)=>{const z=j==="ACTIVE"?"INACTIVE":"ACTIVE",{error:Y}=await re.from("companies").update({status:z}).eq("id",P);Y?alert("Erro ao alterar status: "+Y.message):R()},V=async()=>{if(!y)return;k(!0);const{error:P}=await re.from("companies").delete().eq("id",y.id);P?alert("Erro ao excluir: "+P.message):(d(!1),w(null),R()),k(!1)};return m.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[m.jsxs("div",{className:"relative flex-1 group",children:[m.jsx(cD,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"Buscar por nome ou e-mail...",value:e,onChange:P=>t(P.target.value),className:"w-full pl-11 pr-4 py-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[1.25rem] outline-none focus:ring-4 focus:ring-indigo-50 dark:focus:ring-indigo-900/20 font-medium text-sm transition-all shadow-sm dark:text-white dark:placeholder:text-slate-700"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:R,className:"p-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[1.25rem] hover:bg-slate-50 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-all flex items-center justify-center shadow-sm",children:m.jsx(iu,{size:20,className:a?"animate-spin":""})}),m.jsxs("button",{onClick:M,className:"flex items-center justify-center gap-2 px-8 py-4 bg-indigo-600 text-white rounded-[1.25rem] hover:bg-indigo-700 active:scale-95 transition-all text-sm font-black shadow-lg shadow-indigo-100 dark:shadow-none w-full md:w-auto",children:[m.jsx(Eh,{size:20})," Nova Empresa"]})]})]}),m.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden transition-colors",children:m.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:m.jsxs("table",{className:"w-full text-left min-w-[900px]",children:[m.jsx("thead",{className:"bg-slate-50/50 dark:bg-slate-800/50 border-b border-slate-100 dark:border-slate-800",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-8 py-6 text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em]",children:"Empresa & Responsvel"}),m.jsx("th",{className:"px-8 py-6 text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em]",children:"Segmento"}),m.jsx("th",{className:"px-8 py-6 text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em]",children:"Status SaaS"}),m.jsx("th",{className:"px-8 py-6 text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em] text-right",children:"Controle"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800",children:[n.filter(P=>{var j;return P.name.toLowerCase().includes(e.toLowerCase())||((j=P.owner_email)==null?void 0:j.toLowerCase().includes(e.toLowerCase()))}).map(P=>{var j;return m.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/30 transition-colors group",children:[m.jsx("td",{className:"px-8 py-6",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center font-black text-lg shadow-inner group-hover:scale-110 transition-transform overflow-hidden ${P.status==="INACTIVE"?"bg-slate-100 dark:bg-slate-800 text-slate-400":"bg-indigo-50 dark:bg-indigo-950 text-indigo-600 dark:text-indigo-400"}`,children:P.logo_url?m.jsx("img",{src:P.logo_url,alt:P.name,className:"w-full h-full object-cover"}):((j=P.name)==null?void 0:j.charAt(0))||"B"}),m.jsxs("div",{children:[m.jsx("p",{className:`text-sm font-black leading-none mb-1 ${P.status==="INACTIVE"?"text-slate-400 dark:text-slate-600 line-through":"text-slate-900 dark:text-white"}`,children:P.name}),m.jsxs("p",{className:"text-[11px] text-slate-400 dark:text-slate-500 font-bold uppercase tracking-tight flex items-center gap-1",children:[m.jsx(Kd,{size:10})," ",P.responsible_name||"Admin","  ",m.jsx(Ii,{size:10,className:"ml-1"})," ",P.plan||"Sem Plano"]})]})]})}),m.jsx("td",{className:"px-8 py-6",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-2 h-2 rounded-full ${P.status==="INACTIVE"?"bg-slate-300 dark:bg-slate-700":"bg-indigo-400"}`}),m.jsx("span",{className:`text-xs font-black uppercase ${P.status==="INACTIVE"?"text-slate-400 dark:text-slate-600":"text-slate-600 dark:text-slate-300"}`,children:P.category})]})}),m.jsx("td",{className:"px-8 py-6",children:m.jsxs("button",{onClick:()=>U(P.id,P.status),className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[10px] font-black uppercase tracking-wider transition-all hover:scale-105 active:scale-95 ${P.status==="ACTIVE"?"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900/50":"bg-rose-50 dark:bg-rose-950/30 text-rose-600 dark:text-rose-400 border border-rose-100 dark:border-rose-900/50"}`,children:[P.status==="ACTIVE"?m.jsx(yi,{size:12}):m.jsx(sD,{size:12}),P.status||"Ativo"]})}),m.jsx("td",{className:"px-8 py-6 text-right",children:m.jsxs("div",{className:"flex items-center justify-end gap-1",children:[m.jsx("button",{onClick:()=>L(P),className:"p-2.5 text-slate-400 dark:text-slate-500 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-xl transition-all",title:"Editar Informaes",children:m.jsx(Vg,{size:18})}),m.jsx("button",{onClick:()=>U(P.id,P.status),className:`p-2.5 rounded-xl transition-all ${P.status==="ACTIVE"?"text-slate-400 dark:text-slate-500 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-950/30":"text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/30"}`,title:P.status==="ACTIVE"?"Inativar Empresa":"Ativar Empresa",children:m.jsx(lD,{size:18})}),m.jsx("button",{onClick:()=>$(P),className:"p-2.5 text-slate-300 dark:text-slate-600 hover:text-rose-600 hover:bg-rose-100 dark:hover:bg-rose-950/50 rounded-xl transition-all",title:"Excluir Permanentemente",children:m.jsx(vD,{size:18})})]})})]},P.id)}),n.length===0&&!a&&m.jsx("tr",{children:m.jsx("td",{colSpan:4,className:"py-20 text-center text-slate-400 dark:text-slate-600 font-bold uppercase text-xs tracking-widest",children:"Nenhuma empresa encontrada."})})]})]})})}),c&&m.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsx("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] shadow-2xl animate-in zoom-in-95 duration-300 overflow-hidden border border-white/20 dark:border-slate-800",children:m.jsxs("div",{className:"p-10 text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-950/50 text-rose-500 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-rose-100/50 dark:shadow-none",children:m.jsx(L0,{size:40})}),m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter mb-2",children:"Confirmar Excluso?"}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium leading-relaxed px-4",children:["Voc est prestes a excluir ",m.jsxs("span",{className:"text-slate-900 dark:text-slate-200 font-black",children:['"',y==null?void 0:y.name,'"']}),". Esta ao  irreversvel e remover todos os dados vinculados."]}),m.jsxs("div",{className:"mt-10 flex flex-col gap-3",children:[m.jsx("button",{onClick:V,disabled:S,className:"w-full bg-rose-600 text-white py-4 rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-rose-700 transition-all shadow-xl shadow-rose-100 dark:shadow-none flex items-center justify-center gap-2",children:S?m.jsx(iu,{className:"animate-spin",size:18}):m.jsxs(m.Fragment,{children:["Sim, Excluir Agora ",m.jsx(au,{size:18})]})}),m.jsx("button",{onClick:()=>d(!1),className:"w-full bg-slate-50 dark:bg-slate-800 text-slate-400 dark:text-slate-500 py-4 rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-slate-100 dark:hover:bg-slate-750 transition-all",children:"Cancelar"})]})]})})}),l&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-6 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-xl rounded-[2.5rem] shadow-2xl animate-in zoom-in-95 slide-in-from-bottom-4 duration-300 overflow-hidden flex flex-col border border-white/20 dark:border-slate-800",children:[m.jsxs("div",{className:"relative p-8 pb-4 flex justify-between items-start",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-white shadow-xl ${h?"bg-amber-500 shadow-amber-100":"bg-indigo-600 shadow-indigo-100"} dark:shadow-none`,children:h?m.jsx(Vg,{size:28}):m.jsx(xw,{size:28})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter",children:h?"Editar Empresa":"Nova Empresa"}),m.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm font-bold uppercase tracking-widest mt-1",children:"Configurao do SaaS"})]})]}),m.jsx("button",{onClick:()=>u(!1),className:"p-3 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-all text-slate-400 hover:text-slate-900 dark:hover:text-white",children:m.jsx(ui,{size:24})})]}),m.jsxs("form",{onSubmit:D,className:"p-8 pt-4 space-y-6 overflow-y-auto max-h-[75vh]",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Nome da Empresa"}),m.jsxs("div",{className:"relative group",children:[m.jsx(xw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.name,onChange:P=>_({...x,name:P.target.value}),placeholder:"Ex: Barber Shop Pro"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Responsvel"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Kd,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.responsible_name,onChange:P=>_({...x,responsible_name:P.target.value}),placeholder:"Nome do Dono"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"URL da Logomarca"}),m.jsxs("div",{className:"relative group",children:[T&&m.jsxs("div",{className:"mb-4 flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700",children:[m.jsx("img",{src:T,alt:"Logo Preview",className:"w-16 h-16 object-contain rounded-lg bg-white dark:bg-slate-900 p-2"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:"Preview da Logo"}),m.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 truncate mt-1 font-mono",children:T})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(K$,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{type:"url",className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.logo_url,onChange:A,onBlur:P=>C(P.target.value),placeholder:"https://exemplo.com/logo.png"})]}),m.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-600 font-medium mt-2",children:"Cole aqui a URL da logomarca (recomendado: PNG ou JPG)"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"E-mail de Acesso"}),m.jsxs("div",{className:"relative group",children:[m.jsx(HC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,type:"email",className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.owner_email,onChange:P=>_({...x,owner_email:P.target.value}),placeholder:"email@acesso.com"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Senha de Acesso"}),m.jsxs("div",{className:"relative group",children:[m.jsx(nu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,type:"password",className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.access_password,onChange:P=>_({...x,access_password:P.target.value}),placeholder:"Mn. 8 chars, letras e nmeros"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Telefone / WhatsApp"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Wd,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.phone,onChange:P=>_({...x,phone:P.target.value}),placeholder:"(00) 00000-0000"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Segmento"}),m.jsxs("div",{className:"relative",children:[m.jsx(tD,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600",size:18}),m.jsxs("select",{className:"w-full pl-11 pr-10 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all appearance-none cursor-pointer dark:text-white",value:x.category,onChange:P=>_({...x,category:P.target.value}),children:[m.jsx("option",{children:"Barbearia"}),m.jsx("option",{children:"Salo de Beleza"}),m.jsx("option",{children:"Esttica"}),m.jsx("option",{children:"Esmalteria"})]}),m.jsx(Gd,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600 pointer-events-none",size:18})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Plano SaaS Associado"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Ii,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("select",{required:!0,className:"w-full pl-11 pr-10 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all appearance-none cursor-pointer disabled:opacity-50 dark:text-white",value:x.plan,onChange:P=>_({...x,plan:P.target.value}),disabled:i.length===0,children:i.length>0?m.jsxs(m.Fragment,{children:[m.jsx("option",{value:"",disabled:!0,children:"Selecione um plano"}),i.map((P,j)=>m.jsx("option",{value:P.name,children:P.name},j))]}):m.jsx("option",{value:"",children:"Nenhum plano ativo cadastrado"})}),m.jsx(Gd,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600 pointer-events-none",size:18})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Endereo Completo"}),m.jsxs("div",{className:"relative group",children:[m.jsx(oD,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.address,onChange:P=>_({...x,address:P.target.value}),placeholder:"Rua, Nmero, Bairro, Cidade - UF"})]})]}),m.jsxs("div",{className:"pt-4",children:[m.jsx("button",{type:"submit",disabled:S,className:`w-full text-white py-5 rounded-[1.5rem] font-black text-lg active:scale-[0.98] transition-all shadow-2xl flex items-center justify-center gap-3 disabled:opacity-50 ${h?"bg-amber-500 hover:bg-amber-600 shadow-amber-100 dark:shadow-none":"bg-black dark:bg-indigo-600 hover:bg-indigo-600 shadow-indigo-100 dark:shadow-none"}`,children:S?m.jsx("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[h?"Salvar Alteraes":"Registrar Empresa"," ",m.jsx(U0,{size:22})]})}),m.jsxs("p",{className:"text-center text-[10px] text-slate-400 dark:text-slate-500 font-bold uppercase tracking-widest mt-4",children:[m.jsx(Ka,{size:12,className:"inline mr-1 mb-0.5"})," Segurana BOOKI Ativada"]})]})]})]})})]})},ipe=()=>{const[e,t]=O.useState([]),[n,r]=O.useState(!0),[i,o]=O.useState(!1),[a,s]=O.useState(!1),[l,u]=O.useState(!1),[c,d]=O.useState(!1),[h,g]=O.useState(null),[v,b]=O.useState(null),[y,w]=O.useState({name:"",price:"",status:"ACTIVE",features:""});O.useEffect(()=>{x()},[]);const x=async()=>{r(!0);const{data:A}=await re.from("plans").select("*").order("price",{ascending:!0});A&&t(A),r(!1)},_=()=>{d(!1),g(null),w({name:"",price:"",status:"ACTIVE",features:""}),o(!0)},T=A=>{d(!0),g(A.id),w({name:A.name,price:A.price.toString(),status:A.status,features:A.features?A.features.join(", "):""}),o(!0)},E=A=>{b(A),s(!0)},S=async()=>{if(!v)return;u(!0);const{error:A}=await re.from("plans").delete().eq("id",v.id);A?alert("Erro ao excluir: "+A.message):(s(!1),b(null),x()),u(!1)},k=async A=>{A.preventDefault(),u(!0);const C=y.features.split(",").map(R=>R.trim()).filter(R=>R!==""),N={name:y.name,price:parseFloat(y.price),status:y.status,features:C};try{if(c&&h){const{error:R}=await re.from("plans").update(N).eq("id",h);if(R)throw R}else{const{error:R}=await re.from("plans").insert([N]);if(R)throw R}o(!1),x()}catch(R){alert("Erro ao salvar plano: "+R.message)}finally{u(!1)}};return m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-10",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-black text-black dark:text-white tracking-tighter",children:"Planos SaaS"}),m.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 font-bold uppercase tracking-widest mt-1",children:"Gerencie os pacotes de assinatura BOOKI"})]}),m.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-8 py-4 bg-indigo-600 text-white rounded-[1.25rem] hover:bg-indigo-700 active:scale-95 transition-all text-sm font-black shadow-lg shadow-indigo-100 dark:shadow-none",children:[m.jsx(Eh,{size:20})," Novo Plano"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?[1,2,3].map(A=>m.jsx("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] border border-slate-100 dark:border-slate-800 animate-pulse h-80"},A)):e.map(A=>{var C;return m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] shadow-sm border border-slate-200 dark:border-slate-800 relative overflow-hidden group hover:shadow-xl dark:hover:shadow-indigo-900/10 transition-all border-b-4 border-b-transparent hover:border-b-indigo-500",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsx("div",{className:`p-4 rounded-2xl transition-transform group-hover:rotate-6 ${A.status==="ACTIVE"?"bg-indigo-50 dark:bg-indigo-950 text-indigo-600 dark:text-indigo-400":"bg-slate-100 dark:bg-slate-800 text-slate-400"}`,children:m.jsx(Ii,{size:24})}),m.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0",children:[m.jsx("button",{onClick:()=>T(A),className:"p-2.5 bg-indigo-50 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-300 hover:bg-indigo-600 hover:text-white rounded-xl transition-all",title:"Editar Plano",children:m.jsx(Ew,{size:16})}),m.jsx("button",{onClick:()=>E(A),className:"p-2.5 bg-rose-50 dark:bg-rose-900 text-rose-600 dark:text-rose-300 hover:bg-rose-600 hover:text-white rounded-xl transition-all",title:"Excluir Plano",children:m.jsx(au,{size:16})})]})]}),m.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-1",children:A.name}),m.jsxs("div",{className:"flex items-baseline gap-1 mb-6 text-slate-900 dark:text-white",children:[m.jsx("span",{className:"text-sm font-black text-slate-400 dark:text-slate-500",children:"R$"}),m.jsx("span",{className:"text-4xl font-black text-indigo-600 dark:text-indigo-400 tracking-tighter",children:A.price.toFixed(2)}),m.jsx("span",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase",children:"/ ms"})]}),m.jsx("div",{className:"space-y-3 mb-8 min-h-[120px]",children:(C=A.features)==null?void 0:C.map((N,R)=>m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-5 h-5 bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600 dark:text-emerald-400 rounded-full flex items-center justify-center shrink-0",children:m.jsx(J$,{size:12,strokeWidth:4})}),m.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 line-clamp-1",children:N})]},R))}),m.jsx("button",{className:"w-full py-4 bg-slate-900 dark:bg-slate-800 text-white rounded-2xl font-black text-[10px] hover:bg-indigo-600 transition-all uppercase tracking-[0.2em]",children:"Gerenciar Assinantes"}),m.jsx("div",{className:"absolute top-0 right-0 p-4",children:m.jsx("span",{className:`text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-widest ${A.status==="ACTIVE"?"bg-emerald-50 dark:bg-emerald-950 text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900":"bg-rose-50 dark:bg-rose-950 text-rose-600 dark:text-rose-400 border border-rose-100 dark:border-rose-900"}`,children:A.status==="ACTIVE"?"Ativo":"Pausado"})})]},A.id)})}),a&&m.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsx("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] shadow-2xl animate-in zoom-in-95 duration-300 overflow-hidden border border-white/20 dark:border-slate-800",children:m.jsxs("div",{className:"p-10 text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-950/50 text-rose-500 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-rose-100/50 dark:shadow-none",children:m.jsx(L0,{size:40})}),m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter mb-2",children:"Excluir Plano?"}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium leading-relaxed px-4",children:["Voc tem certeza que deseja excluir o plano ",m.jsxs("span",{className:"text-slate-900 dark:text-slate-200 font-black",children:['"',v==null?void 0:v.name,'"']}),"? Esta ao pode impactar empresas que utilizam este plano."]}),m.jsxs("div",{className:"mt-10 flex flex-col gap-3",children:[m.jsx("button",{onClick:S,disabled:l,className:"w-full bg-rose-600 text-white py-4 rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-rose-700 transition-all shadow-xl shadow-rose-100 dark:shadow-none flex items-center justify-center gap-2",children:l?m.jsx(iu,{className:"animate-spin",size:18}):m.jsxs(m.Fragment,{children:["Sim, Excluir Plano ",m.jsx(au,{size:18})]})}),m.jsx("button",{onClick:()=>s(!1),className:"w-full bg-slate-50 dark:bg-slate-800 text-slate-400 dark:text-slate-500 py-4 rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-slate-100 dark:hover:bg-slate-750 transition-all",children:"Cancelar"})]})]})})}),i&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-xl rounded-[2.5rem] shadow-2xl animate-in zoom-in-95 duration-300 overflow-hidden flex flex-col border border-white/20 dark:border-slate-800",children:[m.jsxs("div",{className:"p-8 pb-4 flex justify-between items-start",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-white shadow-xl ${c?"bg-amber-500 shadow-amber-100":"bg-indigo-600 shadow-indigo-100"} dark:shadow-none`,children:c?m.jsx(Ew,{size:28}):m.jsx(Ii,{size:28})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter",children:c?"Editar Plano":"Novo Plano SaaS"}),m.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs font-bold uppercase tracking-widest mt-1",children:"Configurao de Cobrana"})]})]}),m.jsx("button",{onClick:()=>o(!1),className:"p-3 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-all text-slate-400",children:m.jsx(ui,{size:24})})]}),m.jsxs("form",{onSubmit:k,className:"p-8 pt-4 space-y-5",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Nome do Plano"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Ii,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:y.name,onChange:A=>w({...y,name:A.target.value}),placeholder:"Ex: Pro Plus"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Preo Mensal (R$)"}),m.jsxs("div",{className:"relative group",children:[m.jsx(tu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,type:"number",step:"0.01",className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:y.price,onChange:A=>w({...y,price:A.target.value}),placeholder:"99.90"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Funcionalidades (separadas por vrgula)"}),m.jsxs("div",{className:"relative group",children:[m.jsx(iD,{className:"absolute left-4 top-4 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("textarea",{required:!0,rows:3,className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all resize-none dark:text-white dark:placeholder:text-slate-700",value:y.features,onChange:A=>w({...y,features:A.target.value}),placeholder:"Suporte 24h, Relatrios, Usurios ilimitados..."})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Status do Plano"}),m.jsx("div",{className:"flex gap-2",children:["ACTIVE","INACTIVE"].map(A=>m.jsx("button",{type:"button",onClick:()=>w({...y,status:A}),className:`flex-1 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all border ${y.status===A?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-100 dark:shadow-none":"bg-slate-50 dark:bg-slate-800 text-slate-400 dark:text-slate-500 border-slate-100 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-750"}`,children:A==="ACTIVE"?"Ativo (Vender)":"Pausado (Ocultar)"},A))})]}),m.jsxs("div",{className:"pt-4",children:[m.jsx("button",{type:"submit",disabled:l,className:`w-full text-white py-5 rounded-[1.5rem] font-black text-lg active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3 ${c?"bg-amber-500 shadow-amber-100 dark:shadow-none":"bg-black dark:bg-indigo-600 hover:bg-indigo-600 shadow-indigo-100 dark:shadow-none"}`,children:l?m.jsx("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[c?"Salvar Alteraes":"Criar Plano Agora"," ",m.jsx(U0,{size:22})]})}),m.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:[m.jsx(Ka,{size:12,className:"text-indigo-500"})," Processamento Seguro Master"]})]})]})]})})]})},ope=()=>{const[e,t]=O.useState(!0),[n,r]=O.useState({totalMRR:0,activeCompanies:0,arpu:0,planDistribution:[]});O.useEffect(()=>{i()},[]);const i=async()=>{t(!0);try{const{data:s}=await re.from("companies").select("plan, status").eq("status","ACTIVE"),{data:l}=await re.from("plans").select("name, price");if(s&&l){const u=(l==null?void 0:l.reduce((g,v)=>({...g,[v.name]:v.price}),{}))||{};let c=0;const d={};s.forEach(g=>{const v=g.plan||"No Definido",b=u[v]||0;c+=b,d[v]||(d[v]={count:0,revenue:0}),d[v].count+=1,d[v].revenue+=b});const h=Object.entries(d).map(([g,v])=>({name:g,value:v.revenue,count:v.count}));r({totalMRR:c,activeCompanies:s.length,arpu:s.length>0?c/s.length:0,planDistribution:h})}}catch(s){console.error("Erro ao carregar dados financeiros:",s)}finally{t(!1)}},o=["#6366F1","#8B5CF6","#D946EF","#EC4899","#F43F5E"],a=({title:s,value:l,subtitle:u,icon:c,trend:d})=>m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] shadow-sm border border-slate-200 dark:border-slate-800 hover:shadow-xl dark:hover:shadow-indigo-900/10 transition-all duration-300 flex flex-col justify-between h-full",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsx("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-950 text-indigo-600 dark:text-indigo-400 rounded-2xl",children:m.jsx(c,{size:24})}),d&&m.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${d>0?"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600 dark:text-emerald-400":"bg-rose-50 dark:bg-rose-950/30 text-rose-600 dark:text-rose-400"}`,children:[d>0?m.jsx(G$,{size:14}):m.jsx(q$,{size:14}),Math.abs(d),"%"]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-400 dark:text-slate-500 text-[10px] font-black uppercase tracking-[0.2em] mb-1",children:s}),m.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter",children:l}),m.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-bold uppercase tracking-tight mt-2",children:u})]})]});return m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{onClick:i,className:"p-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl hover:bg-slate-50 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-all shadow-sm flex items-center gap-2 text-[10px] font-black uppercase tracking-widest",children:[m.jsx(iu,{size:14,className:e?"animate-spin":""}),"Atualizar Dados"]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(a,{title:"Faturamento Mensal (MRR)",value:`R$ ${n.totalMRR.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,subtitle:"Receita recorrente global",icon:tu,trend:12.4}),m.jsx(a,{title:"Empresas Ativas",value:n.activeCompanies,subtitle:"Assinaturas pagas agora",icon:ba,trend:8.1}),m.jsx(a,{title:"ARPU (Ticket Mdio)",value:`R$ ${n.arpu.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,subtitle:"Receita mdia por empresa",icon:B0,trend:2.3})]}),m.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-10 rounded-[2.5rem] shadow-sm border border-slate-200 dark:border-slate-800 min-h-[500px] flex flex-col transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[m.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-100 dark:shadow-none",children:m.jsx(aD,{size:20})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-black text-slate-900 dark:text-white tracking-tighter",children:"Receita por Plano"}),m.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-bold uppercase tracking-widest",children:"Distribuio percentual do MRR"})]})]}),m.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:e?m.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[m.jsx("div",{className:"w-64 h-64 bg-slate-50 dark:bg-slate-800 rounded-full mb-4"}),m.jsx("div",{className:"h-4 w-32 bg-slate-50 dark:bg-slate-800 rounded-full"})]}):n.planDistribution.length>0?m.jsx(CI,{width:"100%",height:320,children:m.jsxs(kae,{children:[m.jsx(ei,{data:n.planDistribution,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:8,dataKey:"value",children:n.planDistribution.map((s,l)=>m.jsx(Xh,{fill:o[l%o.length],stroke:"none"},`cell-${l}`))}),m.jsx(Xn,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",fontWeight:900,backgroundColor:"#0f172a",color:"#fff"},formatter:s=>[`R$ ${s.toFixed(2)}`,"Receita"]}),m.jsx(xo,{verticalAlign:"bottom",height:36,iconType:"circle"})]})}):m.jsxs("div",{className:"text-center py-20",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-300 dark:text-slate-700",children:m.jsx(tu,{size:32})}),m.jsx("p",{className:"text-slate-400 dark:text-slate-600 font-black text-xs uppercase tracking-widest",children:"Sem dados financeiros"})]})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-10 rounded-[2.5rem] shadow-sm border border-slate-200 dark:border-slate-800 h-full transition-colors",children:[m.jsxs("div",{className:"flex items-center justify-between mb-10",children:[m.jsx("h2",{className:"text-xl font-black text-slate-900 dark:text-white tracking-tighter",children:"Ranking de Assinaturas"}),m.jsxs("span",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-950 px-3 py-1.5 rounded-full uppercase tracking-widest",children:["Total: ",n.activeCompanies," empresas"]})]}),m.jsxs("div",{className:"space-y-4",children:[n.planDistribution.sort((s,l)=>l.value-s.value).map((s,l)=>m.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50/50 dark:bg-slate-800/20 rounded-3xl border border-transparent hover:border-indigo-100 dark:hover:border-indigo-900 hover:bg-indigo-50/20 dark:hover:bg-indigo-950/20 transition-all group",children:[m.jsxs("div",{className:"flex items-center gap-5",children:[m.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-white dark:bg-slate-800 flex flex-col items-center justify-center shadow-sm font-black text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform",children:[m.jsx("p",{className:"text-xs",children:s.count}),m.jsx("p",{className:"text-[8px] uppercase tracking-tighter",children:"Empresas"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-tighter",children:s.name}),m.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-bold uppercase tracking-widest mt-0.5",children:"SaaS Plan Tier"})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-lg font-black text-indigo-600 dark:text-indigo-400 tracking-tighter",children:["R$ ",s.value.toFixed(2)]}),m.jsx("p",{className:"text-[9px] text-slate-400 dark:text-slate-500 font-black uppercase tracking-widest",children:"Faturamento"})]})]},l)),n.planDistribution.length===0&&!e&&m.jsx("div",{className:"py-20 text-center",children:m.jsx("p",{className:"text-slate-300 dark:text-slate-700 font-black uppercase text-xs tracking-[0.2em]",children:"Aguardando dados de cobrana..."})})]}),m.jsx("div",{className:"mt-10 pt-8 border-t border-slate-100 dark:border-slate-800",children:m.jsxs("button",{className:"w-full py-5 bg-slate-900 dark:bg-slate-800 text-white rounded-2xl font-black text-[10px] hover:bg-indigo-600 transition-all uppercase tracking-[0.3em] flex items-center justify-center gap-3 shadow-xl dark:shadow-none",children:["Relatrios Completos ",m.jsx(Bg,{size:18})]})})]})]})]})},ape=()=>m.jsxs("div",{className:"max-w-4xl space-y-6",children:[m.jsxs("div",{className:"bg-indigo-600 rounded-[2.5rem] p-8 text-white shadow-2xl shadow-indigo-200 relative overflow-hidden",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"bg-white/20 p-2 rounded-xl backdrop-blur-md",children:m.jsx(Ka,{size:24})}),m.jsx("h2",{className:"text-xl font-black tracking-tighter uppercase",children:"Status de Segurana Master"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-5 rounded-3xl border border-white/10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-200",children:"Polticas RLS"}),m.jsx(yi,{size:16,className:"text-emerald-400"})]}),m.jsx("p",{className:"font-bold text-sm",children:"Proteo Ativa"}),m.jsx("p",{className:"text-[10px] text-indigo-100 mt-1 uppercase",children:"Apenas o Master Admin tem acesso total."})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-5 rounded-3xl border border-white/10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-200",children:"Autenticao"}),m.jsx(yi,{size:16,className:"text-emerald-400"})]}),m.jsx("p",{className:"font-bold text-sm",children:"Leaked Password Protection"}),m.jsx("p",{className:"text-[10px] text-indigo-100 mt-1 uppercase",children:"Verificao de senhas vazadas ativada."})]})]})]}),m.jsx(fD,{className:"absolute -right-10 -bottom-10 text-white/5",size:200})]}),m.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden",children:[m.jsxs("div",{className:"p-8 border-b border-slate-100",children:[m.jsx("h2",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Segurana da Plataforma"}),m.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"Ajustes crticos de segurana e criptografia BOOKI"})]}),m.jsxs("div",{className:"p-8 space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-slate-50 rounded-2xl text-slate-600",children:m.jsx(nu,{size:20})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-black text-slate-800",children:"Autenticao de Dois Fatores (2FA)"}),m.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-tight",children:"Obrigatrio para Master Admin"})]})]}),m.jsx("div",{className:"w-12 h-6 bg-emerald-500 rounded-full relative shadow-inner",children:m.jsx("div",{className:"absolute right-1 top-1 w-4 h-4 bg-white rounded-full shadow-sm"})})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-slate-50 rounded-2xl text-slate-600",children:m.jsx(Ka,{size:20})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-black text-slate-800",children:"Monitoramento de Invaso"}),m.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-tight",children:"Alertas em tempo real via IA"})]})]}),m.jsx("div",{className:"w-12 h-6 bg-emerald-500 rounded-full relative shadow-inner",children:m.jsx("div",{className:"absolute right-1 top-1 w-4 h-4 bg-white rounded-full shadow-sm"})})]})]})]}),m.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden",children:[m.jsx("div",{className:"p-8 border-b border-slate-100",children:m.jsx("h2",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Infraestrutura Cloud"})}),m.jsxs("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("button",{className:"flex items-center gap-4 p-6 border border-slate-100 rounded-3xl hover:bg-slate-50 transition-all text-left group",children:[m.jsx(Q$,{className:"text-indigo-500 group-hover:scale-110 transition-transform",size:24}),m.jsxs("div",{children:[m.jsx("p",{className:"font-black text-sm text-slate-800",children:"Backup do Banco"}),m.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mt-0.5",children:"Snapshots Dirios"})]})]}),m.jsxs("button",{className:"flex items-center gap-4 p-6 border border-slate-100 rounded-3xl hover:bg-slate-50 transition-all text-left group",children:[m.jsx(zg,{className:"text-indigo-500 group-hover:scale-110 transition-transform",size:24}),m.jsxs("div",{children:[m.jsx("p",{className:"font-black text-sm text-slate-800",children:"Regies e CDN"}),m.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mt-0.5",children:"Latncia Global"})]})]})]})]})]}),Hm=({title:e,subtitle:t,icon:n,data:r,onAdd:i,onEdit:o,onDelete:a,onShare:s,columns:l,stats:u,sidebarInfo:c})=>m.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[u&&m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map((d,h)=>m.jsxs("div",{className:"group bg-white dark:bg-slate-900/50 backdrop-blur-md p-7 rounded-[2.5rem] border border-white dark:border-slate-800 shadow-xl shadow-slate-200/40 dark:shadow-none flex items-center gap-6 transition-all hover:scale-[1.02]",children:[m.jsx("div",{className:`p-4 rounded-2xl ${d.color} bg-opacity-10 text-opacity-100 flex items-center justify-center shadow-inner group-hover:rotate-3 transition-transform`,children:I.cloneElement(d.icon,{size:24})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1.5",children:d.label}),m.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter",children:d.value})]})]},h))}),m.jsxs("div",{className:"flex flex-col xl:flex-row gap-8",children:[m.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 rounded-[3rem] p-10 shadow-2xl shadow-slate-200/50 dark:shadow-none border border-white dark:border-slate-800 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-[0.02] dark:opacity-[0.05] pointer-events-none transform rotate-12 scale-150",children:n}),m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-8 mb-12 relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-[1.8rem] flex items-center justify-center text-white shadow-2xl shadow-indigo-200 dark:shadow-none transform -rotate-3 group-hover:rotate-0 transition-transform",children:I.cloneElement(n,{size:32})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter",children:e}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-pulse"}),m.jsx("p",{className:"text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.25em]",children:t})]})]})]}),m.jsxs("button",{onClick:i,className:"group flex items-center gap-4 px-8 py-4.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-[1.8rem] transition-all text-xs font-black shadow-2xl shadow-indigo-200 dark:shadow-none active:scale-95",children:[m.jsx(Eh,{size:20,className:"group-hover:rotate-90 transition-transform duration-500"}),"NOVO REGISTRO"]})]}),m.jsx("div",{className:"overflow-x-auto -mx-4 px-4 scrollbar-hide",children:m.jsxs("table",{className:"w-full text-left border-separate border-spacing-y-4",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-slate-300 dark:text-slate-600 uppercase",children:[l.map((d,h)=>m.jsx("th",{className:"px-8 py-2 text-[10px] font-black tracking-[0.25em]",children:d.label},h)),(o||a||s)&&m.jsx("th",{className:"px-8 py-2 text-[10px] font-black tracking-[0.25em] text-right",children:"Aes"})]})}),m.jsxs("tbody",{children:[r.map((d,h)=>m.jsxs("tr",{className:"group bg-slate-50/40 dark:bg-slate-800/30 hover:bg-white dark:hover:bg-slate-800 hover:shadow-2xl hover:shadow-slate-200/60 dark:hover:shadow-none transition-all duration-500 transform hover:-translate-y-1",children:[l.map((g,v)=>m.jsx("td",{className:"px-8 py-7 first:rounded-l-[2.5rem] last:rounded-r-[2.5rem] border-y border-transparent group-hover:border-slate-100 dark:group-hover:border-slate-700",children:m.jsx("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:g.render?g.render(d):d[g.key]})},v)),(o||a||s)&&m.jsx("td",{className:"px-8 py-7 rounded-r-[2.5rem] text-right border-y border-transparent group-hover:border-slate-100 dark:group-hover:border-slate-700",children:m.jsxs("div",{className:"flex items-center justify-end gap-3 opacity-40 group-hover:opacity-100 transition-opacity",children:[s&&m.jsx("button",{onClick:()=>s(d),className:"p-3 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded-2xl transition-all",children:m.jsx(dD,{size:18})}),o&&m.jsx("button",{onClick:()=>o(d),className:"p-3 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-2xl transition-all",children:m.jsx(Vg,{size:18})}),a&&m.jsx("button",{onClick:()=>a(d),className:"p-3 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-950/30 rounded-2xl transition-all",children:m.jsx(au,{size:18})})]})})]},h)),r.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:l.length+1,className:"py-32 text-center",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:"w-24 h-24 bg-slate-50 dark:bg-slate-800 rounded-[2rem] flex items-center justify-center text-slate-200 dark:text-slate-700 mb-6",children:I.cloneElement(n,{size:48,strokeWidth:1.5})}),m.jsx("p",{className:"font-black uppercase text-[10px] text-slate-300 dark:text-slate-600 tracking-[0.4em]",children:"Nenhum registro encontrado"})]})})})]})]})})]}),m.jsxs("div",{className:"w-full xl:w-80 space-y-6",children:[c&&m.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-indigo-700 p-8 rounded-[3rem] text-white shadow-2xl shadow-indigo-200 dark:shadow-none relative overflow-hidden",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(JC,{size:20,className:"text-indigo-200"}),m.jsx("h3",{className:"font-black text-sm uppercase tracking-tighter",children:c.title})]}),m.jsx("p",{className:"text-indigo-100 text-sm font-medium leading-relaxed mb-8",children:c.description}),m.jsx("div",{className:"space-y-4",children:c.items.map((d,h)=>m.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/10",children:[m.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-200 tracking-widest",children:d.label}),m.jsx("span",{className:"text-sm font-black",children:d.value})]},h))})]}),m.jsx("div",{className:"absolute -bottom-10 -right-10 opacity-10 transform rotate-12",children:m.jsx(B0,{size:180})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[3rem] border border-slate-100 dark:border-slate-800 shadow-xl shadow-slate-200/30 dark:shadow-none",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(Ka,{size:20,className:"text-emerald-500"}),m.jsx("h3",{className:"font-black text-xs text-slate-800 dark:text-white uppercase tracking-widest",children:"Segurana Ativa"})]}),m.jsx("p",{className:"text-[11px] text-slate-400 dark:text-slate-500 font-bold leading-relaxed",children:"Todos os dados deste mdulo so criptografados com o protocolo BOOKI Core-V2."})]})]})]})]}),spe=({company:e,onLogout:t,theme:n,onToggleTheme:r})=>{var sx,lx;const[i,o]=O.useState("dashboard"),[a,s]=O.useState(!0),[l,u]=O.useState([]),[c,d]=O.useState(!1),[h,g]=O.useState(new Date),[v,b]=O.useState(new Date),[y,w]=O.useState([]),[x,_]=O.useState([]),[T,E]=O.useState([]),[S,k]=O.useState(!1),[A,C]=O.useState(!1),[N,R]=O.useState(!1),[M,L]=O.useState(!1),[$,D]=O.useState(null),[U,V]=O.useState(null),[P,j]=O.useState(null),[z,Y]=O.useState([]),[H,ie]=O.useState([]),[he,ye]=O.useState(!1),[Fe,Ot]=O.useState([]),[_e,X]=O.useState("month"),[de,me]=O.useState({daily:0,monthly:0,professionalTotal:0,periodTotal:0}),G=["09:00","09:40","10:20","11:00","11:40","12:20","13:00","13:40","14:20","15:00","15:40","16:20","17:00"],[Ie,be]=O.useState(new Date),[Ee,Ye]=O.useState(null),st=O.useRef(null),Ht=O.useRef(null),[je,Wt]=O.useState({client_name:"",client_phone:"",professional_id:"",service_id:"",date:new Date().toISOString().split("T")[0],start_time:"09:00",end_time:"09:40",status:"CONFIRMED"}),[pt,Ut]=O.useState({name:"",phone:""}),[Vi,qi]=O.useState({bookings:0,clients:0,revenue:0,services:0}),J=[{id:"dashboard",label:"Dashboard",icon:m.jsx(GC,{size:20})},{id:"agendamentos",label:"Agendamentos",icon:m.jsx(Zs,{size:20}),table:"bookings"},{id:"financeiro",label:"Financeiro",icon:m.jsx(nD,{size:20})},{id:"profissionais",label:"Profissionais",icon:m.jsx(ba,{size:20}),table:"professionals"},{id:"clientes",label:"Clientes",icon:m.jsx(am,{size:20}),table:"clients"},{id:"servicos",label:"Servios",icon:m.jsx(Nc,{size:20}),table:"services"},{id:"perfil",label:"Perfil & Links",icon:m.jsx(qg,{size:20})},{id:"produtos",label:"Produtos",icon:m.jsx(Ii,{size:20}),table:"products"},{id:"bloquear",label:"Bloquear Horrios",icon:m.jsx(qC,{size:20})}],[fe,Ce]=O.useState({whatsapp_url:"",instagram_url:""}),[Xe,St]=O.useState({show:!1,message:"",type:"success"});O.useEffect(()=>{zs(),t2(),zo(h),n2(v),ax(h)},[h,v]),O.useEffect(()=>{const B=setInterval(()=>be(new Date),6e4);return()=>clearInterval(B)},[]),O.useEffect(()=>{const B=J.find(q=>q.id===i);B!=null&&B.table&&Vo(B.table),i==="perfil"&&Er(),i==="financeiro"&&r2()},[i,_e]),O.useEffect(()=>{const B=re.channel("company-dashboard").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:`company_id=eq.${e.id}`},()=>{zo(h),zs(),i==="agendamentos"&&Vo("bookings")}).subscribe();return()=>{re.removeChannel(B)}},[e,h,i]);const Et=()=>{const q=`${window.location.origin}/?companyId=${e.id}`;navigator.clipboard.writeText(q).then(()=>{St({show:!0,message:"Link pblico copiado!",type:"success"}),setTimeout(()=>St({show:!1,message:"",type:"success"}),3e3)}).catch(()=>{St({show:!0,message:"Erro ao copiar link",type:"error"}),setTimeout(()=>St({show:!1,message:"",type:"error"}),3e3)})},Er=async()=>{const{data:B}=await re.from("companies").select("whatsapp_url, instagram_url").eq("id",e.id).single();B&&Ce({whatsapp_url:B.whatsapp_url||"",instagram_url:B.instagram_url||""})},ur=async B=>{B.preventDefault(),ye(!0);try{const{error:q}=await re.from("companies").update(fe).eq("id",e.id);if(q)throw q;alert("Links atualizados com sucesso!")}catch(q){alert("Erro ao atualizar: "+q.message)}finally{ye(!1)}},cr=()=>{D(null),Wt({client_name:"",client_phone:"",service_id:"",professional_id:z.length>0?z[0].id:"",date:h.toISOString().split("T")[0],start_time:"09:00",end_time:"09:40",status:"CONFIRMED"}),k(!0)},ri=B=>{D(B.id);const q=new Date(B.start_time);Wt({client_name:B.client_name,client_phone:B.client_phone||"",service_id:B.service_id||"",professional_id:B.professional_id||"",date:q.toISOString().split("T")[0],start_time:q.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),end_time:B.end_time?new Date(B.end_time).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",status:B.status}),k(!0)},ii=B=>{V(B),j("booking"),C(!0)},Ip=B=>{V(B),j("professional"),C(!0)},QR=B=>{Ut({name:B.name,phone:B.phone}),D(B.id),R(!0)},ZR=B=>{const q=H.find(ut=>ut.id===je.service_id),oe=q&&q.duration||40,[Te,et]=B.split(":").map(Number),$e=Te*60+et+oe,kn=`${Math.floor($e/60).toString().padStart(2,"0")}:${($e%60).toString().padStart(2,"0")}`;Wt(ut=>({...ut,start_time:B,end_time:kn}))},e2=B=>{Wt(q=>{const oe=H.find(et=>et.id===B);let Te=q.end_time;if(oe&&q.start_time){const[et,$e]=q.start_time.split(":").map(Number),kn=et*60+$e+(oe.duration||40);Te=`${Math.floor(kn/60).toString().padStart(2,"0")}:${(kn%60).toString().padStart(2,"0")}`}return{...q,service_id:B,end_time:Te}})},t2=async()=>{const{data:B}=await re.from("professionals").select("*").eq("company_id",e.id),{data:q}=await re.from("services").select("*").eq("company_id",e.id);B&&Y(B),q&&ie(q)},zo=async B=>{const q=B.toISOString().split("T")[0],{data:oe}=await re.from("bookings").select("*, services(name, price)").eq("company_id",e.id).neq("status","CANCELLED").gte("start_time",`${q}T00:00:00`).lte("start_time",`${q}T23:59:59`);oe&&w(oe)},n2=async B=>{const q=B.getFullYear(),oe=B.getMonth(),Te=new Date(q,oe,1).toISOString(),et=new Date(q,oe+1,0,23,59,59).toISOString(),{data:$e}=await re.from("bookings").select("client_name, start_time").eq("company_id",e.id).gte("start_time",Te).lte("start_time",et);$e&&_($e)},ax=async B=>{const q=B.toISOString().split("T")[0],{data:oe}=await re.from("blocked_slots").select("*").eq("company_id",e.id).eq("slot_date",q);oe&&E(oe)},zs=async()=>{const{count:B}=await re.from("bookings").select("*",{count:"exact",head:!0}).eq("company_id",e.id),{count:q}=await re.from("clients").select("*",{count:"exact",head:!0}).eq("company_id",e.id),{count:oe}=await re.from("services").select("*",{count:"exact",head:!0}).eq("company_id",e.id),{data:Te}=await re.from("orders").select("total_amount").eq("company_id",e.id).eq("status","CLOSED"),et=(Te==null?void 0:Te.reduce(($e,kn)=>$e+(Number(kn.total_amount)||0),0))||0;qi({bookings:B||0,clients:q||0,services:oe||0,revenue:et})},Vo=async B=>{d(!0);const{data:q}=await re.from(B).select("*").eq("company_id",e.id).order("created_at",{ascending:!1});u(q||[]),d(!1)},r2=async()=>{d(!0);const B=new Date().toISOString().split("T")[0],{data:q}=await re.from("bookings").select("*, services(name, price), professionals(name)").eq("company_id",e.id).neq("status","CANCELLED").order("start_time",{ascending:!1});if(q){const oe=q.map(ut=>{var Tr,qo,Gi;return{id:ut.id,date:ut.start_time,dateStr:ut.start_time.split("T")[0],amount:Number(((Tr=ut.services)==null?void 0:Tr.price)||0),client:ut.client_name,service:((qo=ut.services)==null?void 0:qo.name)||"Servio",professional:(Gi=ut.professionals)==null?void 0:Gi.name}}),Te=oe.filter(ut=>ut.dateStr===B).reduce((ut,Tr)=>ut+Tr.amount,0),et=oe.reduce((ut,Tr)=>ut+Tr.amount,0),$e=oe.length,kn=$e>0?et/$e:0;me({daily:Te,monthly:et,professionalTotal:0,periodTotal:et,totalTransactions:$e,averageTicket:kn}),Ot(oe)}d(!1)},i2=async B=>{const q=h.toISOString().split("T")[0],oe=T.find(Te=>Te.slot_time===B);oe?await re.from("blocked_slots").delete().eq("id",oe.id):await re.from("blocked_slots").insert([{company_id:e.id,slot_date:q,slot_time:B}]),ax(h)},o2=async()=>{if(!U||!P)return;ye(!0);const B=P==="booking"?"bookings":P==="service"?"services":"professionals",{error:q}=await re.from(B).delete().eq("id",U.id);if(!q){C(!1),zo(h);const oe=J.find(Te=>Te.id===i);oe!=null&&oe.table&&Vo(oe.table),zs()}ye(!1)},a2=async B=>{if(!window.confirm("Tem certeza que deseja cancelar esta reserva? O horrio ficar disponvel novamente."))return;const q=y.find(oe=>oe.id===B)||l.find(oe=>oe.id===B);ye(!0);try{const{error:oe}=await re.from("bookings").update({status:"CANCELLED"}).eq("id",B);if(oe)throw oe;if(k(!1),zo(h),i==="agendamentos"&&Vo("bookings"),zs(),q&&q.client_phone){const Te=new Date(q.start_time).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),et=`Ol ${q.client_name}, informamos que seu agendamento para ${Te} foi cancelado.`,$e=`https://wa.me/55${q.client_phone.replace(/\D/g,"")}?text=${encodeURIComponent(et)}`;window.confirm("Reserva cancelada! Deseja notificar o cliente via WhatsApp agora?")&&window.open($e,"_blank")}else alert("Reserva cancelada com sucesso!")}catch(oe){alert("Erro ao cancelar: "+oe.message)}finally{ye(!1)}},s2=async B=>{B.preventDefault(),ye(!0);const[q,oe]=je.start_time.split(":").map(Number),Te=je.date.split("-").map(Number),$e=new Date(Te[0],Te[1]-1,Te[2],q,oe).toISOString(),[kn,ut]=je.end_time.split(":").map(Number),qo=new Date(Te[0],Te[1]-1,Te[2],kn,ut).toISOString(),Gi={company_id:e.id,client_name:je.client_name,client_phone:je.client_phone,professional_id:je.professional_id||null,service_id:je.service_id||null,start_time:$e,end_time:qo,status:"CONFIRMED"};try{$?await re.from("bookings").update(Gi).eq("id",$):await re.from("bookings").insert([Gi]),k(!1),zo(h),i==="agendamentos"&&Vo("bookings")}catch{}finally{ye(!1)}},l2=async B=>{B.preventDefault(),ye(!0);try{if($){const{error:q}=await re.from("professionals").update({name:pt.name,phone:pt.phone}).eq("id",$);if(q)throw q}else{const{error:q}=await re.from("professionals").insert([{company_id:e.id,name:pt.name,phone:pt.phone}]);if(q)throw q}R(!1),D(null),Ut({name:"",phone:""}),Vo("professionals"),zs()}catch(q){alert(q.message)}finally{ye(!1)}},u2=()=>{const B=v.getFullYear(),q=v.getMonth(),oe=new Date(B,q,1).getDay(),Te=new Date(B,q+1,0).getDate(),et=[];for(let $e=0;$e<oe;$e++)et.push(null);for(let $e=1;$e<=Te;$e++)et.push(new Date(B,q,$e));return et},c2=()=>{st.current&&Ht.current&&(Ht.current.scrollTop=st.current.scrollTop)},d2=()=>{const et=G,$e=Ie.getHours(),kn=Ie.getMinutes(),Tr=(($e-8)*60+kn)*2,qo=$e>=8&&$e<19,Gi=Le=>{const Pe=new Date;Pe.setHours(0,0,0,0);const fn=new Date(Le);fn.setHours(0,0,0,0);const kr=fn.getTime()-Pe.getTime(),Go=Math.ceil(kr/(1e3*60*60*24));return Go===0?"Hoje":Go===1?"Amanh":Go===-1?"Ontem":Le.toLocaleDateString("pt-BR",{weekday:"long"})},ux=(Le,Pe)=>{Ye(Pe),Le.dataTransfer.effectAllowed="move",Le.dataTransfer.setData("text/plain",JSON.stringify(Pe))},p2=Le=>{Le.preventDefault(),Le.dataTransfer.dropEffect="move"},m2=async(Le,Pe)=>{var qs;if(Le.preventDefault(),!Ee)return;const fn=Le.currentTarget.getBoundingClientRect();Le.clientY-fn.top+(((qs=st.current)==null?void 0:qs.scrollTop)||0);const kr=Le.nativeEvent.offsetY,Np=Math.round(kr/30)*30/2,Op=8+Math.floor(Np/60),Rp=Np%60,Vs=new Date(h);Vs.setHours(Op,Rp,0,0);const dc=new Date(Ee.start_time),fc=(Ee.end_time?new Date(Ee.end_time):new Date(dc.getTime()+40*6e4)).getTime()-dc.getTime(),Hi=new Date(Vs.getTime()+fc);try{const{error:Ho}=await re.from("bookings").update({start_time:Vs.toISOString(),end_time:Hi.toISOString(),professional_id:Pe}).eq("id",Ee.id);if(Ho)throw Ho;zo(h)}catch(Ho){console.error("Erro ao mover agendamento:",Ho),alert("No foi possvel mover o agendamento.")}Ye(null)};return m.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-2xl shadow-slate-200/50 dark:shadow-none overflow-hidden border border-white dark:border-slate-800 relative animate-in fade-in duration-500",children:[m.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md z-30 sticky top-0",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter capitalize",children:Gi(h)}),m.jsxs("div",{className:"flex gap-1 bg-slate-100 dark:bg-slate-800 p-1.5 rounded-2xl",children:[m.jsx("button",{onClick:()=>g(new Date(h.setDate(h.getDate()-1))),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-xl transition-all shadow-sm text-slate-500",children:m.jsx(ww,{size:18})}),m.jsx("button",{onClick:()=>g(new Date),className:"px-4 py-2 text-[10px] font-black uppercase tracking-widest hover:bg-white dark:hover:bg-slate-700 rounded-xl transition-all text-slate-600 dark:text-slate-300",children:"Hoje"}),m.jsx("button",{onClick:()=>g(new Date(h.setDate(h.getDate()+1))),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-xl transition-all shadow-sm text-slate-500",children:m.jsx(Bg,{size:18})})]}),m.jsx("span",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest border-l border-slate-200 dark:border-slate-700 pl-6",children:h.toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{className:"px-5 py-3 text-[10px] font-black text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-2xl transition-all uppercase tracking-wider",children:"Visualizao"}),m.jsx("button",{className:"px-5 py-3 text-[10px] font-black text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-2xl transition-all uppercase tracking-wider",children:"Filtrar"}),m.jsxs("button",{onClick:cr,className:"flex items-center gap-3 px-6 py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all shadow-lg shadow-indigo-200 dark:shadow-none active:scale-95",children:[m.jsx(Eh,{size:16})," Novo"]})]})]}),m.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[m.jsxs("div",{ref:Ht,className:"w-20 flex-shrink-0 border-r border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50 overflow-y-hidden select-none z-20",children:[m.jsx("div",{className:"h-24 border-b border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 sticky top-0 z-30"})," ",m.jsx("div",{className:"relative",style:{height:660*2},children:et.map(Le=>{const[Pe,fn]=Le.split(":").map(Number),kr=(Pe-8)*60+fn;return m.jsx("div",{className:"absolute w-full text-right pr-4 text-[10px] font-black text-slate-400 dark:text-slate-500 tracking-wider",style:{top:kr*2,transform:"translateY(-50%)"},children:Le},Le)})})]}),m.jsx("div",{ref:st,onScroll:c2,className:"flex-1 overflow-y-auto custom-scrollbar relative bg-white dark:bg-slate-900",children:m.jsxs("div",{className:"flex min-w-full",style:{height:660*2+96},children:[m.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none mt-24",children:et.map(Le=>{const[Pe,fn]=Le.split(":").map(Number),kr=(Pe-8)*60+fn;return m.jsx("div",{className:"absolute w-full border-t border-slate-100 dark:border-slate-800/60",style:{top:kr*2}},Le)})}),qo&&m.jsxs("div",{className:"absolute left-0 w-full z-10 flex items-center pointer-events-none mt-24",style:{top:Tr},children:[m.jsx("div",{className:"w-full h-[2px] bg-rose-500 shadow-sm opacity-50"}),m.jsx("div",{className:"absolute -left-1 w-3 h-3 bg-rose-500 rounded-full shadow-md"})]}),z.length>0?z.map(Le=>m.jsxs("div",{className:"flex-1 min-w-[240px] border-r border-slate-100 dark:border-slate-800 relative group",children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm py-4 px-2 border-b border-slate-100 dark:border-slate-800 flex flex-col items-center justify-center h-24 transition-colors",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 text-white flex items-center justify-center font-black text-sm mb-2 shadow-lg shadow-indigo-200 dark:shadow-none ring-4 ring-white dark:ring-slate-900",children:Le.name.charAt(0)}),m.jsx("span",{className:"text-[11px] font-black text-slate-700 dark:text-slate-300 uppercase tracking-widest truncate max-w-full px-2 leading-relaxed pb-1",children:Le.name}),m.jsxs("span",{className:"text-[9px] font-bold text-slate-400 dark:text-slate-500",children:[y.filter(Pe=>Pe.professional_id===Le.id&&Pe.status!=="CANCELLED").length," agendamentos"]})]}),m.jsx("div",{className:"relative w-full h-full z-10",onDragOver:p2,onDrop:Pe=>m2(Pe,Le.id),children:y.filter(Pe=>Pe.professional_id===Le.id&&Pe.status!=="CANCELLED").map(Pe=>{var qs;const fn=new Date(Pe.start_time),kr=new Date(fn.getTime()+40*6e4),Go=(fn.getHours()-8)*60+fn.getMinutes(),Op=40*2,Rp=Go*2,Vs=fn.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),dc=kr.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),cx=((qs=Pe.services)==null?void 0:qs.name)||"Servio",fc=Pe.client_name||"Cliente";let Hi="bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800";return Pe.client_name.includes("Martin")?Hi="bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800":Pe.client_name.includes("Gertrude")?Hi="bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800":Pe.client_name.includes("Melanie")?Hi="bg-cyan-100 text-cyan-800 border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-300 dark:border-cyan-800":Pe.client_name.includes("Basira")&&(Hi="bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800"),m.jsxs("div",{draggable:!0,onDragStart:Ho=>ux(Ho,Pe),onClick:()=>ri(Pe),className:`absolute left-2 right-2 rounded-2xl px-3 py-2 border-l-[6px] text-xs cursor-grab active:cursor-grabbing hover:brightness-95 hover:scale-[1.02] hover:shadow-xl transition-all shadow-sm flex flex-col justify-center group/card ${Hi} ${(Ee==null?void 0:Ee.id)===Pe.id?"opacity-50":""}`,style:{top:`${Rp}px`,height:`${Op}px`,minHeight:"50px"},children:[m.jsx("div",{className:"flex justify-between items-start mb-0.5",children:m.jsxs("span",{className:"font-black opacity-70 text-[10px] tracking-wider leading-none",children:[Vs," - ",dc]})}),m.jsx("div",{className:"font-black text-sm truncate leading-snug",title:fc,children:fc}),m.jsx("div",{className:"opacity-80 truncate text-[10px] font-bold mt-0.5 uppercase tracking-wide leading-none",children:cx})]},Pe.id)})})]},Le.id)):m.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400 font-bold uppercase tracking-widest text-xs h-64",children:"Nenhum profissional cadastrado"})]})})]}),m.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-40",children:m.jsxs("button",{className:"flex items-center gap-3 px-8 py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-full font-black text-[10px] uppercase tracking-[0.2em] shadow-2xl hover:scale-105 hover:shadow-slate-900/20 transition-all active:scale-95",children:[m.jsx(Zs,{size:16})," Calendrio"]})})]})},f2=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[3rem] p-8 md:p-12 shadow-xl shadow-slate-200/40 dark:shadow-none border border-white dark:border-slate-800 w-full",children:[m.jsxs("div",{className:"flex items-center justify-between mb-12",children:[m.jsxs("h3",{className:"text-3xl font-black text-slate-900 dark:text-white uppercase tracking-tighter flex items-center gap-4",children:[m.jsx(Zs,{className:"text-indigo-600",size:32})," Calendrio"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>b(new Date(v.setMonth(v.getMonth()-1))),className:"p-3 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-colors",children:m.jsx(ww,{size:20})}),m.jsx("span",{className:"text-lg font-black uppercase tracking-widest py-3 px-4",children:v.toLocaleString("pt-BR",{month:"long",year:"numeric"})}),m.jsx("button",{onClick:()=>b(new Date(v.setMonth(v.getMonth()+1))),className:"p-3 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-colors",children:m.jsx(Bg,{size:20})})]})]}),m.jsxs("div",{className:"grid grid-cols-7 gap-4 md:gap-8 text-center",children:[["Dom","Seg","Ter","Qua","Qui","Sex","Sab"].map(B=>m.jsx("div",{className:"text-xs font-black text-slate-300 py-2 uppercase tracking-widest",children:B},B)),u2().map((B,q)=>{if(!B)return m.jsx("div",{},q);const oe=B.toDateString()===h.toDateString();return m.jsx("button",{onClick:()=>g(B),className:`aspect-square flex items-center justify-center text-xl font-bold rounded-[2rem] transition-all ${oe?"bg-indigo-600 text-white shadow-2xl shadow-indigo-200 dark:shadow-none scale-110":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:B.getDate()},q)})]})]}),cc=({title:B,value:q,icon:oe,color:Te})=>m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] shadow-xl shadow-slate-200/50 dark:shadow-none border border-white dark:border-slate-800 flex flex-col justify-between hover:shadow-2xl transition-all group overflow-hidden relative",children:[m.jsx("div",{className:`p-4 rounded-2xl ${Te} w-fit mb-6 transition-transform group-hover:rotate-6 shadow-lg shadow-indigo-100 dark:shadow-none`,children:m.jsx(oe,{size:24,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-400 dark:text-slate-500 text-[10px] font-black uppercase tracking-[0.3em]",children:B}),m.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white mt-1 tracking-tighter",children:q})]}),m.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity",children:m.jsx(oe,{size:80})})]}),h2=()=>{var B;switch(i){case"dashboard":return d2();case"agendamentos":return m.jsx(Hm,{title:"Agenda Master",subtitle:"Viso unificada de atendimentos",icon:m.jsx(Zs,{}),data:l,onAdd:()=>cr(),onEdit:ri,onDelete:ii,stats:[{label:"Hoje",value:y.length,icon:m.jsx(Tw,{size:20}),color:"bg-indigo-500"},{label:"Confirmados",value:l.filter(q=>q.status==="CONFIRMED").length,icon:m.jsx(yi,{size:20}),color:"bg-emerald-500"},{label:"Ms Atual",value:x.length,icon:m.jsx(Pl,{size:20}),color:"bg-amber-500"}],sidebarInfo:{title:"Dica de Gesto",description:"Agendamentos confirmados geram 40% mais fidelidade. Use o link pblico para facilitar o acesso do seu cliente.",items:[{label:"Taxa de Ocupao",value:"84%"},{label:"Cancelamentos",value:"2%"}]},columns:[{key:"start_time",label:"Horrio do Servio",render:q=>{const oe=new Date(q.start_time);return m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-indigo-950 rounded-2xl flex flex-col items-center justify-center border border-indigo-100 dark:border-indigo-900 shadow-sm",children:[m.jsx("span",{className:"text-[8px] font-black uppercase text-indigo-400 leading-none mb-0.5",children:oe.toLocaleString("pt-BR",{month:"short"}).replace(".","")}),m.jsx("span",{className:"text-base font-black text-indigo-600 dark:text-indigo-300",children:oe.getDate()})]}),m.jsxs("div",{className:"flex items-center gap-2 text-slate-900 dark:text-white font-black",children:[m.jsx(Hd,{size:16,className:"text-indigo-500"}),m.jsx("span",{className:"text-lg tracking-tighter",children:oe.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})}},{key:"client_name",label:"Cliente",render:q=>{var oe;return m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-10 h-10 bg-indigo-600 text-white rounded-full flex items-center justify-center font-black text-sm shadow-xl shadow-indigo-100 dark:shadow-none border-2 border-white dark:border-slate-800",children:((oe=q.client_name)==null?void 0:oe.charAt(0).toUpperCase())||"C"}),m.jsx("span",{className:"uppercase tracking-tight font-black text-slate-800 dark:text-slate-100",children:q.client_name})]})}},{key:"status",label:"Status",render:q=>m.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-wider ${q.status==="CONFIRMED"?"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600 dark:text-emerald-400 border border-emerald-100/50 dark:border-emerald-900/30":"bg-amber-50 dark:bg-amber-950/30 text-amber-600 dark:text-amber-400 border border-amber-100/50 dark:border-amber-900/30"}`,children:[m.jsx("div",{className:`w-2 h-2 rounded-full ${q.status==="CONFIRMED"?"bg-emerald-500":"bg-amber-500"} animate-pulse`}),q.status]})}]});case"financeiro":return m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[m.jsx(cc,{title:"Faturamento Hoje",value:`R$ ${de.daily.toFixed(2)}`,icon:gD,color:"bg-emerald-600"}),m.jsx(cc,{title:"Faturamento Mensal",value:`R$ ${de.monthly.toFixed(2)}`,icon:Pl,color:"bg-indigo-600"}),m.jsx(cc,{title:"Ticket Mdio",value:`R$ ${((B=de.averageTicket)==null?void 0:B.toFixed(2))||"0.00"}`,icon:KC,color:"bg-blue-500"}),m.jsx(cc,{title:"Transaes",value:de.totalTransactions||0,icon:Y$,color:"bg-violet-500"})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[3rem] p-10 shadow-xl shadow-slate-200/50 dark:shadow-none border border-white dark:border-slate-800",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[m.jsx("div",{className:"p-4 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 rounded-2xl",children:m.jsx(tu,{size:24})}),m.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tighter",children:"Histrico de Transaes"})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-slate-400 dark:text-slate-500 text-[10px] font-black uppercase tracking-widest border-b border-slate-100 dark:border-slate-800",children:[m.jsx("th",{className:"pb-4 pl-4",children:"Data"}),m.jsx("th",{className:"pb-4",children:"Cliente"}),m.jsx("th",{className:"pb-4",children:"Servio"}),m.jsx("th",{className:"pb-4",children:"Profissional"}),m.jsx("th",{className:"pb-4 text-right pr-4",children:"Valor"})]})}),m.jsxs("tbody",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:[Fe.slice(0,10).map(q=>m.jsxs("tr",{className:"border-b border-slate-50 dark:border-slate-800/50 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[m.jsxs("td",{className:"py-4 pl-4",children:[new Date(q.date).toLocaleDateString("pt-BR")," ",m.jsx("span",{className:"text-slate-400 text-xs ml-1",children:new Date(q.date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),m.jsx("td",{className:"py-4",children:q.client}),m.jsx("td",{className:"py-4",children:q.service}),m.jsx("td",{className:"py-4",children:q.professional||"-"}),m.jsxs("td",{className:"py-4 text-right pr-4 text-emerald-600 dark:text-emerald-400",children:["R$ ",q.amount.toFixed(2)]})]},q.id)),Fe.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"py-8 text-center text-slate-400 text-xs uppercase tracking-widest",children:"Nenhuma transao registrada"})})]})]})})]})]});case"profissionais":return m.jsx(Hm,{title:"Time de Especialistas",subtitle:"Gesto de profissionais ativos",icon:m.jsx(ba,{}),data:l,onAdd:()=>R(!0),onEdit:QR,onDelete:Ip,stats:[{label:"Time Total",value:l.length,icon:m.jsx(ba,{size:20}),color:"bg-indigo-500"},{label:"Disponveis",value:l.length,icon:m.jsx(kw,{size:20}),color:"bg-blue-500"},{label:"Rating Equipe",value:"4.9",icon:m.jsx(pD,{size:20}),color:"bg-amber-500"}],sidebarInfo:{title:"Performance",description:"Profissionais com fotos no perfil aumentam agendamentos em 30%. Incentive sua equipe a manter os dados atualizados.",items:[{label:"Mdia Mensal",value:"142 servios"},{label:"Top Profissional",value:"Lucas Silva"}]},columns:[{key:"name",label:"Especialista",render:q=>m.jsxs("div",{className:"flex items-center gap-5",children:[m.jsx("div",{className:"w-12 h-12 bg-slate-50 dark:bg-slate-800 rounded-2xl flex items-center justify-center border border-slate-100 dark:border-slate-700 shadow-sm",children:m.jsx(am,{size:24,className:"text-slate-300"})}),m.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tight",children:q.name})]})},{key:"phone",label:"Contato",render:q=>m.jsxs("div",{className:"flex items-center gap-3 text-slate-500 dark:text-slate-400 font-bold",children:[m.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-950 rounded-lg",children:m.jsx(Wd,{size:14,className:"text-indigo-500"})}),q.phone]})}]});case"servicos":return m.jsx(Hm,{title:"Cardpio de Servios",subtitle:"Catlogo oficial de itens",icon:m.jsx(Nc,{}),data:l,onAdd:()=>L(!0),stats:[{label:"Itens Totais",value:l.length,icon:m.jsx(Ii,{size:20}),color:"bg-indigo-500"},{label:"Favorito",value:"Corte",icon:m.jsx(B0,{size:20}),color:"bg-fuchsia-500"},{label:"Preo Mdio",value:"R$ 42,00",icon:m.jsx(tu,{size:20}),color:"bg-emerald-500"}],sidebarInfo:{title:"Insights de Preo",description:"Seu ticket mdio est 15% acima da mdia regional. Isso indica alta percepo de valor pelos seus clientes.",items:[{label:"Lucratividade",value:"62%"},{label:"Servio Express",value:"Ativo"}]},columns:[{key:"name",label:"Servio",render:q=>m.jsxs("div",{className:"flex items-center gap-5",children:[m.jsx("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-2xl flex items-center justify-center border border-indigo-100/50 dark:border-indigo-800 shadow-sm",children:m.jsx(Nc,{size:20})}),m.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tight",children:q.name})]})},{key:"duration",label:"Tempo Estimado",render:q=>m.jsxs("div",{className:"flex items-center gap-3 font-bold text-slate-500 dark:text-slate-400",children:[m.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-800 rounded-lg",children:m.jsx(Tw,{size:16,className:"text-indigo-500"})}),q.duration," min"]})},{key:"price",label:"Valor de Venda",render:q=>m.jsxs("div",{className:"text-lg font-black text-indigo-600 dark:text-indigo-400 tracking-tighter",children:["R$ ",Number(q.price).toFixed(2)]})}]});case"perfil":return m.jsx("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-700",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[3rem] p-10 shadow-2xl shadow-slate-200/50 dark:shadow-none border border-white dark:border-slate-800 relative overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-6 mb-10",children:[m.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-[1.8rem] flex items-center justify-center text-white shadow-2xl shadow-indigo-200 dark:shadow-none",children:m.jsx(qg,{size:32})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter",children:"Perfil da Empresa"}),m.jsx("p",{className:"text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.25em] mt-1",children:"Configurao de Redes Sociais"})]})]}),m.jsxs("form",{onSubmit:ur,className:"space-y-8",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-2 flex items-center gap-2",children:[m.jsx(vd,{size:14})," Link do WhatsApp"]}),m.jsx("input",{className:"w-full px-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm text-slate-900 dark:text-white focus:ring-4 focus:ring-indigo-50 dark:focus:ring-indigo-900/20 transition-all placeholder:text-slate-300",placeholder:"https://wa.me/5511999999999",value:fe.whatsapp_url,onChange:q=>Ce({...fe,whatsapp_url:q.target.value})}),m.jsxs("p",{className:"text-[10px] text-slate-400 ml-2",children:["Dica: Use o formato ",m.jsx("b",{children:"https://wa.me/55..."})," para criar um link direto."]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-2 flex items-center gap-2",children:[m.jsx(gd,{size:14})," Link do Instagram"]}),m.jsx("input",{className:"w-full px-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm text-slate-900 dark:text-white focus:ring-4 focus:ring-indigo-50 dark:focus:ring-indigo-900/20 transition-all placeholder:text-slate-300",placeholder:"https://instagram.com/suaempresa",value:fe.instagram_url,onChange:q=>Ce({...fe,instagram_url:q.target.value})})]}),m.jsx("button",{type:"submit",disabled:he,className:"w-full py-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-[1.5rem] font-black text-sm uppercase tracking-widest transition-all shadow-xl shadow-indigo-200 dark:shadow-none flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 mt-4",children:he?m.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:["Salvar Configuraes ",m.jsx(uD,{size:18})]})})]})]})});case"bloquear":return m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in slide-in-from-bottom-4 duration-700",children:[f2(),m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-12 rounded-[3rem] shadow-2xl shadow-slate-200/40 dark:shadow-none border border-white dark:border-slate-800",children:[m.jsxs("h3",{className:"text-xl font-black mb-10 dark:text-white uppercase tracking-tighter",children:["Bloquear Agenda: ",h.toLocaleDateString()]}),m.jsx("div",{className:"grid grid-cols-3 gap-5",children:G.map(q=>{const oe=T.find(Te=>Te.slot_time===q);return m.jsx("button",{onClick:()=>i2(q),className:`p-6 rounded-[1.5rem] border font-black text-xs transition-all ${oe?"bg-rose-50 border-rose-200 text-rose-600 dark:bg-rose-950/20 dark:border-rose-900/50 shadow-inner":"bg-white dark:bg-transparent border-slate-100 dark:border-slate-800 text-slate-400 hover:border-indigo-500 hover:text-indigo-600 shadow-sm"}`,children:q},q)})})]})]});default:return null}};return m.jsxs("div",{className:"min-h-screen bg-[#f8fafc] dark:bg-slate-950 flex font-sans transition-colors duration-500 relative",children:[m.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.03] dark:opacity-[0.05] z-0",style:{backgroundImage:"radial-gradient(circle, #6366f1 1.5px, transparent 0)",backgroundSize:"40px 40px"}}),m.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-[90] w-72 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-r border-slate-100 dark:border-slate-800 flex flex-col transition-all duration-300 ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"} shadow-2xl lg:shadow-none`,children:[m.jsxs("div",{className:"p-10 flex flex-col items-center border-b border-slate-50 dark:border-slate-800",children:[m.jsx("div",{className:"bg-white p-4 rounded-[2rem] shadow-2xl mb-4 overflow-hidden transform hover:rotate-3 transition-transform border border-slate-50",children:m.jsx(Vy,{size:80})}),m.jsx("span",{className:"font-black text-lg tracking-tighter uppercase text-slate-900 dark:text-white truncate max-w-[200px] text-center",children:(e==null?void 0:e.name)||"Sua Empresa"}),m.jsx("button",{onClick:()=>s(!1),className:"lg:hidden absolute top-6 right-6 text-slate-400 hover:text-indigo-600",children:m.jsx(ui,{size:24})})]}),m.jsxs("nav",{className:"flex-1 overflow-y-auto px-6 pb-10 mt-8 space-y-2",children:[J.map(B=>m.jsxs("button",{onClick:()=>o(B.id),className:`w-full flex items-center gap-4 p-4 rounded-2xl transition-all ${i===B.id?"bg-indigo-600 text-white shadow-xl shadow-indigo-100 dark:shadow-none font-black":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[B.icon,m.jsx("span",{className:"text-[14px] leading-none tracking-tight uppercase",children:B.label})]},B.id)),m.jsx("div",{className:"pt-6 mt-6 border-t border-slate-100 dark:border-slate-800",children:m.jsxs("button",{onClick:Et,className:"w-full flex items-center gap-4 p-4 rounded-2xl transition-all text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-950/30 font-black uppercase text-[14px]",children:[m.jsx(rD,{size:20}),"Link Cliente"]})})]}),m.jsx("div",{className:"p-8 border-t border-slate-50 dark:border-slate-800",children:m.jsxs("button",{onClick:t,className:"w-full flex items-center gap-4 p-4 rounded-2xl text-slate-400 hover:text-rose-600 font-black text-sm uppercase transition-colors",children:[m.jsx(F0,{size:20})," ",m.jsx("span",{children:"Sair"})]})})]}),m.jsxs("main",{className:"flex-1 min-h-screen flex flex-col overflow-x-hidden relative z-10",children:[m.jsxs("header",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-2xl border-b border-white dark:border-slate-800 px-10 py-5 flex items-center justify-between sticky top-0 z-[80] shadow-sm shadow-slate-200/20",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("button",{onClick:()=>s(!0),className:"lg:hidden p-3 bg-slate-100 dark:bg-slate-800 rounded-2xl text-slate-500 transition-transform active:scale-90",children:m.jsx(WC,{size:20})}),m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter uppercase",children:(sx=J.find(B=>B.id===i))==null?void 0:sx.label})]}),m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("button",{onClick:r,className:"p-3.5 bg-white dark:bg-slate-900 border border-slate-200 rounded-[1.2rem] text-slate-500 shadow-sm transition-all hover:scale-110 active:scale-90",children:n==="light"?m.jsx(ru,{size:20}):m.jsx(ou,{size:20})}),m.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-[1.2rem] flex items-center justify-center text-white font-black shadow-xl shadow-indigo-100 dark:shadow-none border-2 border-white/20",children:((lx=e==null?void 0:e.name)==null?void 0:lx.charAt(0))||"B"})]})]}),m.jsx("div",{className:"p-10 max-w-7xl w-full mx-auto pb-32",children:h2()}),S&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-950/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3.5rem] shadow-2xl animate-in zoom-in-95 flex flex-col border border-white/20 dark:border-slate-800",children:[m.jsxs("div",{className:"p-10 pb-6 flex justify-between items-start",children:[m.jsxs("div",{className:"flex gap-5",children:[m.jsx("div",{className:"w-16 h-16 rounded-3xl bg-indigo-600 flex items-center justify-center text-white shadow-2xl",children:m.jsx(Zs,{size:32})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter",children:$?"Editar Reserva":"Novo Agendamento"}),m.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs font-black uppercase tracking-[0.2em] mt-2",children:"Personalize o atendimento"})]})]}),m.jsx("button",{onClick:()=>k(!1),className:"p-4 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-3xl text-slate-400 transition-all",children:m.jsx(ui,{size:28})})]}),m.jsxs("form",{onSubmit:s2,className:"p-10 pt-4 space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Nome do Cliente"}),m.jsxs("div",{className:"relative group",children:[m.jsx(am,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-700 group-focus-within:text-indigo-600",size:20}),m.jsx("input",{required:!0,className:"w-full pl-14 pr-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm transition-all focus:bg-white dark:focus:bg-slate-900 text-slate-900 dark:text-white placeholder:text-slate-300 dark:placeholder:text-slate-800 mb-4",value:je.client_name,onChange:B=>Wt({...je,client_name:B.target.value}),placeholder:"Ex: Gabriel Oliveira"})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(Wd,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-700 group-focus-within:text-indigo-600",size:20}),m.jsx("input",{className:"w-full pl-14 pr-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm transition-all focus:bg-white dark:focus:bg-slate-900 text-slate-900 dark:text-white placeholder:text-slate-300 dark:placeholder:text-slate-800",value:je.client_phone,onChange:B=>Wt({...je,client_phone:B.target.value}),placeholder:"Ex: (11) 99999-9999"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Data"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Pl,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-700 group-focus-within:text-indigo-600",size:20}),m.jsx("input",{required:!0,type:"date",className:"w-full pl-14 pr-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm text-slate-900 dark:text-white",value:je.date,onChange:B=>Wt({...je,date:B.target.value})})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Servio"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Nc,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-700 group-focus-within:text-indigo-600",size:20}),m.jsxs("select",{required:!0,className:"w-full pl-14 pr-10 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm appearance-none text-slate-900 dark:text-white",value:je.service_id,onChange:B=>e2(B.target.value),children:[m.jsx("option",{value:"",children:"Selecione..."}),H.map(B=>m.jsxs("option",{value:B.id,children:[B.name," (",B.duration,"min)"]},B.id))]}),m.jsx(Gd,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:18})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Horrio"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Hd,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-700 group-focus-within:text-indigo-600",size:20}),m.jsxs("select",{required:!0,className:"w-full pl-14 pr-10 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm appearance-none text-slate-900 dark:text-white",value:je.start_time,onChange:B=>ZR(B.target.value),children:[m.jsx("option",{value:"",children:"Selecione..."}),G.map(B=>m.jsx("option",{value:B,children:B},B))]}),m.jsx(Gd,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:18})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Profissional"}),m.jsxs("div",{className:"relative group",children:[m.jsx(kw,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-700 group-focus-within:text-indigo-600",size:20}),m.jsxs("select",{className:"w-full pl-14 pr-10 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm appearance-none text-slate-900 dark:text-white",value:je.professional_id,onChange:B=>Wt({...je,professional_id:B.target.value}),children:[m.jsx("option",{value:"",children:"Qualquer Disponvel"}),z.map(B=>m.jsx("option",{value:B.id,children:B.name},B.id))]})]})]})]}),m.jsxs("div",{className:"pt-8 space-y-3",children:[m.jsx("button",{type:"submit",disabled:he,className:"group w-full text-white py-6 rounded-[2rem] font-black text-lg bg-indigo-600 hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3 disabled:opacity-50",children:he?m.jsx("div",{className:"w-7 h-7 border-4 border-white/20 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[$?"Atualizar Reserva":"Confirmar Reserva"," ",m.jsx(yi,{size:24,className:"group-hover:translate-x-1 transition-transform"})]})}),$&&m.jsxs("button",{type:"button",onClick:()=>a2($),disabled:he,className:"w-full text-rose-500 py-4 rounded-[2rem] font-black text-sm uppercase tracking-widest hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[m.jsx(ui,{size:20})," Cancelar Reserva"]})]})]})]})}),N&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-950/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3.5rem] shadow-2xl animate-in zoom-in-95 flex flex-col border border-white/20 dark:border-slate-800",children:[m.jsxs("div",{className:"p-10 pb-6 flex justify-between items-start",children:[m.jsxs("div",{className:"flex gap-5",children:[m.jsx("div",{className:"w-16 h-16 rounded-3xl bg-indigo-600 flex items-center justify-center text-white shadow-2xl",children:m.jsx(ba,{size:32})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter",children:$?"Editar Profissional":"Novo Profissional"}),m.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs font-black uppercase tracking-[0.2em] mt-2",children:$?"Atualizar dados":"Cadastro de equipe"})]})]}),m.jsx("button",{onClick:()=>{R(!1),D(null),Ut({name:"",phone:""})},className:"p-4 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-3xl text-slate-400 transition-all",children:m.jsx(ui,{size:28})})]}),m.jsxs("form",{onSubmit:l2,className:"p-10 pt-4 space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Nome Completo"}),m.jsx("input",{required:!0,className:"w-full px-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm text-slate-900 dark:text-white shadow-sm",value:pt.name,onChange:B=>Ut({...pt,name:B.target.value}),placeholder:"Ex: Lucas Silva"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Nmero de Contato"}),m.jsx("input",{required:!0,className:"w-full px-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm text-slate-900 dark:text-white shadow-sm",value:pt.phone,onChange:B=>Ut({...pt,phone:B.target.value}),placeholder:"Ex: (00) 00000-0000"})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{type:"submit",disabled:he,className:"w-full text-white py-6 rounded-[2rem] font-black text-lg bg-indigo-600 hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",children:he?m.jsx("div",{className:"w-7 h-7 border-4 border-white/20 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[$?"Atualizar Profissional":"Cadastrar Profissional"," ",m.jsx(yi,{size:24})]})})})]})]})}),A&&m.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 bg-slate-950/80 backdrop-blur-xl animate-in fade-in duration-300",children:m.jsx("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[3.5rem] shadow-2xl animate-in zoom-in-95 duration-500 overflow-hidden border border-white/10 dark:border-slate-800",children:m.jsxs("div",{className:"p-12 text-center",children:[m.jsx("div",{className:"w-24 h-24 bg-rose-50 dark:bg-rose-950/50 text-rose-500 rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-xl shadow-rose-100/50 dark:shadow-none animate-bounce",children:m.jsx(L0,{size:48})}),m.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter mb-4",children:"Ateno!"}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-base font-medium leading-relaxed px-4",children:["Tem certeza que deseja excluir permanentemente ",P==="booking"?`o agendamento de "${U==null?void 0:U.client_name}"`:`${P==="professional"?"o profissional":"o registro"} "${U==null?void 0:U.name}"`,"?"]}),m.jsxs("div",{className:"mt-12 flex flex-col gap-4",children:[m.jsx("button",{onClick:o2,disabled:he,className:"w-full bg-rose-600 text-white py-5 rounded-[1.5rem] font-black text-sm uppercase tracking-[0.2em] hover:bg-rose-700 transition-all shadow-2xl shadow-rose-100 dark:shadow-none flex items-center justify-center gap-2",children:he?m.jsx(iu,{className:"animate-spin",size:20}):m.jsxs(m.Fragment,{children:["CONFIRMAR EXCLUSO ",m.jsx(au,{size:20})]})}),m.jsx("button",{onClick:()=>C(!1),className:"w-full bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 py-5 rounded-[1.5rem] font-black text-sm uppercase tracking-[0.2em] hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",children:"Manter Registro"})]})]})})}),m.jsx("footer",{className:"p-10 text-center mt-auto border-t border-slate-100 dark:border-slate-800 opacity-20",children:m.jsx("p",{className:"text-[10px] font-black text-slate-300 dark:text-slate-700 uppercase tracking-[0.4em]",children:"BOOKI SaaS FRAMEWORK  2024"})})]}),Xe.show&&m.jsx("div",{className:"fixed bottom-6 left-6 right-6 md:left-auto md:right-6 md:max-w-sm z-50 animate-in slide-in-from-bottom-5 duration-300",children:m.jsxs("div",{className:`flex items-center gap-4 px-6 py-4 rounded-2xl shadow-lg font-semibold text-white border ${Xe.type==="success"?"bg-emerald-500 border-emerald-600":Xe.type==="error"?"bg-rose-500 border-rose-600":"bg-indigo-500 border-indigo-600"}`,children:[m.jsxs("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${Xe.type==="success"?"bg-emerald-600":Xe.type==="error"?"bg-rose-600":"bg-indigo-600"}`,children:[Xe.type==="success"&&m.jsx(yi,{size:14}),Xe.type==="error"&&m.jsx(ui,{size:14}),Xe.type==="info"&&m.jsx(H$,{size:14})]}),m.jsx("span",{className:"flex-1",children:Xe.message}),m.jsx("button",{onClick:()=>St({...Xe,show:!1}),className:"text-white/60 hover:text-white transition-colors",children:m.jsx(ui,{size:18})})]})})]})},Ik=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},lpe=({companyId:e,slug:t,theme:n,onToggleTheme:r})=>{var pt,Ut,Vi,qi;const[i,o]=O.useState(null),[a,s]=O.useState([]),[l,u]=O.useState([]),[c,d]=O.useState(!0),[h,g]=O.useState(!1),[v,b]=O.useState("LOGIN"),[y,w]=O.useState(null),[x,_]=O.useState({name:"",email:"",password:"",phone:""}),[T,E]=O.useState(!1),[S,k]=O.useState(!1),[A,C]=O.useState(new Date),[N,R]=O.useState(new Date),[M,L]=O.useState([]),[$,D]=O.useState([]),[U,V]=O.useState(!1),[P,j]=O.useState("booking"),[z,Y]=O.useState([]),[H,ie]=O.useState(!1),[he,ye]=O.useState(!0),[Fe,Ot]=O.useState(!1),[_e,X]=O.useState({professional_id:"",service_id:"",start_time:""}),de=["09:00","09:40","10:20","11:00","11:40","12:20","13:00","13:40","14:20","15:00","15:40","16:20","17:00"];O.useEffect(()=>{me(),G(),Ot(!1)},[e,t]),O.useEffect(()=>{y&&i&&(Ie(A),be(A))},[A,y,i]),O.useEffect(()=>{y&&P==="my_bookings"&&Ee()},[y,P]),O.useEffect(()=>{const J=setTimeout(()=>ye(!1),8e3);return()=>clearTimeout(J)},[]),O.useEffect(()=>{if(!i)return;const J=re.channel("public-bookings").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:`company_id=eq.${i.id}`},()=>{setTimeout(()=>{Ie(A),y&&P==="my_bookings"&&Ee()},500)}).subscribe();return()=>{re.removeChannel(J)}},[i,A,y,P]);const me=async()=>{const{data:{session:J}}=await re.auth.getSession();J&&(w(J.user),b("LOGGED_IN"))},G=async()=>{d(!0),g(!1);try{let J=re.from("companies").select("*");e?J=J.eq("id",e):t&&(J=J.eq("slug",t));const{data:fe,error:Ce}=await J.maybeSingle();if(!fe||Ce){g(!0),d(!1);return}o(fe);const{data:Xe}=await re.from("professionals").select("*").eq("company_id",fe.id),{data:St}=await re.from("services").select("*").eq("company_id",fe.id);s(Xe||[]),u(St||[])}catch{g(!0)}finally{d(!1)}},Ie=async J=>{const fe=Ik(J),{data:Ce}=await re.from("bookings").select("start_time, professional_id").eq("company_id",i.id).neq("status","CANCELLED").gte("start_time",`${fe}T00:00:00`).lte("start_time",`${fe}T23:59:59`);Ce&&L(Ce)},be=async J=>{const fe=Ik(J),{data:Ce}=await re.from("blocked_slots").select("*").eq("company_id",i.id).eq("slot_date",fe);Ce&&D(Ce)},Ee=async()=>{if(y)try{const{data:J,error:fe}=await re.from("bookings").select("*, services(name, price, duration), professionals(name)").eq("client_id",y.id).order("start_time",{ascending:!1});if(fe)throw fe;J&&Y(J)}catch(J){console.error("Erro ao buscar agendamentos:",J)}},Ye=async J=>{if(confirm("Tem certeza que deseja cancelar este agendamento?"))try{const{error:fe}=await re.from("bookings").update({status:"CANCELLED"}).eq("id",J);if(fe)throw fe;alert("Agendamento cancelado com sucesso. A empresa foi notificada."),Ee(),Ie(A)}catch(fe){alert(fe.message)}},st=async J=>{J.preventDefault(),k(!0);try{if(v==="REGISTER"){const{error:fe}=await re.auth.signUp({email:x.email,password:x.password,options:{data:{full_name:x.name,phone:x.phone,role:"CLIENT"}}});if(fe)throw fe;alert("Cadastro realizado! Faa login."),b("LOGIN")}else{const{data:fe,error:Ce}=await re.auth.signInWithPassword({email:x.email,password:x.password});if(Ce)throw Ce;w(fe.user),b("LOGGED_IN")}}catch(fe){alert(fe.message)}finally{k(!1)}},Ht=async()=>{await re.auth.signOut(),w(null),b("LOGIN"),j("booking")},je=async()=>{var cr,ri;if(!_e.service_id||!_e.start_time){alert("Selecione servio e horrio.");return}V(!0);const[J,fe]=_e.start_time.split(":").map(Number),Ce=new Date(A);Ce.setHours(J,fe,0,0);const Xe=Ce.toISOString(),St=l.find(ii=>ii.id===_e.service_id),Et=St?Number(St.duration||40):40,Er=new Date(Ce);Er.setMinutes(Ce.getMinutes()+Et);const ur=Er.toISOString();try{const{error:ii}=await re.from("bookings").insert([{company_id:i.id,client_id:y.id,client_name:((cr=y.user_metadata)==null?void 0:cr.full_name)||x.name||y.email||"Cliente",client_phone:((ri=y.user_metadata)==null?void 0:ri.phone)||x.phone||"",professional_id:_e.professional_id||null,service_id:_e.service_id,start_time:Xe,end_time:ur,status:"CONFIRMED"}]);if(ii)throw ii;Ie(A),X(Ip=>({...Ip,start_time:""})),ie(!0)}catch(ii){alert(ii.message)}finally{V(!1)}},Wt=()=>{const J=N.getFullYear(),fe=N.getMonth(),Ce=new Date(J,fe,1).getDay(),Xe=new Date(J,fe+1,0).getDate(),St=[];for(let Et=0;Et<Ce;Et++)St.push(null);for(let Et=1;Et<=Xe;Et++)St.push(new Date(J,fe,Et));return St};return c?m.jsx("div",{className:"min-h-screen flex items-center justify-center dark:bg-slate-950",children:m.jsx("div",{className:"w-10 h-10 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"})}):h?m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center dark:bg-slate-950",children:[m.jsx("h1",{className:"text-4xl font-black mb-4 dark:text-white",children:"Salo No Encontrado"}),m.jsx("p",{className:"text-slate-500 mb-8",children:"O link acessado  invlido ou a empresa no existe."}),m.jsx("button",{onClick:()=>window.location.href="/",className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black",children:"Voltar ao Incio"})]}):m.jsxs("div",{className:"min-h-screen bg-[#f8fafc] dark:bg-slate-950 font-sans transition-colors duration-500",children:[((i==null?void 0:i.whatsapp_url)||(i==null?void 0:i.instagram_url))&&m.jsxs("div",{className:"fixed bottom-24 md:bottom-8 right-6 z-[60] flex flex-col gap-3 animate-in slide-in-from-right duration-700 items-end",children:[(i==null?void 0:i.instagram_url)&&m.jsx("a",{href:i.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-gradient-to-tr from-amber-400 via-rose-500 to-fuchsia-600 text-white rounded-full flex items-center justify-center shadow-xl hover:scale-110 transition-transform active:scale-95",children:m.jsx(gd,{size:24})}),(i==null?void 0:i.whatsapp_url)&&m.jsxs("div",{className:"relative flex items-center",children:[he&&m.jsxs("div",{className:"absolute right-16 bg-white dark:bg-slate-800 text-slate-900 dark:text-white px-4 py-2.5 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 whitespace-nowrap font-black text-[10px] uppercase tracking-wide animate-in fade-in slide-in-from-right-4 duration-700",children:["Precisa de ajuda?",m.jsx("div",{className:"absolute -right-1.5 top-1/2 -translate-y-1/2 w-3 h-3 bg-white dark:bg-slate-800 rotate-45 border-t border-r border-slate-100 dark:border-slate-700"})]}),m.jsx("a",{href:i.whatsapp_url,target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 bg-emerald-500 text-white rounded-full flex items-center justify-center shadow-xl shadow-emerald-500/20 hover:scale-110 transition-transform active:scale-95 relative z-10",children:m.jsx(vd,{size:28})})]})]}),v!=="LOGGED_IN"?m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-96 bg-indigo-600 rounded-b-[4rem] z-0 shadow-2xl"}),m.jsx("div",{className:"absolute top-10 right-10 z-10",children:m.jsx("button",{onClick:r,className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white hover:bg-white/20 transition-all",children:n==="light"?m.jsx(ru,{size:20}):m.jsx(ou,{size:20})})}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] p-10 flex flex-col items-center shadow-2xl relative z-10 animate-in fade-in zoom-in-95 duration-500 border border-slate-100 dark:border-slate-800",children:[m.jsx("div",{className:"w-24 h-24 bg-indigo-600 rounded-[2rem] flex items-center justify-center text-white mb-6 shadow-xl shadow-indigo-200 dark:shadow-none -mt-20 border-4 border-white dark:border-slate-900 overflow-hidden",children:i!=null&&i.logo_url&&!Fe?m.jsx("img",{src:i.logo_url,alt:i==null?void 0:i.name,className:"w-full h-full object-contain",onError:()=>Ot(!0)}):m.jsx("span",{className:"text-3xl font-black",children:(pt=i==null?void 0:i.name)==null?void 0:pt.charAt(0)})}),m.jsx("h1",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight mb-1",children:i==null?void 0:i.name}),m.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-8",children:"Portal do Cliente"}),m.jsx("h2",{className:"text-2xl font-black dark:text-white mb-8 self-start w-full",children:v==="REGISTER"?"Criar Conta":"Bem-vindo de volta!"}),m.jsxs("form",{onSubmit:st,className:"w-full space-y-4",children:[v==="REGISTER"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative group",children:[m.jsx(Kd,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),m.jsx("input",{required:!0,className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-slate-50 dark:bg-slate-800 border border-transparent focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 font-bold dark:text-white outline-none transition-all",placeholder:"Nome Completo",value:x.name,onChange:J=>_({...x,name:J.target.value})})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(Wd,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),m.jsx("input",{required:!0,className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-slate-50 dark:bg-slate-800 border border-transparent focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 font-bold dark:text-white outline-none transition-all",placeholder:"Seu WhatsApp",value:x.phone,onChange:J=>_({...x,phone:J.target.value})})]})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(HC,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),m.jsx("input",{required:!0,type:"email",className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-slate-50 dark:bg-slate-800 border border-transparent focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 font-bold dark:text-white outline-none transition-all",placeholder:"E-mail",value:x.email,onChange:J=>_({...x,email:J.target.value})})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(nu,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),m.jsx("input",{required:!0,type:"password",className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-slate-50 dark:bg-slate-800 border border-transparent focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 font-bold dark:text-white outline-none transition-all",placeholder:"Senha",value:x.password,onChange:J=>_({...x,password:J.target.value})})]}),m.jsx("button",{type:"submit",disabled:S,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-5 rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-indigo-200 dark:shadow-none transition-all active:scale-95 mt-4",children:S?"Processando...":v==="REGISTER"?"Criar Conta":"Acessar"}),m.jsx("div",{className:"text-center pt-4",children:m.jsx("button",{type:"button",onClick:()=>b(v==="REGISTER"?"LOGIN":"REGISTER"),className:"text-xs font-bold text-slate-400 hover:text-indigo-600 transition-colors",children:v==="REGISTER"?"J possui uma conta? Faa Login":"No tem conta? Cadastre-se agora"})})]})]}),m.jsxs("footer",{className:"absolute bottom-6 w-full flex flex-col items-center gap-4 z-20",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[(i==null?void 0:i.whatsapp_url)&&m.jsx("a",{href:i.whatsapp_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-slate-400 hover:text-emerald-500 transition-colors bg-white/50 dark:bg-slate-800/50 rounded-xl backdrop-blur-sm",children:m.jsx(vd,{size:20})}),(i==null?void 0:i.instagram_url)&&m.jsx("a",{href:i.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-slate-400 hover:text-pink-600 transition-colors bg-white/50 dark:bg-slate-800/50 rounded-xl backdrop-blur-sm",children:m.jsx(gd,{size:20})}),(i==null?void 0:i.facebook_url)&&m.jsx("a",{href:i.facebook_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-slate-400 hover:text-blue-600 transition-colors bg-white/50 dark:bg-slate-800/50 rounded-xl backdrop-blur-sm",children:m.jsx(_w,{size:20})}),(i==null?void 0:i.website_url)&&m.jsx("a",{href:i.website_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-slate-400 hover:text-indigo-600 transition-colors bg-white/50 dark:bg-slate-800/50 rounded-xl backdrop-blur-sm",children:m.jsx(zg,{size:20})})]}),m.jsx("p",{className:"opacity-30 font-black text-[10px] tracking-widest uppercase text-slate-500",children:"Powered by BOOKI SaaS"})]})]}):m.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen",children:[m.jsxs("aside",{className:"bg-white dark:bg-slate-900 border-r border-slate-100 dark:border-slate-800 md:w-72 flex-shrink-0 z-40 flex flex-col justify-between fixed md:sticky bottom-0 w-full md:h-screen order-2 md:order-1 shadow-[0_-4px_20px_rgba(0,0,0,0.05)] md:shadow-none",children:[m.jsxs("div",{className:"p-8 hidden md:flex flex-col items-center border-b border-slate-50 dark:border-slate-800",children:[m.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center text-white font-black text-2xl mb-4 shadow-lg shadow-indigo-200 dark:shadow-none",children:(Ut=i==null?void 0:i.name)==null?void 0:Ut.charAt(0)}),m.jsx("h2",{className:"font-black text-slate-900 dark:text-white uppercase tracking-tight text-center",children:i==null?void 0:i.name})]}),m.jsxs("nav",{className:"flex md:flex-col justify-around md:justify-start p-2 md:p-6 gap-1 md:gap-2",children:[m.jsxs("button",{onClick:()=>j("booking"),className:`flex flex-col md:flex-row items-center md:gap-4 p-3 md:px-6 md:py-4 rounded-2xl transition-all ${P==="booking"?"text-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[m.jsx(Pl,{size:24}),m.jsx("span",{className:"text-[10px] md:text-sm font-black uppercase tracking-wide mt-1 md:mt-0",children:"Agendar"})]}),m.jsxs("button",{onClick:()=>j("my_bookings"),className:`flex flex-col md:flex-row items-center md:gap-4 p-3 md:px-6 md:py-4 rounded-2xl transition-all ${P==="my_bookings"?"text-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[m.jsx(Sw,{size:24}),m.jsx("span",{className:"text-[10px] md:text-sm font-black uppercase tracking-wide mt-1 md:mt-0",children:"Meus Agendamentos"})]}),m.jsxs("button",{onClick:()=>j("account"),className:`flex flex-col md:flex-row items-center md:gap-4 p-3 md:px-6 md:py-4 rounded-2xl transition-all ${P==="account"?"text-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[m.jsx(mD,{size:24}),m.jsx("span",{className:"text-[10px] md:text-sm font-black uppercase tracking-wide mt-1 md:mt-0",children:"Minha Conta"})]})]}),m.jsxs("div",{className:"p-6 hidden md:block border-t border-slate-50 dark:border-slate-800",children:[m.jsxs("div",{className:"flex justify-center gap-3 mb-6",children:[(i==null?void 0:i.whatsapp_url)&&m.jsx("a",{href:i.whatsapp_url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-emerald-500 transition-colors",children:m.jsx(vd,{size:18})}),(i==null?void 0:i.instagram_url)&&m.jsx("a",{href:i.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-pink-600 transition-colors",children:m.jsx(gd,{size:18})}),(i==null?void 0:i.facebook_url)&&m.jsx("a",{href:i.facebook_url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-blue-600 transition-colors",children:m.jsx(_w,{size:18})}),(i==null?void 0:i.website_url)&&m.jsx("a",{href:i.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-indigo-600 transition-colors",children:m.jsx(zg,{size:18})})]}),m.jsxs("button",{onClick:Ht,className:"w-full flex items-center gap-4 p-4 rounded-2xl text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 font-black uppercase text-xs transition-all",children:[m.jsx(F0,{size:20})," Sair"]})]})]}),m.jsxs("main",{className:"flex-1 p-6 md:p-12 pb-32 md:pb-12 overflow-y-auto order-1 md:order-2",children:[m.jsxs("header",{className:"flex justify-between items-center mb-10",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl md:text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:["Ol, ",((Vi=y.user_metadata.full_name)==null?void 0:Vi.split(" ")[0])||"Cliente","!"]}),m.jsxs("p",{className:"text-slate-400 font-bold text-sm mt-1",children:["Bem-vindo ao ",i==null?void 0:i.name]})]}),m.jsx("button",{onClick:r,className:"p-3 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl text-slate-500 shadow-sm",children:n==="light"?m.jsx(ru,{size:20}):m.jsx(ou,{size:20})})]}),P==="booking"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-900 p-6 rounded-[2rem] border border-slate-100 dark:border-slate-800 shadow-xl shadow-slate-200/50 dark:shadow-none",children:[m.jsxs("h3",{className:"text-lg font-black mb-6 dark:text-white uppercase flex items-center gap-3",children:[m.jsx(Pl,{className:"text-indigo-600"})," Selecione a Data"]}),m.jsxs("div",{className:"grid grid-cols-7 gap-2 md:gap-4 text-center",children:[["D","S","T","Q","Q","S","S"].map(J=>m.jsx("div",{className:"text-[10px] md:text-xs font-black text-slate-300 uppercase py-2",children:J},J)),Wt().map((J,fe)=>{if(!J)return m.jsx("div",{},fe);const Ce=J.toDateString()===A.toDateString(),Xe=J.toDateString()===new Date().toDateString();return m.jsx("button",{onClick:()=>C(J),className:`aspect-square flex flex-col items-center justify-center text-sm md:text-lg font-bold rounded-2xl transition-all ${Ce?"bg-indigo-600 text-white shadow-lg shadow-indigo-200 dark:shadow-none scale-110":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"} ${Xe?"border-2 border-indigo-600 text-indigo-600":""}`,children:J.getDate()},fe)})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-[2rem] border border-slate-100 dark:border-slate-800 shadow-xl shadow-slate-200/50 dark:shadow-none h-fit",children:[m.jsxs("h3",{className:"text-lg font-black mb-6 dark:text-white uppercase flex items-center gap-3",children:[m.jsx(Hd,{className:"text-indigo-600"})," Horrios"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Profissional"}),m.jsxs("select",{className:"w-full p-3 rounded-xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 font-bold text-sm dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20",value:_e.professional_id,onChange:J=>X({..._e,professional_id:J.target.value}),children:[m.jsx("option",{value:"",children:"Qualquer disponvel"}),a.map(J=>m.jsx("option",{value:J.id,children:J.name},J.id))]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Servio"}),m.jsxs("select",{className:"w-full p-3 rounded-xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 font-bold text-sm dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20",value:_e.service_id,onChange:J=>X({..._e,service_id:J.target.value}),children:[m.jsx("option",{value:"",children:"Selecione..."}),l.map(J=>m.jsxs("option",{value:J.id,children:[J.name," (R$ ",J.price,")"]},J.id))]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Disponibilidade"}),m.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-[240px] overflow-y-auto pr-2 custom-scrollbar",children:de.map(J=>{const fe=M.filter(Et=>{const Er=new Date(Et.start_time),ur=Er.getHours().toString().padStart(2,"0"),cr=Er.getMinutes().toString().padStart(2,"0");return`${ur}:${cr}`===J});let Ce=!1;_e.professional_id?Ce=fe.some(Et=>Et.professional_id===_e.professional_id):a.length>0&&(Ce=fe.length>=a.length);const Xe=$.find(Et=>Et.slot_time===J),St=_e.start_time===J;return Ce||Xe?null:m.jsx("button",{onClick:()=>X({..._e,start_time:J}),className:`py-3 rounded-xl border font-black text-xs transition-all ${St?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-200 dark:shadow-none":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-700 text-slate-500 hover:border-indigo-300"}`,children:J},J)})})]})]}),m.jsx("button",{onClick:je,disabled:U||!_e.start_time||!_e.service_id,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white py-5 rounded-2xl font-black uppercase mt-8 transition-all shadow-xl shadow-emerald-200 dark:shadow-none active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:U?"Reservando...":"Confirmar Agendamento"})]})]}),P==="my_bookings"&&m.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 max-w-3xl",children:[m.jsxs("h2",{className:"text-2xl font-black dark:text-white mb-6 flex items-center gap-3",children:[m.jsx(Sw,{className:"text-indigo-600"})," Histrico de Agendamentos"]}),z.length===0?m.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-[2.5rem] border border-slate-100 dark:border-slate-800",children:[m.jsx("div",{className:"w-20 h-20 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-300",children:m.jsx(qC,{size:40})}),m.jsx("p",{className:"text-slate-500 font-bold text-lg",children:"Voc ainda no tem agendamentos."}),m.jsx("button",{onClick:()=>j("booking"),className:"mt-6 text-indigo-600 font-black uppercase text-xs tracking-widest hover:underline",children:"Fazer meu primeiro agendamento"})]}):m.jsx("div",{className:"grid gap-4",children:z.map(J=>{if(!J||!J.start_time)return null;const fe=new Date(J.start_time);if(isNaN(fe.getTime()))return null;const Ce=fe<new Date,Xe=(ur,cr)=>{var ri;return ur?Array.isArray(ur)?(ri=ur[0])==null?void 0:ri[cr]:ur[cr]:null},St=Xe(J.services,"name"),Et=Xe(J.services,"price"),Er=Xe(J.professionals,"name");return m.jsxs("div",{className:`bg-white dark:bg-slate-900 p-6 rounded-[2rem] border border-slate-100 dark:border-slate-800 flex items-center justify-between transition-all hover:shadow-xl hover:shadow-slate-200/40 dark:hover:shadow-none ${Ce?"opacity-60 grayscale":""}`,children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsxs("div",{className:`w-16 h-16 rounded-2xl flex flex-col items-center justify-center border ${Ce?"bg-slate-50 border-slate-100 text-slate-400":"bg-indigo-50 border-indigo-100 text-indigo-600 dark:bg-indigo-900/20 dark:border-indigo-900 dark:text-indigo-400"}`,children:[m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:fe.toLocaleString("pt-BR",{month:"short"}).replace(".","")}),m.jsx("span",{className:"text-2xl font-black",children:fe.getDate()})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-black text-lg text-slate-900 dark:text-white",children:St||"Servio"}),m.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs font-bold text-slate-400",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Hd,{size:14})," ",fe.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Kd,{size:14})," ",Er||"Profissional"]})]})]})]}),m.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[m.jsx("span",{className:`px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-wider ${J.status==="CONFIRMED"?"bg-emerald-100 text-emerald-700":J.status==="CANCELLED"?"bg-rose-100 text-rose-700":"bg-slate-100 text-slate-500"}`,children:J.status==="CONFIRMED"?"Confirmado":J.status==="CANCELLED"?"Cancelado":J.status}),m.jsxs("p",{className:"font-black text-slate-900 dark:text-white",children:["R$ ",Et]}),!Ce&&J.status!=="CANCELLED"&&m.jsx("button",{onClick:()=>Ye(J.id),className:"text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider transition-colors",children:"Cancelar"})]})]},J.id)})})]}),P==="account"&&m.jsx("div",{className:"max-w-2xl animate-in fade-in zoom-in-95 duration-500",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-10 rounded-[2.5rem] border border-slate-100 dark:border-slate-800 shadow-xl shadow-slate-200/50 dark:shadow-none text-center",children:[m.jsx("div",{className:"w-24 h-24 bg-indigo-600 text-white rounded-full flex items-center justify-center text-3xl font-black mx-auto mb-6 shadow-lg shadow-indigo-200 dark:shadow-none",children:(qi=y.user_metadata.full_name)==null?void 0:qi.charAt(0)}),m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white",children:y.user_metadata.full_name}),m.jsx("p",{className:"text-slate-400 font-bold mb-8",children:y.email}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:[m.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800 rounded-3xl",children:[m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Telefone"}),m.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:y.user_metadata.phone||"No informado"})]}),m.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800 rounded-3xl",children:[m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Membro Desde"}),m.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:new Date(y.created_at).toLocaleDateString("pt-BR")})]})]}),m.jsx("button",{onClick:Ht,className:"w-full mt-8 py-4 rounded-2xl border-2 border-rose-100 text-rose-500 font-black uppercase tracking-widest hover:bg-rose-50 transition-colors",children:"Sair da Conta"})]})})]}),H&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-950/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2.5rem] p-8 flex flex-col items-center text-center shadow-2xl border border-white/20 dark:border-slate-800 animate-in zoom-in-95",children:[m.jsx("div",{className:"w-20 h-20 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-full flex items-center justify-center mb-6",children:m.jsx(yi,{size:40})}),m.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2",children:"Agendado!"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium mb-8",children:"Seu horrio foi reservado com sucesso. Te esperamos l!"}),m.jsx("button",{onClick:()=>{ie(!1),j("my_bookings")},className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-4 rounded-2xl font-black uppercase tracking-widest transition-all shadow-lg shadow-indigo-200 dark:shadow-none",children:"Ver Meus Agendamentos"})]})})]})]})},Wm="3d577496-f12a-4cb8-abda-e2fc2ea24987",upe="https://rvocbjrzruiohrxuiqnq.supabase.co/storage/v1/object/public/logos/Booki%20LOGOMARCA%20-%20Copia.png",Vy=({size:e=24,className:t=""})=>m.jsx("img",{src:upe,alt:"BOOKI Official Logo",className:`object-contain ${t}`,style:{maxWidth:e,maxHeight:e,width:"auto",height:"auto",display:"block"},onError:n=>{n.target.src="https://via.placeholder.com/400x150?text=BOOKI"}}),cpe=()=>{var M,L;const[e,t]=O.useState("dashboard"),[n,r]=O.useState(!1),[i,o]=O.useState(null),[a,s]=O.useState(null),[l,u]=O.useState(null),[c,d]=O.useState(!0),[h,g]=O.useState(null),[v,b]=O.useState(()=>localStorage.getItem("booki_theme")||"light"),[y,w]=O.useState(""),[x,_]=O.useState(""),[T,E]=O.useState(!1),[S,k]=O.useState(null);console.log("=== APP RENDER ==="),console.log("State:",{session:i,companySession:a,loading:c,publicCompanyId:h}),console.log("================="),O.useEffect(()=>{const D=new URLSearchParams(window.location.search).get("companyId");D&&g(D)},[]),O.useEffect(()=>{const $=window.document.documentElement;v==="dark"?$.classList.add("dark"):$.classList.remove("dark"),localStorage.setItem("booki_theme",v)},[v]),O.useEffect(()=>{re.auth.getSession().then(({data:{session:U}})=>{o(U),U?A(U.user.id):d(!1)});const{data:{subscription:$}}=re.auth.onAuthStateChange((U,V)=>{o(V),V?A(V.user.id):(u(null),d(!1))}),D=localStorage.getItem("booki_company_session");return D&&s(JSON.parse(D)),()=>$.unsubscribe()},[]);const A=async $=>{const{data:D}=await re.from("profiles").select("*").eq("id",$).single();D&&u(D),d(!1)},C=()=>{b($=>$==="light"?"dark":"light")},N=()=>{re.auth.signOut(),s(null),localStorage.removeItem("booki_company_session")},R=async $=>{var D;$.preventDefault(),d(!0),k(null);try{const{data:U,error:V}=await re.auth.signInWithPassword({email:y.trim(),password:x});if(!V&&((D=U.session)==null?void 0:D.user.id)===Wm){o(U.session),d(!1);return}const P=y.trim().toLowerCase(),{data:j,error:z}=await re.from("companies").select("*").eq("owner_email",P).eq("access_password",x).maybeSingle();if(z)throw z;j?j.status==="INACTIVE"?k("Empresa Inativa."):(s(j),localStorage.setItem("booki_company_session",JSON.stringify(j))):k("Senha incorreta. Verifique suas credenciais.")}catch{k("Erro de conexo com o servidor.")}finally{d(!1)}};if(h)return m.jsx(lpe,{companyId:h,theme:v,onToggleTheme:C});if(c&&!i&&!a)return m.jsx("div",{className:"flex items-center justify-center min-h-screen bg-white dark:bg-slate-950",children:m.jsx("div",{className:"w-10 h-10 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"})});if(a)return m.jsx(spe,{company:a,onLogout:N,theme:v,onToggleTheme:C});if(i&&i.user.id===Wm){const $=[{id:"dashboard",label:"Painel Geral",icon:m.jsx(GC,{size:20})},{id:"companies",label:"Empresas SaaS",icon:m.jsx(VC,{size:20})},{id:"plans",label:"Planos SaaS",icon:m.jsx(Ii,{size:20})},{id:"finance",label:"Financeiro",icon:m.jsx(X$,{size:20})},{id:"settings",label:"Ajustes",icon:m.jsx(qg,{size:20})}];return m.jsxs("div",{className:"flex min-h-screen bg-slate-50 dark:bg-slate-950 font-sans text-slate-900 dark:text-slate-100 overflow-x-hidden transition-colors",children:[m.jsxs("aside",{className:`fixed inset-y-0 left-0 z-[70] bg-indigo-600 text-white flex flex-col transition-transform duration-300 ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"} w-72 shadow-2xl shadow-indigo-500/10`,children:[m.jsxs("div",{className:"p-8 flex flex-col items-center border-b border-white/10",children:[m.jsx("div",{className:"bg-white p-4 rounded-[1.5rem] shadow-2xl mb-4 hover:scale-105 transition-transform cursor-pointer flex items-center justify-center min-w-[120px] min-h-[60px]",children:m.jsx(Vy,{size:140})}),m.jsx("span",{className:"font-black text-[10px] tracking-[0.3em] uppercase text-indigo-100/60 mt-1",children:"SaaS Core Manager"})]}),m.jsx("nav",{className:"flex-1 px-4 mt-8 space-y-1",children:$.map(D=>m.jsxs("button",{onClick:()=>t(D.id),className:`w-full flex items-center gap-4 p-4 rounded-2xl transition-all ${e===D.id?"bg-white text-indigo-600 shadow-xl font-black":"text-indigo-100 hover:bg-white/10 font-bold"}`,children:[D.icon,m.jsx("span",{className:"text-sm uppercase tracking-wide",children:D.label})]},D.id))}),m.jsx("div",{className:"p-6",children:m.jsxs("button",{onClick:N,className:"w-full flex items-center gap-4 p-4 hover:bg-white/10 rounded-2xl transition-all font-bold text-sm",children:[m.jsx(F0,{size:20}),m.jsx("span",{children:"Sair do Sistema"})]})})]}),m.jsxs("main",{className:"flex-1 flex flex-col lg:ml-72 min-h-screen",children:[m.jsxs("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 p-6 flex items-center justify-between sticky top-0 z-[60]",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>r(!0),className:"lg:hidden p-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:m.jsx(WC,{size:24})}),m.jsx("h1",{className:"text-xl font-black text-black dark:text-white tracking-tighter uppercase",children:(M=$.find(D=>D.id===e))==null?void 0:M.label})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:C,className:"p-3 bg-slate-100 dark:bg-slate-800 rounded-2xl text-slate-600 dark:text-slate-300 hover:scale-110 transition-transform",children:v==="light"?m.jsx(ru,{size:20}):m.jsx(ou,{size:20})}),m.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-slate-200 dark:border-slate-700",children:[m.jsxs("div",{className:"text-right hidden sm:block",children:[m.jsx("p",{className:"text-xs font-black text-black dark:text-white leading-none",children:"Master Admin"}),m.jsx("p",{className:"text-[10px] text-indigo-600 font-bold uppercase tracking-widest mt-1",children:"Status: Online"})]}),m.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-2xl flex items-center justify-center text-white font-black shadow-lg shadow-indigo-200",children:((L=l==null?void 0:l.full_name)==null?void 0:L.charAt(0))||"M"})]})]})]}),m.jsxs("div",{className:"p-6 md:p-10 max-w-7xl mx-auto w-full",children:[e==="dashboard"&&m.jsx(npe,{theme:v}),e==="companies"&&m.jsx(rpe,{}),e==="plans"&&m.jsx(ipe,{}),e==="finance"&&m.jsx(ope,{}),e==="settings"&&m.jsx(ape,{})]})]}),n&&m.jsx("div",{onClick:()=>r(!1),className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[65] lg:hidden animate-in fade-in duration-300"})]})}if(i&&i.user.id!==Wm)return m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-slate-950 p-6 text-center",children:[m.jsx(nu,{className:"text-rose-600 mb-6",size:64}),m.jsx("h1",{className:"text-4xl font-black text-black dark:text-white tracking-tighter",children:"Acesso No Autorizado"}),m.jsx("p",{className:"text-slate-500 mt-2",children:"Esta conta no possui privilgios master."}),m.jsx("button",{onClick:N,className:"mt-8 bg-black dark:bg-white dark:text-black text-white px-8 py-4 rounded-2xl font-black",children:"Sair e Tentar Novamente"})]});if(!i&&!a&&!h&&!c)return m.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row bg-slate-50 dark:bg-slate-950 font-sans antialiased transition-colors",style:{minHeight:"100vh",display:"flex"},children:[m.jsxs("div",{className:"lg:flex-1 bg-indigo-600 flex flex-col items-center justify-center p-12 text-white relative overflow-hidden",style:{backgroundColor:"#4f46e5",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[m.jsx("div",{className:"absolute top-0 right-0 p-8 md:p-12 z-50",children:m.jsx("button",{onClick:C,title:"Alternar Tema",className:"p-4 bg-white/10 hover:bg-white/20 rounded-[1.5rem] backdrop-blur-md transition-all active:scale-90 border border-white/10",children:v==="light"?m.jsx(ru,{size:24,className:"animate-in fade-in zoom-in duration-300"}):m.jsx(ou,{size:24,className:"animate-in fade-in zoom-in duration-300"})})}),m.jsxs("div",{className:"relative z-10 text-center",children:[m.jsx("div",{className:"bg-white p-6 rounded-[2.5rem] shadow-2xl mb-8 inline-block animate-in zoom-in duration-700",children:m.jsx(Vy,{size:200})}),m.jsx("h1",{className:"text-5xl font-extrabold tracking-tighter mb-4 antialiased",children:"Booki Agenda"}),m.jsx("p",{className:"text-indigo-100 text-lg font-medium opacity-80 max-w-md mx-auto",children:"A soluo inteligente para gesto de agendamentos e servios em tempo real."})]}),m.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 bg-white/10 rounded-full blur-3xl"}),m.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-indigo-400/20 rounded-full blur-3xl"})]}),m.jsx("div",{className:"lg:flex-1 bg-white dark:bg-slate-900 p-10 flex flex-col justify-center animate-in slide-in-from-right duration-500 shadow-2xl transition-colors",children:m.jsxs("div",{className:"max-w-md w-full mx-auto",children:[m.jsx("h2",{className:"text-4xl font-extrabold text-slate-900 dark:text-white tracking-tight mb-2 antialiased",children:"Seja bem-vindo!"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-base mb-12 antialiased",children:"Identifique-se para acessar seu painel de gesto."}),m.jsxs("form",{onSubmit:R,className:"space-y-5",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"E-mail de Acesso"}),m.jsx("input",{type:"email",required:!0,value:y,onChange:$=>w($.target.value),className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl outline-none focus:ring-4 focus:ring-indigo-50 dark:focus:ring-indigo-900/20 font-bold transition-all text-slate-900 dark:text-white placeholder:text-slate-400",placeholder:"exemplo@booki.com.br"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Senha"}),m.jsxs("div",{className:"relative group",children:[m.jsx("input",{type:T?"text":"password",required:!0,value:x,onChange:$=>{_($.target.value),S&&k(null)},className:`w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border rounded-2xl outline-none focus:ring-4 font-bold transition-all text-slate-900 dark:text-white placeholder:text-slate-400 pr-14 ${S?"border-rose-500 dark:border-rose-500 focus:ring-rose-50 dark:focus:ring-rose-900/20":"border-slate-100 dark:border-slate-700 focus:ring-indigo-50 dark:focus:ring-indigo-900/20"}`,placeholder:""}),m.jsx("button",{type:"button",onClick:()=>E(!T),className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 text-slate-400 dark:text-slate-500 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:T?"Ocultar senha":"Mostrar senha",children:T?m.jsx(Z$,{size:18}):m.jsx(eD,{size:18})})]}),S&&m.jsxs("p",{className:"text-xs font-bold text-rose-600 dark:text-rose-400 mt-1 flex items-center gap-1",children:[m.jsx(nu,{size:14})," ",S]})]}),m.jsx("button",{type:"submit",disabled:c,className:"w-full py-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-black text-sm uppercase tracking-widest transition-all shadow-xl shadow-indigo-100 dark:shadow-none flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 mt-4",children:c?m.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:["Acessar Plataforma ",m.jsx(U0,{size:18})]})})]}),m.jsxs("div",{className:"mt-12 flex items-center justify-center gap-2 text-[10px] font-black text-slate-300 dark:text-slate-600 uppercase tracking-widest",children:[m.jsx(Ka,{size:14}),m.jsx("span",{children:"Criptografia BOOKI Unificada Ativa"})]})]})})]})};class dpe extends I.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,n){console.error("React Error:",t),console.error("Error Info:",n)}render(){return this.state.hasError?m.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f8fafc",fontFamily:"Inter, sans-serif",flexDirection:"column",gap:"20px",padding:"20px"},children:m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("h1",{style:{color:"#000",fontSize:"24px",fontWeight:"bold",margin:"0 0 10px 0"},children:" Erro na Aplicao"}),m.jsx("p",{style:{color:"#666",fontSize:"14px",margin:"0"},children:"Verifique o console do navegador para mais detalhes."})]})}):this.props.children}}const XR=document.getElementById("root");if(!XR)throw new Error("Could not find root element to mount to");const fpe=Km.createRoot(XR);fpe.render(m.jsx(I.StrictMode,{children:m.jsx(dpe,{children:m.jsx(cpe,{})})}));
