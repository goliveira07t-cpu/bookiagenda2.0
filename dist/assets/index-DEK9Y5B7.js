(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var MT={exports:{}},fh={},$T={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Symbol.for("react.element"),wR=Symbol.for("react.portal"),_R=Symbol.for("react.fragment"),SR=Symbol.for("react.strict_mode"),ER=Symbol.for("react.profiler"),kR=Symbol.for("react.provider"),TR=Symbol.for("react.context"),AR=Symbol.for("react.forward_ref"),CR=Symbol.for("react.suspense"),PR=Symbol.for("react.memo"),IR=Symbol.for("react.lazy"),px=Symbol.iterator;function NR(e){return e===null||typeof e!="object"?null:(e=px&&e[px]||e["@@iterator"],typeof e=="function"?e:null)}var DT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jT=Object.assign,LT={};function Es(e,t,n){this.props=e,this.context=t,this.refs=LT,this.updater=n||DT}Es.prototype.isReactComponent={};Es.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Es.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function UT(){}UT.prototype=Es.prototype;function Wy(e,t,n){this.props=e,this.context=t,this.refs=LT,this.updater=n||DT}var Ky=Wy.prototype=new UT;Ky.constructor=Wy;jT(Ky,Es.prototype);Ky.isPureReactComponent=!0;var mx=Array.isArray,FT=Object.prototype.hasOwnProperty,Jy={current:null},BT={key:!0,ref:!0,__self:!0,__source:!0};function zT(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)FT.call(t,r)&&!BT.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ec,type:e,key:o,ref:a,props:i,_owner:Jy.current}}function OR(e,t){return{$$typeof:ec,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yy(e){return typeof e=="object"&&e!==null&&e.$$typeof===ec}function RR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gx=/\/+/g;function jp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RR(""+e.key):t.toString(36)}function ld(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ec:case wR:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+jp(a,0):r,mx(i)?(n="",e!=null&&(n=e.replace(gx,"$&/")+"/"),ld(i,t,n,"",function(u){return u})):i!=null&&(Yy(i)&&(i=OR(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(gx,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",mx(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+jp(o,s);a+=ld(o,t,n,l,i)}else if(l=NR(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+jp(o,s++),a+=ld(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function bc(e,t,n){if(e==null)return e;var r=[],i=0;return ld(e,r,"","",function(o){return t.call(n,o,i++)}),r}function MR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},ud={transition:null},$R={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:ud,ReactCurrentOwner:Jy};function VT(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:bc,forEach:function(e,t,n){bc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bc(e,function(){t++}),t},toArray:function(e){return bc(e,function(t){return t})||[]},only:function(e){if(!Yy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=Es;_e.Fragment=_R;_e.Profiler=ER;_e.PureComponent=Wy;_e.StrictMode=SR;_e.Suspense=CR;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$R;_e.act=VT;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jT({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Jy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)FT.call(t,l)&&!BT.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:ec,type:e.type,key:i,ref:o,props:r,_owner:a}};_e.createContext=function(e){return e={$$typeof:TR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kR,_context:e},e.Consumer=e};_e.createElement=zT;_e.createFactory=function(e){var t=zT.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:AR,render:e}};_e.isValidElement=Yy;_e.lazy=function(e){return{$$typeof:IR,_payload:{_status:-1,_result:e},_init:MR}};_e.memo=function(e,t){return{$$typeof:PR,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=ud.transition;ud.transition={};try{e()}finally{ud.transition=t}};_e.unstable_act=VT;_e.useCallback=function(e,t){return tn.current.useCallback(e,t)};_e.useContext=function(e){return tn.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};_e.useEffect=function(e,t){return tn.current.useEffect(e,t)};_e.useId=function(){return tn.current.useId()};_e.useImperativeHandle=function(e,t,n){return tn.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return tn.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return tn.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return tn.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return tn.current.useReducer(e,t,n)};_e.useRef=function(e){return tn.current.useRef(e)};_e.useState=function(e){return tn.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return tn.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return tn.current.useTransition()};_e.version="18.3.1";$T.exports=_e;var O=$T.exports;const I=Oe(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR=O,jR=Symbol.for("react.element"),LR=Symbol.for("react.fragment"),UR=Object.prototype.hasOwnProperty,FR=DR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BR={key:!0,ref:!0,__self:!0,__source:!0};function qT(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)UR.call(t,r)&&!BR.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:jR,type:e,key:o,ref:a,props:i,_owner:FR.current}}fh.Fragment=LR;fh.jsx=qT;fh.jsxs=qT;MT.exports=fh;var m=MT.exports,Xm={},GT={exports:{}},An={},HT={exports:{}},WT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,j){var z=P.length;P.push(j);e:for(;0<z;){var J=z-1>>>1,G=P[J];if(0<i(G,j))P[J]=j,P[z]=G,z=J;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var j=P[0],z=P.pop();if(z!==j){P[0]=z;e:for(var J=0,G=P.length,oe=G>>>1;J<oe;){var pe=2*(J+1)-1,xe=P[pe],We=pe+1,Ot=P[We];if(0>i(xe,z))We<G&&0>i(Ot,xe)?(P[J]=Ot,P[We]=z,J=We):(P[J]=xe,P[pe]=z,J=pe);else if(We<G&&0>i(Ot,z))P[J]=Ot,P[We]=z,J=We;else break e}}return j}function i(P,j){var z=P.sortIndex-j.sortIndex;return z!==0?z:P.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,g=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(P){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=P)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function k(P){if(b=!1,_(P),!v)if(n(l)!==null)v=!0,U(E);else{var j=n(u);j!==null&&V(k,j.startTime-P)}}function E(P,j){v=!1,b&&(b=!1,w(A),A=-1),g=!0;var z=h;try{for(_(j),d=n(l);d!==null&&(!(d.expirationTime>j)||P&&!R());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var G=J(d.expirationTime<=j);j=e.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),_(j)}else r(l);d=n(l)}if(d!==null)var oe=!0;else{var pe=n(u);pe!==null&&V(k,pe.startTime-j),oe=!1}return oe}finally{d=null,h=z,g=!1}}var S=!1,T=null,A=-1,C=5,N=-1;function R(){return!(e.unstable_now()-N<C)}function M(){if(T!==null){var P=e.unstable_now();N=P;var j=!0;try{j=T(!0,P)}finally{j?L():(S=!1,T=null)}}else S=!1}var L;if(typeof x=="function")L=function(){x(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,D=$.port2;$.port1.onmessage=M,L=function(){D.postMessage(null)}}else L=function(){y(M,0)};function U(P){T=P,S||(S=!0,L())}function V(P,j){A=y(function(){P(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,U(E))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var z=h;h=j;try{return P()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,j){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var z=h;h=P;try{return j()}finally{h=z}},e.unstable_scheduleCallback=function(P,j,z){var J=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=z+G,P={id:c++,callback:j,priorityLevel:P,startTime:z,expirationTime:G,sortIndex:-1},z>J?(P.sortIndex=z,t(u,P),n(l)===null&&P===n(u)&&(b?(w(A),A=-1):b=!0,V(k,z-J))):(P.sortIndex=G,t(l,P),v||g||(v=!0,U(E))),P},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(P){var j=h;return function(){var z=h;h=j;try{return P.apply(this,arguments)}finally{h=z}}}})(WT);HT.exports=WT;var zR=HT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR=O,Tn=zR;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KT=new Set,zl={};function jo(e,t){qa(e,t),qa(e+"Capture",t)}function qa(e,t){for(zl[e]=t,e=0;e<t.length;e++)KT.add(t[e])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qm=Object.prototype.hasOwnProperty,qR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vx={},yx={};function GR(e){return Qm.call(yx,e)?!0:Qm.call(vx,e)?!1:qR.test(e)?yx[e]=!0:(vx[e]=!0,!1)}function HR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WR(e,t,n,r){if(t===null||typeof t>"u"||HR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nn(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xy=/[\-:]([a-z])/g;function Qy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xy,Qy);Lt[t]=new nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xy,Qy);Lt[t]=new nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xy,Qy);Lt[t]=new nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new nn(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zy(e,t,n,r){var i=Lt.hasOwnProperty(t)?Lt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WR(t,n,i,r)&&(n=null),r||i===null?GR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ti=VR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xc=Symbol.for("react.element"),ca=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),e0=Symbol.for("react.strict_mode"),Zm=Symbol.for("react.profiler"),JT=Symbol.for("react.provider"),YT=Symbol.for("react.context"),t0=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.suspense_list"),n0=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),XT=Symbol.for("react.offscreen"),bx=Symbol.iterator;function Js(e){return e===null||typeof e!="object"?null:(e=bx&&e[bx]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,Lp;function vl(e){if(Lp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lp=t&&t[1]||""}return`
`+Lp+e}var Up=!1;function Fp(e,t){if(!e||Up)return"";Up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{Up=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vl(e):""}function KR(e){switch(e.tag){case 5:return vl(e.type);case 16:return vl("Lazy");case 13:return vl("Suspense");case 19:return vl("SuspenseList");case 0:case 2:case 15:return e=Fp(e.type,!1),e;case 11:return e=Fp(e.type.render,!1),e;case 1:return e=Fp(e.type,!0),e;default:return""}}function ng(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case da:return"Fragment";case ca:return"Portal";case Zm:return"Profiler";case e0:return"StrictMode";case eg:return"Suspense";case tg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case YT:return(e.displayName||"Context")+".Consumer";case JT:return(e._context.displayName||"Context")+".Provider";case t0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case n0:return t=e.displayName||null,t!==null?t:ng(e.type)||"Memo";case fi:t=e._payload,e=e._init;try{return ng(e(t))}catch{}}return null}function JR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ng(t);case 8:return t===e0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $i(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function QT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YR(e){var t=QT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wc(e){e._valueTracker||(e._valueTracker=YR(e))}function ZT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=QT(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function kd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rg(e,t){var n=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$i(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eA(e,t){t=t.checked,t!=null&&Zy(e,"checked",t,!1)}function ig(e,t){eA(e,t);var n=$i(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?og(e,t.type,n):t.hasOwnProperty("defaultValue")&&og(e,t.type,$i(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function og(e,t,n){(t!=="number"||kd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yl=Array.isArray;function Na(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$i(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ag(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _x(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(yl(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$i(n)}}function tA(e,t){var n=$i(t.value),r=$i(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _c,rA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_c=_c||document.createElement("div"),_c.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_c.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var El={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XR=["Webkit","ms","Moz","O"];Object.keys(El).forEach(function(e){XR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),El[t]=El[e]})});function iA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||El.hasOwnProperty(e)&&El[e]?(""+t).trim():t+"px"}function oA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var QR=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lg(e,t){if(t){if(QR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function ug(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cg=null;function r0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dg=null,Oa=null,Ra=null;function Ex(e){if(e=rc(e)){if(typeof dg!="function")throw Error(W(280));var t=e.stateNode;t&&(t=vh(t),dg(e.stateNode,e.type,t))}}function aA(e){Oa?Ra?Ra.push(e):Ra=[e]:Oa=e}function sA(){if(Oa){var e=Oa,t=Ra;if(Ra=Oa=null,Ex(e),t)for(e=0;e<t.length;e++)Ex(t[e])}}function lA(e,t){return e(t)}function uA(){}var Bp=!1;function cA(e,t,n){if(Bp)return e(t,n);Bp=!0;try{return lA(e,t,n)}finally{Bp=!1,(Oa!==null||Ra!==null)&&(uA(),sA())}}function ql(e,t){var n=e.stateNode;if(n===null)return null;var r=vh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var fg=!1;if(Wr)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){fg=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{fg=!1}function ZR(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var kl=!1,Td=null,Ad=!1,hg=null,eM={onError:function(e){kl=!0,Td=e}};function tM(e,t,n,r,i,o,a,s,l){kl=!1,Td=null,ZR.apply(eM,arguments)}function nM(e,t,n,r,i,o,a,s,l){if(tM.apply(this,arguments),kl){if(kl){var u=Td;kl=!1,Td=null}else throw Error(W(198));Ad||(Ad=!0,hg=u)}}function Lo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kx(e){if(Lo(e)!==e)throw Error(W(188))}function rM(e){var t=e.alternate;if(!t){if(t=Lo(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return kx(i),e;if(o===r)return kx(i),t;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function fA(e){return e=rM(e),e!==null?hA(e):null}function hA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hA(e);if(t!==null)return t;e=e.sibling}return null}var pA=Tn.unstable_scheduleCallback,Tx=Tn.unstable_cancelCallback,iM=Tn.unstable_shouldYield,oM=Tn.unstable_requestPaint,ut=Tn.unstable_now,aM=Tn.unstable_getCurrentPriorityLevel,i0=Tn.unstable_ImmediatePriority,mA=Tn.unstable_UserBlockingPriority,Cd=Tn.unstable_NormalPriority,sM=Tn.unstable_LowPriority,gA=Tn.unstable_IdlePriority,hh=null,br=null;function lM(e){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(hh,e,void 0,(e.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:dM,uM=Math.log,cM=Math.LN2;function dM(e){return e>>>=0,e===0?32:31-(uM(e)/cM|0)|0}var Sc=64,Ec=4194304;function bl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=bl(s):(o&=a,o!==0&&(r=bl(o)))}else a=n&~i,a!==0?r=bl(a):o!==0&&(r=bl(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ir(t),i=1<<n,r|=e[n],t&=~i;return r}function fM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ir(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=fM(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function pg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vA(){var e=Sc;return Sc<<=1,!(Sc&4194240)&&(Sc=64),e}function zp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ir(t),e[t]=n}function pM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ir(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function o0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ir(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Me=0;function yA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bA,a0,xA,wA,_A,mg=!1,kc=[],ki=null,Ti=null,Ai=null,Gl=new Map,Hl=new Map,gi=[],mM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ax(e,t){switch(e){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Gl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(t.pointerId)}}function Xs(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=rc(t),t!==null&&a0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gM(e,t,n,r,i){switch(t){case"focusin":return ki=Xs(ki,e,t,n,r,i),!0;case"dragenter":return Ti=Xs(Ti,e,t,n,r,i),!0;case"mouseover":return Ai=Xs(Ai,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Gl.set(o,Xs(Gl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Hl.set(o,Xs(Hl.get(o)||null,e,t,n,r,i)),!0}return!1}function SA(e){var t=fo(e.target);if(t!==null){var n=Lo(t);if(n!==null){if(t=n.tag,t===13){if(t=dA(n),t!==null){e.blockedOn=t,_A(e.priority,function(){xA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);cg=r,n.target.dispatchEvent(r),cg=null}else return t=rc(n),t!==null&&a0(t),e.blockedOn=n,!1;t.shift()}return!0}function Cx(e,t,n){cd(e)&&n.delete(t)}function vM(){mg=!1,ki!==null&&cd(ki)&&(ki=null),Ti!==null&&cd(Ti)&&(Ti=null),Ai!==null&&cd(Ai)&&(Ai=null),Gl.forEach(Cx),Hl.forEach(Cx)}function Qs(e,t){e.blockedOn===t&&(e.blockedOn=null,mg||(mg=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,vM)))}function Wl(e){function t(i){return Qs(i,e)}if(0<kc.length){Qs(kc[0],e);for(var n=1;n<kc.length;n++){var r=kc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ki!==null&&Qs(ki,e),Ti!==null&&Qs(Ti,e),Ai!==null&&Qs(Ai,e),Gl.forEach(t),Hl.forEach(t),n=0;n<gi.length;n++)r=gi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)SA(n),n.blockedOn===null&&gi.shift()}var Ma=ti.ReactCurrentBatchConfig,Id=!0;function yM(e,t,n,r){var i=Me,o=Ma.transition;Ma.transition=null;try{Me=1,s0(e,t,n,r)}finally{Me=i,Ma.transition=o}}function bM(e,t,n,r){var i=Me,o=Ma.transition;Ma.transition=null;try{Me=4,s0(e,t,n,r)}finally{Me=i,Ma.transition=o}}function s0(e,t,n,r){if(Id){var i=gg(e,t,n,r);if(i===null)Qp(e,t,r,Nd,n),Ax(e,r);else if(gM(i,e,t,n,r))r.stopPropagation();else if(Ax(e,r),t&4&&-1<mM.indexOf(e)){for(;i!==null;){var o=rc(i);if(o!==null&&bA(o),o=gg(e,t,n,r),o===null&&Qp(e,t,r,Nd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Qp(e,t,r,null,n)}}var Nd=null;function gg(e,t,n,r){if(Nd=null,e=r0(r),e=fo(e),e!==null)if(t=Lo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nd=e,null}function EA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aM()){case i0:return 1;case mA:return 4;case Cd:case sM:return 16;case gA:return 536870912;default:return 16}default:return 16}}var xi=null,l0=null,dd=null;function kA(){if(dd)return dd;var e,t=l0,n=t.length,r,i="value"in xi?xi.value:xi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return dd=i.slice(e,1<r?1-r:void 0)}function fd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tc(){return!0}function Px(){return!1}function Cn(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Tc:Px,this.isPropagationStopped=Px,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tc)},persist:function(){},isPersistent:Tc}),t}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u0=Cn(ks),nc=ot({},ks,{view:0,detail:0}),xM=Cn(nc),Vp,qp,Zs,ph=ot({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zs&&(Zs&&e.type==="mousemove"?(Vp=e.screenX-Zs.screenX,qp=e.screenY-Zs.screenY):qp=Vp=0,Zs=e),Vp)},movementY:function(e){return"movementY"in e?e.movementY:qp}}),Ix=Cn(ph),wM=ot({},ph,{dataTransfer:0}),_M=Cn(wM),SM=ot({},nc,{relatedTarget:0}),Gp=Cn(SM),EM=ot({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),kM=Cn(EM),TM=ot({},ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AM=Cn(TM),CM=ot({},ks,{data:0}),Nx=Cn(CM),PM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NM[e])?!!t[e]:!1}function c0(){return OM}var RM=ot({},nc,{key:function(e){if(e.key){var t=PM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c0,charCode:function(e){return e.type==="keypress"?fd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MM=Cn(RM),$M=ot({},ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ox=Cn($M),DM=ot({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c0}),jM=Cn(DM),LM=ot({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),UM=Cn(LM),FM=ot({},ph,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),BM=Cn(FM),zM=[9,13,27,32],d0=Wr&&"CompositionEvent"in window,Tl=null;Wr&&"documentMode"in document&&(Tl=document.documentMode);var VM=Wr&&"TextEvent"in window&&!Tl,TA=Wr&&(!d0||Tl&&8<Tl&&11>=Tl),Rx=" ",Mx=!1;function AA(e,t){switch(e){case"keyup":return zM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function qM(e,t){switch(e){case"compositionend":return CA(t);case"keypress":return t.which!==32?null:(Mx=!0,Rx);case"textInput":return e=t.data,e===Rx&&Mx?null:e;default:return null}}function GM(e,t){if(fa)return e==="compositionend"||!d0&&AA(e,t)?(e=kA(),dd=l0=xi=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return TA&&t.locale!=="ko"?null:t.data;default:return null}}var HM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $x(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HM[e.type]:t==="textarea"}function PA(e,t,n,r){aA(r),t=Od(t,"onChange"),0<t.length&&(n=new u0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Al=null,Kl=null;function WM(e){FA(e,0)}function mh(e){var t=ma(e);if(ZT(t))return e}function KM(e,t){if(e==="change")return t}var IA=!1;if(Wr){var Hp;if(Wr){var Wp="oninput"in document;if(!Wp){var Dx=document.createElement("div");Dx.setAttribute("oninput","return;"),Wp=typeof Dx.oninput=="function"}Hp=Wp}else Hp=!1;IA=Hp&&(!document.documentMode||9<document.documentMode)}function jx(){Al&&(Al.detachEvent("onpropertychange",NA),Kl=Al=null)}function NA(e){if(e.propertyName==="value"&&mh(Kl)){var t=[];PA(t,Kl,e,r0(e)),cA(WM,t)}}function JM(e,t,n){e==="focusin"?(jx(),Al=t,Kl=n,Al.attachEvent("onpropertychange",NA)):e==="focusout"&&jx()}function YM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mh(Kl)}function XM(e,t){if(e==="click")return mh(t)}function QM(e,t){if(e==="input"||e==="change")return mh(t)}function ZM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ur=typeof Object.is=="function"?Object.is:ZM;function Jl(e,t){if(ur(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qm.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function Lx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ux(e,t){var n=Lx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lx(n)}}function OA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?OA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RA(){for(var e=window,t=kd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=kd(e.document)}return t}function f0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e$(e){var t=RA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&OA(n.ownerDocument.documentElement,n)){if(r!==null&&f0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Ux(n,o);var a=Ux(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t$=Wr&&"documentMode"in document&&11>=document.documentMode,ha=null,vg=null,Cl=null,yg=!1;function Fx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yg||ha==null||ha!==kd(r)||(r=ha,"selectionStart"in r&&f0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cl&&Jl(Cl,r)||(Cl=r,r=Od(vg,"onSelect"),0<r.length&&(t=new u0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ha)))}function Ac(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pa={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},Kp={},MA={};Wr&&(MA=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function gh(e){if(Kp[e])return Kp[e];if(!pa[e])return e;var t=pa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in MA)return Kp[e]=t[n];return e}var $A=gh("animationend"),DA=gh("animationiteration"),jA=gh("animationstart"),LA=gh("transitionend"),UA=new Map,Bx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(e,t){UA.set(e,t),jo(t,[e])}for(var Jp=0;Jp<Bx.length;Jp++){var Yp=Bx[Jp],n$=Yp.toLowerCase(),r$=Yp[0].toUpperCase()+Yp.slice(1);ji(n$,"on"+r$)}ji($A,"onAnimationEnd");ji(DA,"onAnimationIteration");ji(jA,"onAnimationStart");ji("dblclick","onDoubleClick");ji("focusin","onFocus");ji("focusout","onBlur");ji(LA,"onTransitionEnd");qa("onMouseEnter",["mouseout","mouseover"]);qa("onMouseLeave",["mouseout","mouseover"]);qa("onPointerEnter",["pointerout","pointerover"]);qa("onPointerLeave",["pointerout","pointerover"]);jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i$=new Set("cancel close invalid load scroll toggle".split(" ").concat(xl));function zx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nM(r,t,void 0,e),e.currentTarget=null}function FA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;zx(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;zx(i,s,u),o=l}}}if(Ad)throw e=hg,Ad=!1,hg=null,e}function Ye(e,t){var n=t[Sg];n===void 0&&(n=t[Sg]=new Set);var r=e+"__bubble";n.has(r)||(BA(t,e,2,!1),n.add(r))}function Xp(e,t,n){var r=0;t&&(r|=4),BA(n,e,r,t)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Yl(e){if(!e[Cc]){e[Cc]=!0,KT.forEach(function(n){n!=="selectionchange"&&(i$.has(n)||Xp(n,!1,e),Xp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cc]||(t[Cc]=!0,Xp("selectionchange",!1,t))}}function BA(e,t,n,r){switch(EA(t)){case 1:var i=yM;break;case 4:i=bM;break;default:i=s0}n=i.bind(null,t,n,e),i=void 0,!fg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Qp(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=fo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}cA(function(){var u=o,c=r0(n),d=[];e:{var h=UA.get(e);if(h!==void 0){var g=u0,v=e;switch(e){case"keypress":if(fd(n)===0)break e;case"keydown":case"keyup":g=MM;break;case"focusin":v="focus",g=Gp;break;case"focusout":v="blur",g=Gp;break;case"beforeblur":case"afterblur":g=Gp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ix;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_M;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=jM;break;case $A:case DA:case jA:g=kM;break;case LA:g=UM;break;case"scroll":g=xM;break;case"wheel":g=BM;break;case"copy":case"cut":case"paste":g=AM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ox}var b=(t&4)!==0,y=!b&&e==="scroll",w=b?h!==null?h+"Capture":null:h;b=[];for(var x=u,_;x!==null;){_=x;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,w!==null&&(k=ql(x,w),k!=null&&b.push(Xl(x,k,_)))),y)break;x=x.return}0<b.length&&(h=new g(h,v,null,n,c),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==cg&&(v=n.relatedTarget||n.fromElement)&&(fo(v)||v[Kr]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?fo(v):null,v!==null&&(y=Lo(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(b=Ix,k="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=Ox,k="onPointerLeave",w="onPointerEnter",x="pointer"),y=g==null?h:ma(g),_=v==null?h:ma(v),h=new b(k,x+"leave",g,n,c),h.target=y,h.relatedTarget=_,k=null,fo(c)===u&&(b=new b(w,x+"enter",v,n,c),b.target=_,b.relatedTarget=y,k=b),y=k,g&&v)t:{for(b=g,w=v,x=0,_=b;_;_=Jo(_))x++;for(_=0,k=w;k;k=Jo(k))_++;for(;0<x-_;)b=Jo(b),x--;for(;0<_-x;)w=Jo(w),_--;for(;x--;){if(b===w||w!==null&&b===w.alternate)break t;b=Jo(b),w=Jo(w)}b=null}else b=null;g!==null&&Vx(d,h,g,b,!1),v!==null&&y!==null&&Vx(d,y,v,b,!0)}}e:{if(h=u?ma(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var E=KM;else if($x(h))if(IA)E=QM;else{E=YM;var S=JM}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=XM);if(E&&(E=E(e,u))){PA(d,E,n,c);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&og(h,"number",h.value)}switch(S=u?ma(u):window,e){case"focusin":($x(S)||S.contentEditable==="true")&&(ha=S,vg=u,Cl=null);break;case"focusout":Cl=vg=ha=null;break;case"mousedown":yg=!0;break;case"contextmenu":case"mouseup":case"dragend":yg=!1,Fx(d,n,c);break;case"selectionchange":if(t$)break;case"keydown":case"keyup":Fx(d,n,c)}var T;if(d0)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else fa?AA(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(TA&&n.locale!=="ko"&&(fa||A!=="onCompositionStart"?A==="onCompositionEnd"&&fa&&(T=kA()):(xi=c,l0="value"in xi?xi.value:xi.textContent,fa=!0)),S=Od(u,A),0<S.length&&(A=new Nx(A,e,null,n,c),d.push({event:A,listeners:S}),T?A.data=T:(T=CA(n),T!==null&&(A.data=T)))),(T=VM?qM(e,n):GM(e,n))&&(u=Od(u,"onBeforeInput"),0<u.length&&(c=new Nx("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}FA(d,t)})}function Xl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Od(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ql(e,n),o!=null&&r.unshift(Xl(e,o,i)),o=ql(e,t),o!=null&&r.push(Xl(e,o,i))),e=e.return}return r}function Jo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vx(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=ql(n,o),l!=null&&a.unshift(Xl(n,l,s))):i||(l=ql(n,o),l!=null&&a.push(Xl(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var o$=/\r\n?/g,a$=/\u0000|\uFFFD/g;function qx(e){return(typeof e=="string"?e:""+e).replace(o$,`
`).replace(a$,"")}function Pc(e,t,n){if(t=qx(t),qx(e)!==t&&n)throw Error(W(425))}function Rd(){}var bg=null,xg=null;function wg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,s$=typeof clearTimeout=="function"?clearTimeout:void 0,Gx=typeof Promise=="function"?Promise:void 0,l$=typeof queueMicrotask=="function"?queueMicrotask:typeof Gx<"u"?function(e){return Gx.resolve(null).then(e).catch(u$)}:_g;function u$(e){setTimeout(function(){throw e})}function Zp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Wl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wl(t)}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),gr="__reactFiber$"+Ts,Ql="__reactProps$"+Ts,Kr="__reactContainer$"+Ts,Sg="__reactEvents$"+Ts,c$="__reactListeners$"+Ts,d$="__reactHandles$"+Ts;function fo(e){var t=e[gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kr]||n[gr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hx(e);e!==null;){if(n=e[gr])return n;e=Hx(e)}return t}e=n,n=e.parentNode}return null}function rc(e){return e=e[gr]||e[Kr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ma(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function vh(e){return e[Ql]||null}var Eg=[],ga=-1;function Li(e){return{current:e}}function Ze(e){0>ga||(e.current=Eg[ga],Eg[ga]=null,ga--)}function Ge(e,t){ga++,Eg[ga]=e.current,e.current=t}var Di={},Ht=Li(Di),un=Li(!1),To=Di;function Ga(e,t){var n=e.type.contextTypes;if(!n)return Di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function cn(e){return e=e.childContextTypes,e!=null}function Md(){Ze(un),Ze(Ht)}function Wx(e,t,n){if(Ht.current!==Di)throw Error(W(168));Ge(Ht,t),Ge(un,n)}function zA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(W(108,JR(e)||"Unknown",i));return ot({},n,r)}function $d(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,To=Ht.current,Ge(Ht,e),Ge(un,un.current),!0}function Kx(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=zA(e,t,To),r.__reactInternalMemoizedMergedChildContext=e,Ze(un),Ze(Ht),Ge(Ht,e)):Ze(un),Ge(un,n)}var Dr=null,yh=!1,em=!1;function VA(e){Dr===null?Dr=[e]:Dr.push(e)}function f$(e){yh=!0,VA(e)}function Ui(){if(!em&&Dr!==null){em=!0;var e=0,t=Me;try{var n=Dr;for(Me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dr=null,yh=!1}catch(i){throw Dr!==null&&(Dr=Dr.slice(e+1)),pA(i0,Ui),i}finally{Me=t,em=!1}}return null}var va=[],ya=0,Dd=null,jd=0,On=[],Rn=0,Ao=null,Lr=1,Ur="";function to(e,t){va[ya++]=jd,va[ya++]=Dd,Dd=e,jd=t}function qA(e,t,n){On[Rn++]=Lr,On[Rn++]=Ur,On[Rn++]=Ao,Ao=e;var r=Lr;e=Ur;var i=32-ir(r)-1;r&=~(1<<i),n+=1;var o=32-ir(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Lr=1<<32-ir(t)+i|n<<i|r,Ur=o+e}else Lr=1<<o|n<<i|r,Ur=e}function h0(e){e.return!==null&&(to(e,1),qA(e,1,0))}function p0(e){for(;e===Dd;)Dd=va[--ya],va[ya]=null,jd=va[--ya],va[ya]=null;for(;e===Ao;)Ao=On[--Rn],On[Rn]=null,Ur=On[--Rn],On[Rn]=null,Lr=On[--Rn],On[Rn]=null}var En=null,_n=null,et=!1,nr=null;function GA(e,t){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,En=e,_n=Ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,En=e,_n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ao!==null?{id:Lr,overflow:Ur}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,En=e,_n=null,!0):!1;default:return!1}}function kg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tg(e){if(et){var t=_n;if(t){var n=t;if(!Jx(e,t)){if(kg(e))throw Error(W(418));t=Ci(n.nextSibling);var r=En;t&&Jx(e,t)?GA(r,n):(e.flags=e.flags&-4097|2,et=!1,En=e)}}else{if(kg(e))throw Error(W(418));e.flags=e.flags&-4097|2,et=!1,En=e}}}function Yx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;En=e}function Ic(e){if(e!==En)return!1;if(!et)return Yx(e),et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wg(e.type,e.memoizedProps)),t&&(t=_n)){if(kg(e))throw HA(),Error(W(418));for(;t;)GA(e,t),t=Ci(t.nextSibling)}if(Yx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_n=Ci(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_n=null}}else _n=En?Ci(e.stateNode.nextSibling):null;return!0}function HA(){for(var e=_n;e;)e=Ci(e.nextSibling)}function Ha(){_n=En=null,et=!1}function m0(e){nr===null?nr=[e]:nr.push(e)}var h$=ti.ReactCurrentBatchConfig;function el(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Nc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xx(e){var t=e._init;return t(e._payload)}function WA(e){function t(w,x){if(e){var _=w.deletions;_===null?(w.deletions=[x],w.flags|=16):_.push(x)}}function n(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=Oi(w,x),w.index=0,w.sibling=null,w}function o(w,x,_){return w.index=_,e?(_=w.alternate,_!==null?(_=_.index,_<x?(w.flags|=2,x):_):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function s(w,x,_,k){return x===null||x.tag!==6?(x=sm(_,w.mode,k),x.return=w,x):(x=i(x,_),x.return=w,x)}function l(w,x,_,k){var E=_.type;return E===da?c(w,x,_.props.children,k,_.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fi&&Xx(E)===x.type)?(k=i(x,_.props),k.ref=el(w,x,_),k.return=w,k):(k=bd(_.type,_.key,_.props,null,w.mode,k),k.ref=el(w,x,_),k.return=w,k)}function u(w,x,_,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=lm(_,w.mode,k),x.return=w,x):(x=i(x,_.children||[]),x.return=w,x)}function c(w,x,_,k,E){return x===null||x.tag!==7?(x=_o(_,w.mode,k,E),x.return=w,x):(x=i(x,_),x.return=w,x)}function d(w,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=sm(""+x,w.mode,_),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xc:return _=bd(x.type,x.key,x.props,null,w.mode,_),_.ref=el(w,null,x),_.return=w,_;case ca:return x=lm(x,w.mode,_),x.return=w,x;case fi:var k=x._init;return d(w,k(x._payload),_)}if(yl(x)||Js(x))return x=_o(x,w.mode,_,null),x.return=w,x;Nc(w,x)}return null}function h(w,x,_,k){var E=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:s(w,x,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xc:return _.key===E?l(w,x,_,k):null;case ca:return _.key===E?u(w,x,_,k):null;case fi:return E=_._init,h(w,x,E(_._payload),k)}if(yl(_)||Js(_))return E!==null?null:c(w,x,_,k,null);Nc(w,_)}return null}function g(w,x,_,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(_)||null,s(x,w,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case xc:return w=w.get(k.key===null?_:k.key)||null,l(x,w,k,E);case ca:return w=w.get(k.key===null?_:k.key)||null,u(x,w,k,E);case fi:var S=k._init;return g(w,x,_,S(k._payload),E)}if(yl(k)||Js(k))return w=w.get(_)||null,c(x,w,k,E,null);Nc(x,k)}return null}function v(w,x,_,k){for(var E=null,S=null,T=x,A=x=0,C=null;T!==null&&A<_.length;A++){T.index>A?(C=T,T=null):C=T.sibling;var N=h(w,T,_[A],k);if(N===null){T===null&&(T=C);break}e&&T&&N.alternate===null&&t(w,T),x=o(N,x,A),S===null?E=N:S.sibling=N,S=N,T=C}if(A===_.length)return n(w,T),et&&to(w,A),E;if(T===null){for(;A<_.length;A++)T=d(w,_[A],k),T!==null&&(x=o(T,x,A),S===null?E=T:S.sibling=T,S=T);return et&&to(w,A),E}for(T=r(w,T);A<_.length;A++)C=g(T,w,A,_[A],k),C!==null&&(e&&C.alternate!==null&&T.delete(C.key===null?A:C.key),x=o(C,x,A),S===null?E=C:S.sibling=C,S=C);return e&&T.forEach(function(R){return t(w,R)}),et&&to(w,A),E}function b(w,x,_,k){var E=Js(_);if(typeof E!="function")throw Error(W(150));if(_=E.call(_),_==null)throw Error(W(151));for(var S=E=null,T=x,A=x=0,C=null,N=_.next();T!==null&&!N.done;A++,N=_.next()){T.index>A?(C=T,T=null):C=T.sibling;var R=h(w,T,N.value,k);if(R===null){T===null&&(T=C);break}e&&T&&R.alternate===null&&t(w,T),x=o(R,x,A),S===null?E=R:S.sibling=R,S=R,T=C}if(N.done)return n(w,T),et&&to(w,A),E;if(T===null){for(;!N.done;A++,N=_.next())N=d(w,N.value,k),N!==null&&(x=o(N,x,A),S===null?E=N:S.sibling=N,S=N);return et&&to(w,A),E}for(T=r(w,T);!N.done;A++,N=_.next())N=g(T,w,A,N.value,k),N!==null&&(e&&N.alternate!==null&&T.delete(N.key===null?A:N.key),x=o(N,x,A),S===null?E=N:S.sibling=N,S=N);return e&&T.forEach(function(M){return t(w,M)}),et&&to(w,A),E}function y(w,x,_,k){if(typeof _=="object"&&_!==null&&_.type===da&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case xc:e:{for(var E=_.key,S=x;S!==null;){if(S.key===E){if(E=_.type,E===da){if(S.tag===7){n(w,S.sibling),x=i(S,_.props.children),x.return=w,w=x;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fi&&Xx(E)===S.type){n(w,S.sibling),x=i(S,_.props),x.ref=el(w,S,_),x.return=w,w=x;break e}n(w,S);break}else t(w,S);S=S.sibling}_.type===da?(x=_o(_.props.children,w.mode,k,_.key),x.return=w,w=x):(k=bd(_.type,_.key,_.props,null,w.mode,k),k.ref=el(w,x,_),k.return=w,w=k)}return a(w);case ca:e:{for(S=_.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(w,x.sibling),x=i(x,_.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else t(w,x);x=x.sibling}x=lm(_,w.mode,k),x.return=w,w=x}return a(w);case fi:return S=_._init,y(w,x,S(_._payload),k)}if(yl(_))return v(w,x,_,k);if(Js(_))return b(w,x,_,k);Nc(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(w,x.sibling),x=i(x,_),x.return=w,w=x):(n(w,x),x=sm(_,w.mode,k),x.return=w,w=x),a(w)):n(w,x)}return y}var Wa=WA(!0),KA=WA(!1),Ld=Li(null),Ud=null,ba=null,g0=null;function v0(){g0=ba=Ud=null}function y0(e){var t=Ld.current;Ze(Ld),e._currentValue=t}function Ag(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $a(e,t){Ud=e,g0=ba=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sn=!0),e.firstContext=null)}function Un(e){var t=e._currentValue;if(g0!==e)if(e={context:e,memoizedValue:t,next:null},ba===null){if(Ud===null)throw Error(W(308));ba=e,Ud.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var ho=null;function b0(e){ho===null?ho=[e]:ho.push(e)}function JA(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,b0(t)):(n.next=i.next,i.next=n),t.interleaved=n,Jr(e,r)}function Jr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var hi=!1;function x0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Jr(e,n)}return i=r.interleaved,i===null?(t.next=t,b0(r)):(t.next=i.next,i.next=t),r.interleaved=t,Jr(e,n)}function hd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,o0(e,n)}}function Qx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fd(e,t,n,r){var i=e.updateQueue;hi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,b=s;switch(h=t,g=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){d=v.call(g,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(g,d,h):v,h==null)break e;d=ot({},d,h);break e;case 2:hi=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Po|=a,e.lanes=a,e.memoizedState=d}}function Zx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var ic={},xr=Li(ic),Zl=Li(ic),eu=Li(ic);function po(e){if(e===ic)throw Error(W(174));return e}function w0(e,t){switch(Ge(eu,t),Ge(Zl,e),Ge(xr,ic),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sg(t,e)}Ze(xr),Ge(xr,t)}function Ka(){Ze(xr),Ze(Zl),Ze(eu)}function XA(e){po(eu.current);var t=po(xr.current),n=sg(t,e.type);t!==n&&(Ge(Zl,e),Ge(xr,n))}function _0(e){Zl.current===e&&(Ze(xr),Ze(Zl))}var rt=Li(0);function Bd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tm=[];function S0(){for(var e=0;e<tm.length;e++)tm[e]._workInProgressVersionPrimary=null;tm.length=0}var pd=ti.ReactCurrentDispatcher,nm=ti.ReactCurrentBatchConfig,Co=0,it=null,bt=null,Tt=null,zd=!1,Pl=!1,tu=0,p$=0;function Bt(){throw Error(W(321))}function E0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function k0(e,t,n,r,i,o){if(Co=o,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pd.current=e===null||e.memoizedState===null?y$:b$,e=n(r,i),Pl){o=0;do{if(Pl=!1,tu=0,25<=o)throw Error(W(301));o+=1,Tt=bt=null,t.updateQueue=null,pd.current=x$,e=n(r,i)}while(Pl)}if(pd.current=Vd,t=bt!==null&&bt.next!==null,Co=0,Tt=bt=it=null,zd=!1,t)throw Error(W(300));return e}function T0(){var e=tu!==0;return tu=0,e}function mr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?it.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function Fn(){if(bt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=Tt===null?it.memoizedState:Tt.next;if(t!==null)Tt=t,bt=e;else{if(e===null)throw Error(W(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Tt===null?it.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function nu(e,t){return typeof t=="function"?t(e):t}function rm(e){var t=Fn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=bt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Co&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,it.lanes|=c,Po|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,ur(r,t.memoizedState)||(sn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,it.lanes|=o,Po|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function im(e){var t=Fn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);ur(o,t.memoizedState)||(sn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function QA(){}function ZA(e,t){var n=it,r=Fn(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,sn=!0),r=r.queue,A0(nC.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,ru(9,tC.bind(null,n,r,i,t),void 0,null),Pt===null)throw Error(W(349));Co&30||eC(n,t,i)}return i}function eC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tC(e,t,n,r){t.value=n,t.getSnapshot=r,rC(t)&&iC(e)}function nC(e,t,n){return n(function(){rC(t)&&iC(e)})}function rC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch{return!0}}function iC(e){var t=Jr(e,1);t!==null&&or(t,e,1,-1)}function ew(e){var t=mr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:e},t.queue=e,e=e.dispatch=v$.bind(null,it,e),[t.memoizedState,e]}function ru(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function oC(){return Fn().memoizedState}function md(e,t,n,r){var i=mr();it.flags|=e,i.memoizedState=ru(1|t,n,void 0,r===void 0?null:r)}function bh(e,t,n,r){var i=Fn();r=r===void 0?null:r;var o=void 0;if(bt!==null){var a=bt.memoizedState;if(o=a.destroy,r!==null&&E0(r,a.deps)){i.memoizedState=ru(t,n,o,r);return}}it.flags|=e,i.memoizedState=ru(1|t,n,o,r)}function tw(e,t){return md(8390656,8,e,t)}function A0(e,t){return bh(2048,8,e,t)}function aC(e,t){return bh(4,2,e,t)}function sC(e,t){return bh(4,4,e,t)}function lC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uC(e,t,n){return n=n!=null?n.concat([e]):null,bh(4,4,lC.bind(null,t,e),n)}function C0(){}function cC(e,t){var n=Fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&E0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dC(e,t){var n=Fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&E0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fC(e,t,n){return Co&21?(ur(n,t)||(n=vA(),it.lanes|=n,Po|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sn=!0),e.memoizedState=n)}function m$(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var r=nm.transition;nm.transition={};try{e(!1),t()}finally{Me=n,nm.transition=r}}function hC(){return Fn().memoizedState}function g$(e,t,n){var r=Ni(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pC(e))mC(t,n);else if(n=JA(e,t,n,r),n!==null){var i=Zt();or(n,e,r,i),gC(n,t,r)}}function v$(e,t,n){var r=Ni(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pC(e))mC(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ur(s,a)){var l=t.interleaved;l===null?(i.next=i,b0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=JA(e,t,i,r),n!==null&&(i=Zt(),or(n,e,r,i),gC(n,t,r))}}function pC(e){var t=e.alternate;return e===it||t!==null&&t===it}function mC(e,t){Pl=zd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,o0(e,n)}}var Vd={readContext:Un,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},y$={readContext:Un,useCallback:function(e,t){return mr().memoizedState=[e,t===void 0?null:t],e},useContext:Un,useEffect:tw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,md(4194308,4,lC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return md(4194308,4,e,t)},useInsertionEffect:function(e,t){return md(4,2,e,t)},useMemo:function(e,t){var n=mr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=g$.bind(null,it,e),[r.memoizedState,e]},useRef:function(e){var t=mr();return e={current:e},t.memoizedState=e},useState:ew,useDebugValue:C0,useDeferredValue:function(e){return mr().memoizedState=e},useTransition:function(){var e=ew(!1),t=e[0];return e=m$.bind(null,e[1]),mr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=it,i=mr();if(et){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),Pt===null)throw Error(W(349));Co&30||eC(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,tw(nC.bind(null,r,o,e),[e]),r.flags|=2048,ru(9,tC.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=mr(),t=Pt.identifierPrefix;if(et){var n=Ur,r=Lr;n=(r&~(1<<32-ir(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=tu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=p$++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},b$={readContext:Un,useCallback:cC,useContext:Un,useEffect:A0,useImperativeHandle:uC,useInsertionEffect:aC,useLayoutEffect:sC,useMemo:dC,useReducer:rm,useRef:oC,useState:function(){return rm(nu)},useDebugValue:C0,useDeferredValue:function(e){var t=Fn();return fC(t,bt.memoizedState,e)},useTransition:function(){var e=rm(nu)[0],t=Fn().memoizedState;return[e,t]},useMutableSource:QA,useSyncExternalStore:ZA,useId:hC,unstable_isNewReconciler:!1},x$={readContext:Un,useCallback:cC,useContext:Un,useEffect:A0,useImperativeHandle:uC,useInsertionEffect:aC,useLayoutEffect:sC,useMemo:dC,useReducer:im,useRef:oC,useState:function(){return im(nu)},useDebugValue:C0,useDeferredValue:function(e){var t=Fn();return bt===null?t.memoizedState=e:fC(t,bt.memoizedState,e)},useTransition:function(){var e=im(nu)[0],t=Fn().memoizedState;return[e,t]},useMutableSource:QA,useSyncExternalStore:ZA,useId:hC,unstable_isNewReconciler:!1};function Yn(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Cg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xh={isMounted:function(e){return(e=e._reactInternals)?Lo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zt(),i=Ni(e),o=Vr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Pi(e,o,i),t!==null&&(or(t,e,i,r),hd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zt(),i=Ni(e),o=Vr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Pi(e,o,i),t!==null&&(or(t,e,i,r),hd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zt(),r=Ni(e),i=Vr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Pi(e,i,r),t!==null&&(or(t,e,r,n),hd(t,e,r))}};function nw(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Jl(n,r)||!Jl(i,o):!0}function vC(e,t,n){var r=!1,i=Di,o=t.contextType;return typeof o=="object"&&o!==null?o=Un(o):(i=cn(t)?To:Ht.current,r=t.contextTypes,o=(r=r!=null)?Ga(e,i):Di),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function rw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xh.enqueueReplaceState(t,t.state,null)}function Pg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},x0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Un(o):(o=cn(t)?To:Ht.current,i.context=Ga(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Cg(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&xh.enqueueReplaceState(i,i.state,null),Fd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ja(e,t){try{var n="",r=t;do n+=KR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function om(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ig(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var w$=typeof WeakMap=="function"?WeakMap:Map;function yC(e,t,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gd||(Gd=!0,Fg=r),Ig(e,t)},n}function bC(e,t,n){n=Vr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ig(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ig(e,t),typeof r!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function iw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new w$;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$$.bind(null,e,t,n),t.then(e,e))}function ow(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function aw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vr(-1,1),t.tag=2,Pi(n,t,1))),n.lanes|=1),e)}var _$=ti.ReactCurrentOwner,sn=!1;function Jt(e,t,n,r){t.child=e===null?KA(t,null,n,r):Wa(t,e.child,n,r)}function sw(e,t,n,r,i){n=n.render;var o=t.ref;return $a(t,i),r=k0(e,t,n,r,o,i),n=T0(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yr(e,t,i)):(et&&n&&h0(t),t.flags|=1,Jt(e,t,r,i),t.child)}function lw(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!D0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,xC(e,t,o,r,i)):(e=bd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Jl,n(a,r)&&e.ref===t.ref)return Yr(e,t,i)}return t.flags|=1,e=Oi(o,r),e.ref=t.ref,e.return=t,t.child=e}function xC(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Jl(o,r)&&e.ref===t.ref)if(sn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(sn=!0);else return t.lanes=e.lanes,Yr(e,t,i)}return Ng(e,t,n,r,i)}function wC(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(wa,yn),yn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(wa,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(wa,yn),yn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ge(wa,yn),yn|=r;return Jt(e,t,i,n),t.child}function _C(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ng(e,t,n,r,i){var o=cn(n)?To:Ht.current;return o=Ga(t,o),$a(t,i),n=k0(e,t,n,r,o,i),r=T0(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yr(e,t,i)):(et&&r&&h0(t),t.flags|=1,Jt(e,t,n,i),t.child)}function uw(e,t,n,r,i){if(cn(n)){var o=!0;$d(t)}else o=!1;if($a(t,i),t.stateNode===null)gd(e,t),vC(t,n,r),Pg(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Un(u):(u=cn(n)?To:Ht.current,u=Ga(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&rw(t,a,r,u),hi=!1;var h=t.memoizedState;a.state=h,Fd(t,r,a,i),l=t.memoizedState,s!==r||h!==l||un.current||hi?(typeof c=="function"&&(Cg(t,n,c,r),l=t.memoizedState),(s=hi||nw(t,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,YA(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Yn(t.type,s),a.props=u,d=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=cn(n)?To:Ht.current,l=Ga(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&rw(t,a,r,l),hi=!1,h=t.memoizedState,a.state=h,Fd(t,r,a,i);var v=t.memoizedState;s!==d||h!==v||un.current||hi?(typeof g=="function"&&(Cg(t,n,g,r),v=t.memoizedState),(u=hi||nw(t,n,u,r,h,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Og(e,t,n,r,o,i)}function Og(e,t,n,r,i,o){_C(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Kx(t,n,!1),Yr(e,t,o);r=t.stateNode,_$.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Wa(t,e.child,null,o),t.child=Wa(t,null,s,o)):Jt(e,t,s,o),t.memoizedState=r.state,i&&Kx(t,n,!0),t.child}function SC(e){var t=e.stateNode;t.pendingContext?Wx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wx(e,t.context,!1),w0(e,t.containerInfo)}function cw(e,t,n,r,i){return Ha(),m0(i),t.flags|=256,Jt(e,t,n,r),t.child}var Rg={dehydrated:null,treeContext:null,retryLane:0};function Mg(e){return{baseLanes:e,cachePool:null,transitions:null}}function EC(e,t,n){var r=t.pendingProps,i=rt.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ge(rt,i&1),e===null)return Tg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Sh(a,r,0,null),e=_o(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mg(n),t.memoizedState=Rg,e):P0(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return S$(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Oi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Oi(s,o):(o=_o(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Mg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Rg,r}return o=e.child,e=o.sibling,r=Oi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function P0(e,t){return t=Sh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oc(e,t,n,r){return r!==null&&m0(r),Wa(t,e.child,null,n),e=P0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function S$(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=om(Error(W(422))),Oc(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Sh({mode:"visible",children:r.children},i,0,null),o=_o(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Wa(t,e.child,null,a),t.child.memoizedState=Mg(a),t.memoizedState=Rg,o);if(!(t.mode&1))return Oc(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(W(419)),r=om(o,r,void 0),Oc(e,t,a,r)}if(s=(a&e.childLanes)!==0,sn||s){if(r=Pt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Jr(e,i),or(r,e,i,-1))}return $0(),r=om(Error(W(421))),Oc(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=D$.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,_n=Ci(i.nextSibling),En=t,et=!0,nr=null,e!==null&&(On[Rn++]=Lr,On[Rn++]=Ur,On[Rn++]=Ao,Lr=e.id,Ur=e.overflow,Ao=t),t=P0(t,r.children),t.flags|=4096,t)}function dw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ag(e.return,t,n)}function am(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function kC(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Jt(e,t,r.children,n),r=rt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dw(e,n,t);else if(e.tag===19)dw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ge(rt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Bd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),am(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Bd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}am(t,!0,n,null,o);break;case"together":am(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Po|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Oi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function E$(e,t,n){switch(t.tag){case 3:SC(t),Ha();break;case 5:XA(t);break;case 1:cn(t.type)&&$d(t);break;case 4:w0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ge(Ld,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ge(rt,rt.current&1),t.flags|=128,null):n&t.child.childLanes?EC(e,t,n):(Ge(rt,rt.current&1),e=Yr(e,t,n),e!==null?e.sibling:null);Ge(rt,rt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(rt,rt.current),r)break;return null;case 22:case 23:return t.lanes=0,wC(e,t,n)}return Yr(e,t,n)}var TC,$g,AC,CC;TC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$g=function(){};AC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,po(xr.current);var o=null;switch(n){case"input":i=rg(e,i),r=rg(e,r),o=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),o=[];break;case"textarea":i=ag(e,i),r=ag(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Rd)}lg(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ye("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};CC=function(e,t,n,r){n!==r&&(t.flags|=4)};function tl(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function k$(e,t,n){var r=t.pendingProps;switch(p0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(t),null;case 1:return cn(t.type)&&Md(),zt(t),null;case 3:return r=t.stateNode,Ka(),Ze(un),Ze(Ht),S0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ic(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nr!==null&&(Vg(nr),nr=null))),$g(e,t),zt(t),null;case 5:_0(t);var i=po(eu.current);if(n=t.type,e!==null&&t.stateNode!=null)AC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return zt(t),null}if(e=po(xr.current),Ic(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[gr]=t,r[Ql]=o,e=(t.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<xl.length;i++)Ye(xl[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":xx(r,o),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ye("invalid",r);break;case"textarea":_x(r,o),Ye("invalid",r)}lg(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Pc(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Pc(r.textContent,s,e),i=["children",""+s]):zl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ye("scroll",r)}switch(n){case"input":wc(r),wx(r,o,!0);break;case"textarea":wc(r),Sx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Rd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nA(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[gr]=t,e[Ql]=r,TC(e,t,!1,!1),t.stateNode=e;e:{switch(a=ug(n,r),n){case"dialog":Ye("cancel",e),Ye("close",e),i=r;break;case"iframe":case"object":case"embed":Ye("load",e),i=r;break;case"video":case"audio":for(i=0;i<xl.length;i++)Ye(xl[i],e);i=r;break;case"source":Ye("error",e),i=r;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),i=r;break;case"details":Ye("toggle",e),i=r;break;case"input":xx(e,r),i=rg(e,r),Ye("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),Ye("invalid",e);break;case"textarea":_x(e,r),i=ag(e,r),Ye("invalid",e);break;default:i=r}lg(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?oA(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rA(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vl(e,l):typeof l=="number"&&Vl(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(zl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ye("scroll",e):l!=null&&Zy(e,o,l,a))}switch(n){case"input":wc(e),wx(e,r,!1);break;case"textarea":wc(e),Sx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$i(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Na(e,!!r.multiple,o,!1):r.defaultValue!=null&&Na(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Rd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zt(t),null;case 6:if(e&&t.stateNode!=null)CC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=po(eu.current),po(xr.current),Ic(t)){if(r=t.stateNode,n=t.memoizedProps,r[gr]=t,(o=r.nodeValue!==n)&&(e=En,e!==null))switch(e.tag){case 3:Pc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gr]=t,t.stateNode=r}return zt(t),null;case 13:if(Ze(rt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(et&&_n!==null&&t.mode&1&&!(t.flags&128))HA(),Ha(),t.flags|=98560,o=!1;else if(o=Ic(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[gr]=t}else Ha(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zt(t),o=!1}else nr!==null&&(Vg(nr),nr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?wt===0&&(wt=3):$0())),t.updateQueue!==null&&(t.flags|=4),zt(t),null);case 4:return Ka(),$g(e,t),e===null&&Yl(t.stateNode.containerInfo),zt(t),null;case 10:return y0(t.type._context),zt(t),null;case 17:return cn(t.type)&&Md(),zt(t),null;case 19:if(Ze(rt),o=t.memoizedState,o===null)return zt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)tl(o,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Bd(e),a!==null){for(t.flags|=128,tl(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(rt,rt.current&1|2),t.child}e=e.sibling}o.tail!==null&&ut()>Ya&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304)}else{if(!r)if(e=Bd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!et)return zt(t),null}else 2*ut()-o.renderingStartTime>Ya&&n!==1073741824&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ut(),t.sibling=null,n=rt.current,Ge(rt,r?n&1|2:n&1),t):(zt(t),null);case 22:case 23:return M0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yn&1073741824&&(zt(t),t.subtreeFlags&6&&(t.flags|=8192)):zt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function T$(e,t){switch(p0(t),t.tag){case 1:return cn(t.type)&&Md(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ka(),Ze(un),Ze(Ht),S0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _0(t),null;case 13:if(Ze(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(rt),null;case 4:return Ka(),null;case 10:return y0(t.type._context),null;case 22:case 23:return M0(),null;case 24:return null;default:return null}}var Rc=!1,qt=!1,A$=typeof WeakSet=="function"?WeakSet:Set,te=null;function xa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(e,t,r)}else n.current=null}function Dg(e,t,n){try{n()}catch(r){st(e,t,r)}}var fw=!1;function C$(e,t){if(bg=Id,e=RA(),f0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xg={focusedElem:e,selectionRange:n},Id=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,y=v.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?b:Yn(t.type,b),y);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(k){st(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return v=fw,fw=!1,v}function Il(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Dg(t,n,o)}i=i.next}while(i!==r)}}function wh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function PC(e){var t=e.alternate;t!==null&&(e.alternate=null,PC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gr],delete t[Ql],delete t[Sg],delete t[c$],delete t[d$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function IC(e){return e.tag===5||e.tag===3||e.tag===4}function hw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||IC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rd));else if(r!==4&&(e=e.child,e!==null))for(Lg(e,t,n),e=e.sibling;e!==null;)Lg(e,t,n),e=e.sibling}function Ug(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ug(e,t,n),e=e.sibling;e!==null;)Ug(e,t,n),e=e.sibling}var Dt=null,Qn=!1;function ci(e,t,n){for(n=n.child;n!==null;)NC(e,t,n),n=n.sibling}function NC(e,t,n){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(hh,n)}catch{}switch(n.tag){case 5:qt||xa(n,t);case 6:var r=Dt,i=Qn;Dt=null,ci(e,t,n),Dt=r,Qn=i,Dt!==null&&(Qn?(e=Dt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(Qn?(e=Dt,n=n.stateNode,e.nodeType===8?Zp(e.parentNode,n):e.nodeType===1&&Zp(e,n),Wl(e)):Zp(Dt,n.stateNode));break;case 4:r=Dt,i=Qn,Dt=n.stateNode.containerInfo,Qn=!0,ci(e,t,n),Dt=r,Qn=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Dg(n,t,a),i=i.next}while(i!==r)}ci(e,t,n);break;case 1:if(!qt&&(xa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){st(n,t,s)}ci(e,t,n);break;case 21:ci(e,t,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,ci(e,t,n),qt=r):ci(e,t,n);break;default:ci(e,t,n)}}function pw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new A$),t.forEach(function(r){var i=j$.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Dt=s.stateNode,Qn=!1;break e;case 3:Dt=s.stateNode.containerInfo,Qn=!0;break e;case 4:Dt=s.stateNode.containerInfo,Qn=!0;break e}s=s.return}if(Dt===null)throw Error(W(160));NC(o,a,i),Dt=null,Qn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){st(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)OC(t,e),t=t.sibling}function OC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wn(t,e),pr(e),r&4){try{Il(3,e,e.return),wh(3,e)}catch(b){st(e,e.return,b)}try{Il(5,e,e.return)}catch(b){st(e,e.return,b)}}break;case 1:Wn(t,e),pr(e),r&512&&n!==null&&xa(n,n.return);break;case 5:if(Wn(t,e),pr(e),r&512&&n!==null&&xa(n,n.return),e.flags&32){var i=e.stateNode;try{Vl(i,"")}catch(b){st(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&eA(i,o),ug(s,a);var u=ug(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?oA(i,d):c==="dangerouslySetInnerHTML"?rA(i,d):c==="children"?Vl(i,d):Zy(i,c,d,u)}switch(s){case"input":ig(i,o);break;case"textarea":tA(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Na(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Na(i,!!o.multiple,o.defaultValue,!0):Na(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ql]=o}catch(b){st(e,e.return,b)}}break;case 6:if(Wn(t,e),pr(e),r&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(b){st(e,e.return,b)}}break;case 3:if(Wn(t,e),pr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wl(t.containerInfo)}catch(b){st(e,e.return,b)}break;case 4:Wn(t,e),pr(e);break;case 13:Wn(t,e),pr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(O0=ut())),r&4&&pw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(qt=(u=qt)||c,Wn(t,e),qt=u):Wn(t,e),pr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(te=e,c=e.child;c!==null;){for(d=te=c;te!==null;){switch(h=te,g=h.child,h.tag){case 0:case 11:case 14:case 15:Il(4,h,h.return);break;case 1:xa(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(b){st(r,n,b)}}break;case 5:xa(h,h.return);break;case 22:if(h.memoizedState!==null){gw(d);continue}}g!==null?(g.return=h,te=g):gw(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=iA("display",a))}catch(b){st(e,e.return,b)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){st(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wn(t,e),pr(e),r&4&&pw(e);break;case 21:break;default:Wn(t,e),pr(e)}}function pr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(IC(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vl(i,""),r.flags&=-33);var o=hw(e);Ug(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=hw(e);Lg(e,s,a);break;default:throw Error(W(161))}}catch(l){st(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function P$(e,t,n){te=e,RC(e)}function RC(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var i=te,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Rc;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||qt;s=Rc;var u=qt;if(Rc=a,(qt=l)&&!u)for(te=i;te!==null;)a=te,l=a.child,a.tag===22&&a.memoizedState!==null?vw(i):l!==null?(l.return=a,te=l):vw(i);for(;o!==null;)te=o,RC(o),o=o.sibling;te=i,Rc=s,qt=u}mw(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,te=o):mw(e)}}function mw(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qt||wh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Yn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Zx(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zx(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Wl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}qt||t.flags&512&&jg(t)}catch(h){st(t,t.return,h)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function gw(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function vw(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wh(4,t)}catch(l){st(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){st(t,i,l)}}var o=t.return;try{jg(t)}catch(l){st(t,o,l)}break;case 5:var a=t.return;try{jg(t)}catch(l){st(t,a,l)}}}catch(l){st(t,t.return,l)}if(t===e){te=null;break}var s=t.sibling;if(s!==null){s.return=t.return,te=s;break}te=t.return}}var I$=Math.ceil,qd=ti.ReactCurrentDispatcher,I0=ti.ReactCurrentOwner,jn=ti.ReactCurrentBatchConfig,Ae=0,Pt=null,ht=null,jt=0,yn=0,wa=Li(0),wt=0,iu=null,Po=0,_h=0,N0=0,Nl=null,on=null,O0=0,Ya=1/0,Or=null,Gd=!1,Fg=null,Ii=null,Mc=!1,wi=null,Hd=0,Ol=0,Bg=null,vd=-1,yd=0;function Zt(){return Ae&6?ut():vd!==-1?vd:vd=ut()}function Ni(e){return e.mode&1?Ae&2&&jt!==0?jt&-jt:h$.transition!==null?(yd===0&&(yd=vA()),yd):(e=Me,e!==0||(e=window.event,e=e===void 0?16:EA(e.type)),e):1}function or(e,t,n,r){if(50<Ol)throw Ol=0,Bg=null,Error(W(185));tc(e,n,r),(!(Ae&2)||e!==Pt)&&(e===Pt&&(!(Ae&2)&&(_h|=n),wt===4&&vi(e,jt)),dn(e,r),n===1&&Ae===0&&!(t.mode&1)&&(Ya=ut()+500,yh&&Ui()))}function dn(e,t){var n=e.callbackNode;hM(e,t);var r=Pd(e,e===Pt?jt:0);if(r===0)n!==null&&Tx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Tx(n),t===1)e.tag===0?f$(yw.bind(null,e)):VA(yw.bind(null,e)),l$(function(){!(Ae&6)&&Ui()}),n=null;else{switch(yA(r)){case 1:n=i0;break;case 4:n=mA;break;case 16:n=Cd;break;case 536870912:n=gA;break;default:n=Cd}n=BC(n,MC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function MC(e,t){if(vd=-1,yd=0,Ae&6)throw Error(W(327));var n=e.callbackNode;if(Da()&&e.callbackNode!==n)return null;var r=Pd(e,e===Pt?jt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wd(e,r);else{t=r;var i=Ae;Ae|=2;var o=DC();(Pt!==e||jt!==t)&&(Or=null,Ya=ut()+500,wo(e,t));do try{R$();break}catch(s){$C(e,s)}while(!0);v0(),qd.current=o,Ae=i,ht!==null?t=0:(Pt=null,jt=0,t=wt)}if(t!==0){if(t===2&&(i=pg(e),i!==0&&(r=i,t=zg(e,i))),t===1)throw n=iu,wo(e,0),vi(e,r),dn(e,ut()),n;if(t===6)vi(e,r);else{if(i=e.current.alternate,!(r&30)&&!N$(i)&&(t=Wd(e,r),t===2&&(o=pg(e),o!==0&&(r=o,t=zg(e,o))),t===1))throw n=iu,wo(e,0),vi(e,r),dn(e,ut()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:no(e,on,Or);break;case 3:if(vi(e,r),(r&130023424)===r&&(t=O0+500-ut(),10<t)){if(Pd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Zt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_g(no.bind(null,e,on,Or),t);break}no(e,on,Or);break;case 4:if(vi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ir(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*I$(r/1960))-r,10<r){e.timeoutHandle=_g(no.bind(null,e,on,Or),r);break}no(e,on,Or);break;case 5:no(e,on,Or);break;default:throw Error(W(329))}}}return dn(e,ut()),e.callbackNode===n?MC.bind(null,e):null}function zg(e,t){var n=Nl;return e.current.memoizedState.isDehydrated&&(wo(e,t).flags|=256),e=Wd(e,t),e!==2&&(t=on,on=n,t!==null&&Vg(t)),e}function Vg(e){on===null?on=e:on.push.apply(on,e)}function N$(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ur(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vi(e,t){for(t&=~N0,t&=~_h,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ir(t),r=1<<n;e[n]=-1,t&=~r}}function yw(e){if(Ae&6)throw Error(W(327));Da();var t=Pd(e,0);if(!(t&1))return dn(e,ut()),null;var n=Wd(e,t);if(e.tag!==0&&n===2){var r=pg(e);r!==0&&(t=r,n=zg(e,r))}if(n===1)throw n=iu,wo(e,0),vi(e,t),dn(e,ut()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,no(e,on,Or),dn(e,ut()),null}function R0(e,t){var n=Ae;Ae|=1;try{return e(t)}finally{Ae=n,Ae===0&&(Ya=ut()+500,yh&&Ui())}}function Io(e){wi!==null&&wi.tag===0&&!(Ae&6)&&Da();var t=Ae;Ae|=1;var n=jn.transition,r=Me;try{if(jn.transition=null,Me=1,e)return e()}finally{Me=r,jn.transition=n,Ae=t,!(Ae&6)&&Ui()}}function M0(){yn=wa.current,Ze(wa)}function wo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,s$(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(p0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Md();break;case 3:Ka(),Ze(un),Ze(Ht),S0();break;case 5:_0(r);break;case 4:Ka();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:y0(r.type._context);break;case 22:case 23:M0()}n=n.return}if(Pt=e,ht=e=Oi(e.current,null),jt=yn=t,wt=0,iu=null,N0=_h=Po=0,on=Nl=null,ho!==null){for(t=0;t<ho.length;t++)if(n=ho[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ho=null}return e}function $C(e,t){do{var n=ht;try{if(v0(),pd.current=Vd,zd){for(var r=it.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zd=!1}if(Co=0,Tt=bt=it=null,Pl=!1,tu=0,I0.current=null,n===null||n.return===null){wt=1,iu=t,ht=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=jt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=ow(a);if(g!==null){g.flags&=-257,aw(g,a,s,o,t),g.mode&1&&iw(o,u,t),t=g,l=u;var v=t.updateQueue;if(v===null){var b=new Set;b.add(l),t.updateQueue=b}else v.add(l);break e}else{if(!(t&1)){iw(o,u,t),$0();break e}l=Error(W(426))}}else if(et&&s.mode&1){var y=ow(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),aw(y,a,s,o,t),m0(Ja(l,s));break e}}o=l=Ja(l,s),wt!==4&&(wt=2),Nl===null?Nl=[o]:Nl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=yC(o,l,t);Qx(o,w);break e;case 1:s=l;var x=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ii===null||!Ii.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=bC(o,s,t);Qx(o,k);break e}}o=o.return}while(o!==null)}LC(n)}catch(E){t=E,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function DC(){var e=qd.current;return qd.current=Vd,e===null?Vd:e}function $0(){(wt===0||wt===3||wt===2)&&(wt=4),Pt===null||!(Po&268435455)&&!(_h&268435455)||vi(Pt,jt)}function Wd(e,t){var n=Ae;Ae|=2;var r=DC();(Pt!==e||jt!==t)&&(Or=null,wo(e,t));do try{O$();break}catch(i){$C(e,i)}while(!0);if(v0(),Ae=n,qd.current=r,ht!==null)throw Error(W(261));return Pt=null,jt=0,wt}function O$(){for(;ht!==null;)jC(ht)}function R$(){for(;ht!==null&&!iM();)jC(ht)}function jC(e){var t=FC(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?LC(e):ht=t,I0.current=null}function LC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=T$(n,t),n!==null){n.flags&=32767,ht=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,ht=null;return}}else if(n=k$(n,t,yn),n!==null){ht=n;return}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);wt===0&&(wt=5)}function no(e,t,n){var r=Me,i=jn.transition;try{jn.transition=null,Me=1,M$(e,t,n,r)}finally{jn.transition=i,Me=r}return null}function M$(e,t,n,r){do Da();while(wi!==null);if(Ae&6)throw Error(W(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(pM(e,o),e===Pt&&(ht=Pt=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mc||(Mc=!0,BC(Cd,function(){return Da(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=jn.transition,jn.transition=null;var a=Me;Me=1;var s=Ae;Ae|=4,I0.current=null,C$(e,n),OC(n,e),e$(xg),Id=!!bg,xg=bg=null,e.current=n,P$(n),oM(),Ae=s,Me=a,jn.transition=o}else e.current=n;if(Mc&&(Mc=!1,wi=e,Hd=i),o=e.pendingLanes,o===0&&(Ii=null),lM(n.stateNode),dn(e,ut()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gd)throw Gd=!1,e=Fg,Fg=null,e;return Hd&1&&e.tag!==0&&Da(),o=e.pendingLanes,o&1?e===Bg?Ol++:(Ol=0,Bg=e):Ol=0,Ui(),null}function Da(){if(wi!==null){var e=yA(Hd),t=jn.transition,n=Me;try{if(jn.transition=null,Me=16>e?16:e,wi===null)var r=!1;else{if(e=wi,wi=null,Hd=0,Ae&6)throw Error(W(331));var i=Ae;for(Ae|=4,te=e.current;te!==null;){var o=te,a=o.child;if(te.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:Il(8,c,o)}var d=c.child;if(d!==null)d.return=c,te=d;else for(;te!==null;){c=te;var h=c.sibling,g=c.return;if(PC(c),c===u){te=null;break}if(h!==null){h.return=g,te=h;break}te=g}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}te=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,te=a;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Il(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,te=w;break e}te=o.return}}var x=e.current;for(te=x;te!==null;){a=te;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,te=_;else e:for(a=x;te!==null;){if(s=te,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:wh(9,s)}}catch(E){st(s,s.return,E)}if(s===a){te=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,te=k;break e}te=s.return}}if(Ae=i,Ui(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(hh,e)}catch{}r=!0}return r}finally{Me=n,jn.transition=t}}return!1}function bw(e,t,n){t=Ja(n,t),t=yC(e,t,1),e=Pi(e,t,1),t=Zt(),e!==null&&(tc(e,1,t),dn(e,t))}function st(e,t,n){if(e.tag===3)bw(e,e,n);else for(;t!==null;){if(t.tag===3){bw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ii===null||!Ii.has(r))){e=Ja(n,e),e=bC(t,e,1),t=Pi(t,e,1),e=Zt(),t!==null&&(tc(t,1,e),dn(t,e));break}}t=t.return}}function $$(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zt(),e.pingedLanes|=e.suspendedLanes&n,Pt===e&&(jt&n)===n&&(wt===4||wt===3&&(jt&130023424)===jt&&500>ut()-O0?wo(e,0):N0|=n),dn(e,t)}function UC(e,t){t===0&&(e.mode&1?(t=Ec,Ec<<=1,!(Ec&130023424)&&(Ec=4194304)):t=1);var n=Zt();e=Jr(e,t),e!==null&&(tc(e,t,n),dn(e,n))}function D$(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),UC(e,n)}function j$(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),UC(e,n)}var FC;FC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)sn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return sn=!1,E$(e,t,n);sn=!!(e.flags&131072)}else sn=!1,et&&t.flags&1048576&&qA(t,jd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;gd(e,t),e=t.pendingProps;var i=Ga(t,Ht.current);$a(t,n),i=k0(null,t,r,e,i,n);var o=T0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(r)?(o=!0,$d(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,x0(t),i.updater=xh,t.stateNode=i,i._reactInternals=t,Pg(t,r,e,n),t=Og(null,t,r,!0,o,n)):(t.tag=0,et&&o&&h0(t),Jt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(gd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=U$(r),e=Yn(r,e),i){case 0:t=Ng(null,t,r,e,n);break e;case 1:t=uw(null,t,r,e,n);break e;case 11:t=sw(null,t,r,e,n);break e;case 14:t=lw(null,t,r,Yn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yn(r,i),Ng(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yn(r,i),uw(e,t,r,i,n);case 3:e:{if(SC(t),e===null)throw Error(W(387));r=t.pendingProps,o=t.memoizedState,i=o.element,YA(e,t),Fd(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ja(Error(W(423)),t),t=cw(e,t,r,n,i);break e}else if(r!==i){i=Ja(Error(W(424)),t),t=cw(e,t,r,n,i);break e}else for(_n=Ci(t.stateNode.containerInfo.firstChild),En=t,et=!0,nr=null,n=KA(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ha(),r===i){t=Yr(e,t,n);break e}Jt(e,t,r,n)}t=t.child}return t;case 5:return XA(t),e===null&&Tg(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,wg(r,i)?a=null:o!==null&&wg(r,o)&&(t.flags|=32),_C(e,t),Jt(e,t,a,n),t.child;case 6:return e===null&&Tg(t),null;case 13:return EC(e,t,n);case 4:return w0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Wa(t,null,r,n):Jt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yn(r,i),sw(e,t,r,i,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ge(Ld,r._currentValue),r._currentValue=a,o!==null)if(ur(o.value,a)){if(o.children===i.children&&!un.current){t=Yr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Vr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ag(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(W(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Ag(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Jt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$a(t,n),i=Un(i),r=r(i),t.flags|=1,Jt(e,t,r,n),t.child;case 14:return r=t.type,i=Yn(r,t.pendingProps),i=Yn(r.type,i),lw(e,t,r,i,n);case 15:return xC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yn(r,i),gd(e,t),t.tag=1,cn(r)?(e=!0,$d(t)):e=!1,$a(t,n),vC(t,r,i),Pg(t,r,i,n),Og(null,t,r,!0,e,n);case 19:return kC(e,t,n);case 22:return wC(e,t,n)}throw Error(W(156,t.tag))};function BC(e,t){return pA(e,t)}function L$(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(e,t,n,r){return new L$(e,t,n,r)}function D0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function U$(e){if(typeof e=="function")return D0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===t0)return 11;if(e===n0)return 14}return 2}function Oi(e,t){var n=e.alternate;return n===null?(n=$n(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bd(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")D0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case da:return _o(n.children,i,o,t);case e0:a=8,i|=8;break;case Zm:return e=$n(12,n,t,i|2),e.elementType=Zm,e.lanes=o,e;case eg:return e=$n(13,n,t,i),e.elementType=eg,e.lanes=o,e;case tg:return e=$n(19,n,t,i),e.elementType=tg,e.lanes=o,e;case XT:return Sh(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case JT:a=10;break e;case YT:a=9;break e;case t0:a=11;break e;case n0:a=14;break e;case fi:a=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=$n(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function _o(e,t,n,r){return e=$n(7,e,r,t),e.lanes=n,e}function Sh(e,t,n,r){return e=$n(22,e,r,t),e.elementType=XT,e.lanes=n,e.stateNode={isHidden:!1},e}function sm(e,t,n){return e=$n(6,e,null,t),e.lanes=n,e}function lm(e,t,n){return t=$n(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function F$(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zp(0),this.expirationTimes=zp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function j0(e,t,n,r,i,o,a,s,l){return e=new F$(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=$n(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},x0(o),e}function B$(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ca,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zC(e){if(!e)return Di;e=e._reactInternals;e:{if(Lo(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(cn(n))return zA(e,n,t)}return t}function VC(e,t,n,r,i,o,a,s,l){return e=j0(n,r,!0,e,i,o,a,s,l),e.context=zC(null),n=e.current,r=Zt(),i=Ni(n),o=Vr(r,i),o.callback=t??null,Pi(n,o,i),e.current.lanes=i,tc(e,i,r),dn(e,r),e}function Eh(e,t,n,r){var i=t.current,o=Zt(),a=Ni(i);return n=zC(n),t.context===null?t.context=n:t.pendingContext=n,t=Vr(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pi(i,t,a),e!==null&&(or(e,i,a,o),hd(e,i,a)),a}function Kd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function L0(e,t){xw(e,t),(e=e.alternate)&&xw(e,t)}function z$(){return null}var qC=typeof reportError=="function"?reportError:function(e){console.error(e)};function U0(e){this._internalRoot=e}kh.prototype.render=U0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Eh(e,t,null,null)};kh.prototype.unmount=U0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Io(function(){Eh(null,e,null,null)}),t[Kr]=null}};function kh(e){this._internalRoot=e}kh.prototype.unstable_scheduleHydration=function(e){if(e){var t=wA();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gi.length&&t!==0&&t<gi[n].priority;n++);gi.splice(n,0,e),n===0&&SA(e)}};function F0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Th(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ww(){}function V$(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Kd(a);o.call(u)}}var a=VC(t,r,e,0,null,!1,!1,"",ww);return e._reactRootContainer=a,e[Kr]=a.current,Yl(e.nodeType===8?e.parentNode:e),Io(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Kd(l);s.call(u)}}var l=j0(e,0,!1,null,null,!1,!1,"",ww);return e._reactRootContainer=l,e[Kr]=l.current,Yl(e.nodeType===8?e.parentNode:e),Io(function(){Eh(t,l,n,r)}),l}function Ah(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Kd(a);s.call(l)}}Eh(t,a,e,i)}else a=V$(n,t,e,i,r);return Kd(a)}bA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bl(t.pendingLanes);n!==0&&(o0(t,n|1),dn(t,ut()),!(Ae&6)&&(Ya=ut()+500,Ui()))}break;case 13:Io(function(){var r=Jr(e,1);if(r!==null){var i=Zt();or(r,e,1,i)}}),L0(e,1)}};a0=function(e){if(e.tag===13){var t=Jr(e,134217728);if(t!==null){var n=Zt();or(t,e,134217728,n)}L0(e,134217728)}};xA=function(e){if(e.tag===13){var t=Ni(e),n=Jr(e,t);if(n!==null){var r=Zt();or(n,e,t,r)}L0(e,t)}};wA=function(){return Me};_A=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}};dg=function(e,t,n){switch(t){case"input":if(ig(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vh(r);if(!i)throw Error(W(90));ZT(r),ig(r,i)}}}break;case"textarea":tA(e,n);break;case"select":t=n.value,t!=null&&Na(e,!!n.multiple,t,!1)}};lA=R0;uA=Io;var q$={usingClientEntryPoint:!1,Events:[rc,ma,vh,aA,sA,R0]},nl={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G$={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fA(e),e===null?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||z$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{hh=$c.inject(G$),br=$c}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q$;An.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F0(t))throw Error(W(200));return B$(e,t,null,n)};An.createRoot=function(e,t){if(!F0(e))throw Error(W(299));var n=!1,r="",i=qC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=j0(e,1,!1,null,null,n,!1,r,i),e[Kr]=t.current,Yl(e.nodeType===8?e.parentNode:e),new U0(t)};An.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=fA(t),e=e===null?null:e.stateNode,e};An.flushSync=function(e){return Io(e)};An.hydrate=function(e,t,n){if(!Th(t))throw Error(W(200));return Ah(null,e,t,!0,n)};An.hydrateRoot=function(e,t,n){if(!F0(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=qC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=VC(t,null,e,1,n??null,i,!1,o,a),e[Kr]=t.current,Yl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new kh(t)};An.render=function(e,t,n){if(!Th(t))throw Error(W(200));return Ah(null,e,t,!1,n)};An.unmountComponentAtNode=function(e){if(!Th(e))throw Error(W(40));return e._reactRootContainer?(Io(function(){Ah(null,null,e,!1,function(){e._reactRootContainer=null,e[Kr]=null})}),!0):!1};An.unstable_batchedUpdates=R0;An.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Th(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Ah(e,t,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function GC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GC)}catch(e){console.error(e)}}GC(),GT.exports=An;var H$=GT.exports,_w=H$;Xm.createRoot=_w.createRoot,Xm.hydrateRoot=_w.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(e,t)=>{const n=O.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>O.createElement("svg",{ref:c,...W$,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${K$(e)}`,s].join(" "),...u},[...t.map(([d,h])=>O.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=Z("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=Z("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=Z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Z("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=Z("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Z("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Z("CalendarX",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Z("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=Z("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=Z("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=Z("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=Z("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Z("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Z("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=Z("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Z("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=Z("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=Z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=Z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Z("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=Z("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=Z("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=Z("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=Z("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Z("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Z("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Z("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=Z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Z("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Z("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Z("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Z("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=Z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Ph(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function kD(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})}const TD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class G0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class AD extends G0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Iw extends G0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Nw extends G0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Kg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Kg||(Kg={}));class CD{constructor(t,{headers:n={},customFetch:r,region:i=Kg.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=TD(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return kD(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let b;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(h["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(h["Content-Type"]="application/json",b=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?b=JSON.stringify(u):b=u;let y=c;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),c?(y=a.signal,c.addEventListener("abort",()=>a.abort())):y=a.signal);const w=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:b,signal:y}).catch(E=>{throw new AD(E)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new Iw(w);if(!w.ok)throw new Nw(w);let _=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return _==="application/json"?k=yield w.json():_==="application/octet-stream"||_==="application/pdf"?k=yield w.blob():_==="text/event-stream"?k=w:_==="multipart/form-data"?k=yield w.formData():k=yield w.text(),{data:k,error:null,response:w}}catch(s){return{data:null,error:s,response:s instanceof Nw||s instanceof Iw?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var PD=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},ID=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,c=o.statusText;if(o.ok){var d,h;if(n.method!=="HEAD"){var g;const w=await o.text();w===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?s=w:s=JSON.parse(w))}const b=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),y=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");b&&y&&y.length>1&&(l=parseInt(y[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const b=await o.text();try{a=JSON.parse(b),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,c="OK")}catch{o.status===404&&b===""?(u=204,c="No Content"):a={message:b}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new PD(a)}return{error:a,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="",l="",u="";const c=o==null?void 0:o.cause;if(c){var d,h,g,v;const w=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",x=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";s=`${(g=o==null?void 0:o.name)!==null&&g!==void 0?g:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"Error"}: ${w}`,x&&(s+=` (${x})`),c!=null&&c.stack&&(s+=`
${c.stack}`)}else{var b;s=(b=o==null?void 0:o.stack)!==null&&b!==void 0?b:""}const y=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",y>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${y} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",y>this.urlLengthLimit&&(l+=`. Your request URL is ${y} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},ND=class extends ID{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Ow=new RegExp("[,()]");var aa=class extends ND{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Ow.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Ow.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},OD=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new aa({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);o.searchParams.set("columns",l.join(","))}}return new aa({method:i,url:o,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&s.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);s.searchParams.set("columns",c.join(","))}}return new aa({method:a,url:s,headers:l,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new aa({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new aa({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function RD(e,t){if(du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MD(e){var t=RD(e,"string");return du(t)=="symbol"?t:t+""}function $D(e,t,n){return(t=MD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(n),!0).forEach(function(r){$D(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var DD=class ZC{constructor(t,{headers:n={},schema:r,fetch:i,timeout:o,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=a;const s=i??globalThis.fetch;o!==void 0&&o>0?this.fetch=(l,u)=>{const c=new AbortController,d=setTimeout(()=>c.abort(),o),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(d),s(l,u);const g=()=>{clearTimeout(d),c.abort()};return h.addEventListener("abort",g,{once:!0}),s(l,Dc(Dc({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",g)})}return s(l,Dc(Dc({},u),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new OD(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new ZC(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(c)),d=r&&Object.values(n).some(c);d?(s="POST",u=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{l.searchParams.append(g,v)})):(s="POST",u=n);const h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new aa({method:s,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class jD{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const LD="2.97.0",UD=`realtime-js/${LD}`,FD="1.0.0",eP="2.0.0",Mw=eP,Jg=1e4,BD=1e3,zD=100;var pi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(pi||(pi={}));var yt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(yt||(yt={}));var Zn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zn||(Zn={}));var Yg;(function(e){e.websocket="websocket"})(Yg||(Yg={}));var lo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(lo||(lo={}));class VD{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,o;const a=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+d.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(g),b=0;v.setUint8(b++,this.KINDS.userBroadcastPush),v.setUint8(b++,l.length),v.setUint8(b++,s.length),v.setUint8(b++,a.length),v.setUint8(b++,u.length),v.setUint8(b++,d.length),v.setUint8(b++,n),Array.from(l,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(s,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(a,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(u,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(d,w=>v.setUint8(b++,w.charCodeAt(0)));var y=new Uint8Array(g.byteLength+r.byteLength);return y.set(new Uint8Array(g),0),y.set(new Uint8Array(r),g.byteLength),y.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+o));l=l+o;const d=r.decode(t.slice(l,l+a));l=l+a;const h=t.slice(l,t.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:c,payload:g};return a>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class tP{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ze||(ze={}));const $w=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=qD(a,e,t,i),o),{}):{}},qD=(e,t,n,r)=>{const i=t.find(s=>s.name===e),o=i==null?void 0:i.type,a=n[e];return o&&!r.includes(o)?nP(o,a):Xg(a)},nP=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return KD(t,n)}switch(e){case ze.bool:return GD(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return HD(t);case ze.json:case ze.jsonb:return WD(t);case ze.timestamp:return JD(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Xg(t);default:return Xg(t)}},Xg=e=>e,GD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},HD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},WD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},KD=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>nP(t,s))}return e},JD=e=>typeof e=="string"?e.replace(" ","T"):e,rP=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class cm{constructor(t,n,r={},i=Jg){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dw||(Dw={}));class Ml{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ml.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Ml.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ml.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=o[u];if(d){const h=c.map(y=>y.presence_ref),g=d.map(y=>y.presence_ref),v=c.filter(y=>g.indexOf(y.presence_ref)<0),b=d.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(s[u]=v),b.length>0&&(l[u]=b)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),c.length>0){const d=t[s].map(g=>g.presence_ref),h=c.filter(g=>d.indexOf(g.presence_ref)<0);t[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=t[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[s]=u,i(s,u,l),u.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jw||(jw={}));var $l;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})($l||($l={}));var Mr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mr||(Mr={}));class Sa{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cm(this,Zn.join,this.params,this.timeout),this.rejoinTimer=new tP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Ml(this),this.broadcastEndpointURL=rP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[$l.PRESENCE]&&this.bindings[$l.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Mr.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Mr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(Mr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,w=[];for(let x=0;x<y;x++){const _=b[x],{filter:{event:k,schema:E,table:S,filter:T}}=_,A=g&&g[x];if(A&&A.event===k&&Sa.isFilterValueEqual(A.schema,E)&&Sa.isFilterValueEqual(A.table,S)&&Sa.isFilterValueEqual(A.filter,T))w.push(Object.assign(Object.assign({},_),{id:A.id}));else{this.unsubscribe(),this.state=yt.errored,t==null||t(Mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Mr.SUBSCRIBED);return}}).receive("error",g=>{this.state=yt.errored,t==null||t(Mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===yt.joined&&t===$l.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new cm(this,Zn.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new cm(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>zD){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const a=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Zn;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,b,y;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(b=g.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var v,b,y,w,x,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const k=g.id,E=(v=g.filter)===null||v===void 0?void 0:v.event;return k&&((b=n.ids)===null||b===void 0?void 0:b.includes(k))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const k=(x=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return k==="*"||k===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:b,table:y,commit_timestamp:w,type:x,errors:_}=v;h=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:w,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(v))}g.callback(h,r)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Sa.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zn.close,{},t)}_onError(t){this._on(Zn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=$w(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=$w(t.columns,t.old_record)),n}}const dm=()=>{},jc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},YD=[1e3,2e3,5e3,1e4],XD=1e4,QD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ZD{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jg,this.transport=null,this.heartbeatIntervalMs=jc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dm,this.ref=0,this.reconnectTimer=null,this.vsn=Mw,this.logger=dm,this.conn=null,this.sendBuffer=[],this.serializer=new VD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Yg.websocket}`,this.httpEndpoint=rP(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jD.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case pi.connecting:return lo.Connecting;case pi.open:return lo.Open;case pi.closing:return lo.Closing;default:return lo.Closed}}isConnected(){return this.connectionState()===lo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Sa(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,a=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(BD,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},jc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===pi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===pi.open||this.conn.readyState===pi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([QD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:UD};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Zn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new tP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,a,s,l,u,c,d,h,g;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Jg,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:jc.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:dm,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Mw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>YD[v-1]||XD,this.vsn){case FD:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(v,b)=>b(JSON.stringify(v)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(v,b)=>b(JSON.parse(v));break;case eP:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var fu=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ej(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function tj(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function nj(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=ej(e.baseUrl,r,i),l=await tj(e.auth),u=await t(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const g=d?h:void 0,v=g==null?void 0:g.error;throw new fu((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function Lc(e){return e.join("")}var rj=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Lc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lc(e.namespace)}`}),!0}catch(t){if(t instanceof fu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof fu&&n.status===409)return;throw n}}};function Yo(e){return e.join("")}var ij=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yo(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof fu&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof fu&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},oj=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=nj({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new rj(this.client,t),this.tableOps=new ij(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ih=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Nh(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Uc=class extends Ih{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},iP=class extends Ih{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const aj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sj=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qg=e=>{if(Array.isArray(e))return e.map(n=>Qg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Qg(r)}),t},lj=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function uj(e,t){if(hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cj(e){var t=uj(e,"string");return hu(t)=="symbol"?t:t+""}function dj(e,t,n){return(t=cj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(n),!0).forEach(function(r){dj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Uw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},fj=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||o+"";t(new Uc(Uw(a),o,s,r))}).catch(()=>{if(r==="vectors"){const a=o+"";t(new Uc(i.statusText||`HTTP ${o} error`,o,a,r))}else{const a=o+"";t(new Uc(i.statusText||`HTTP ${o} error`,o,a,r))}});else{const a=o+"";t(new Uc(i.statusText||`HTTP ${o} error`,o,a,r))}}else t(new iP(Uw(e),e,r))},hj=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?le(le({},i),n):(sj(r)?(i.headers=le({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),le(le({},i),n))};async function il(e,t,n,r,i,o,a){return new Promise((s,l)=>{e(n,hj(t,r,i,o)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(a==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>s(u)).catch(u=>fj(u,l,r,a))})}function oP(e="storage"){return{get:async(t,n,r,i)=>il(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,o)=>il(t,"POST",n,i,o,r,e),put:async(t,n,r,i,o)=>il(t,"PUT",n,i,o,r,e),head:async(t,n,r,i)=>il(t,"HEAD",n,le(le({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,o)=>il(t,"DELETE",n,i,o,r,e)}}const pj=oP("storage"),{get:pu,post:Xn,put:Zg,head:mj,remove:H0}=pj,xn=oP("vectors");var As=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=aj(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=le(le({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Nh(n))return{data:null,error:n};throw n}}},gj=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Nh(t))return{data:null,error:t};throw t}}};let aP;aP=Symbol.toStringTag;var vj=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[aP]="BlobDownloadBuilder",this.promise=null}asStream(){return new gj(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Nh(t))return{data:null,error:t};throw t}}};const yj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var bj=class extends As{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let o;const a=le(le({},Fw),r);let s=le(le({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=le(le({},s),r.headers));const u=i._removeEmptyFolders(t),c=i._getFinalPath(u),d=await(e=="PUT"?Zg:Xn)(i.fetch,`${i.url}/object/${c}`,o,le({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const o=i._removeEmptyFolders(e),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);return s.searchParams.set("token",t),i.handleOperation(async()=>{let l;const u=le({upsert:Fw.upsert},r),c=le(le({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:o,fullPath:(await Zg(i.fetch,s.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=le({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=await Xn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new Ih("No token returned by API");return{signedUrl:a.toString(),path:e,token:s}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Xn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Xn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await Xn(r.fetch,`${r.url}/object/sign/${i}`,le({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await Xn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(a=>le(le({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),s=()=>pu(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0},n);return new vj(s,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Qg(await pu(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await mj(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nh(r)&&r instanceof iP){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await H0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=le(le(le({},yj),t),{},{prefix:e||""});return await Xn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=le({},e);return await Xn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const xj="2.97.0",oc={"X-Client-Info":`storage-js/${xj}`};var wj=class extends As{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const o=i.href.replace(/\/$/,""),a=le(le({},oc),t);super(o,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await pu(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await pu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Xn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Zg(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Xn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await H0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},_j=class extends As{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=le(le({},oc),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Xn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await pu(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await H0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!lj(e))throw new Ih("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new oj({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},Sj=class extends As{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=le(le({},oc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await xn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await xn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Ej=class extends As{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=le(le({},oc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},kj=class extends As{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=le(le({},oc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await xn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Tj=class extends kj{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Aj(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Aj=class extends Sj{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,le(le({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,le(le({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Cj(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Cj=class extends Ej{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,le(le({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,le(le({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,le(le({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,le(le({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,le(le({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Pj=class extends wj{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new bj(this.url,this.headers,e,this.fetch)}get vectors(){return new Tj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _j(this.url+"/iceberg",this.headers,this.fetch)}};const sP="2.97.0",sa=30*1e3,ev=3,fm=ev*sa,Ij="http://localhost:9999",Nj="supabase.auth.token",Oj={"X-Client-Info":`gotrue-js/${sP}`},tv="X-Supabase-Api-Version",lP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Rj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mj=10*60*1e3;class mu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $j extends mu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Dj(e){return ie(e)&&e.name==="AuthApiError"}class uo extends mu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ni extends mu{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class gn extends ni{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hm(e){return ie(e)&&e.name==="AuthSessionMissingError"}class Xo extends ni{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fc extends ni{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bc extends ni{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jj(e){return ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class Bw extends ni{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lj extends ni{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class nv extends ni{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function pm(e){return ie(e)&&e.name==="AuthRetryableFetchError"}class zw extends ni{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class rv extends ni{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vw=` 	
\r=`.split(""),Uj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Vw.length;t+=1)e[Vw[t].charCodeAt(0)]=-2;for(let t=0;t<Zd.length;t+=1)e[Zd[t].charCodeAt(0)]=t;return e})();function qw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Zd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Zd[r]),t.queuedBits-=6}}function uP(e,t,n){const r=Uj[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gw(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{zj(a,r,n)};for(let a=0;a<e.length;a+=1)uP(e.charCodeAt(a),i,o);return t.join("")}function Fj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Bj(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Fj(r,t)}}function zj(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ja(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)uP(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Vj(e){const t=[];return Bj(e,n=>t.push(n)),new Uint8Array(t)}function mo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>qw(i,n,r)),qw(null,n,r),t.join("")}function qj(e){return Math.round(Date.now()/1e3)+e}function Gj(){return Symbol("auth-callback")}const Mt=()=>typeof window<"u"&&typeof document<"u",Yi={tested:!1,writable:!1},cP=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yi.tested)return Yi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yi.tested=!0,Yi.writable=!0}catch{Yi.tested=!0,Yi.writable=!1}return Yi.writable};function Hj(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const dP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Wj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",la=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Xi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rt=async(e,t)=>{await e.removeItem(t)};class Oh{constructor(){this.promise=new Oh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Oh.promiseConstructor=Promise;function zc(e){const t=e.split(".");if(t.length!==3)throw new rv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Rj.test(t[r]))throw new rv("JWT not in base64url format");return{header:JSON.parse(Gw(t[0])),payload:JSON.parse(Gw(t[1])),signature:ja(t[2]),raw:{header:t[0],payload:t[1]}}}async function Kj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Jj(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){i(a);return}}})()})}function Yj(e){return("0"+e.toString(16)).substr(-2)}function Xj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Yj).join("")}async function Qj(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Zj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Qj(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qo(e,t,n=!1){const r=Xj();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await la(e,`${t}-code-verifier`,i);const o=await Zj(r);return[o,r===o?"plain":"s256"]}const eL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tL(e){const t=e.headers.get(tv);if(!t||!t.match(eL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zo(e){if(!iL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oL(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function Hw(e){return JSON.parse(JSON.stringify(e))}const ro=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aL=[502,503,504];async function Ww(e){var t;if(!Wj(e))throw new nv(ro(e),0);if(aL.includes(e.status))throw new nv(ro(e),e.status);let n;try{n=await e.json()}catch(o){throw new uo(ro(o),o)}let r;const i=tL(e);if(i&&i.getTime()>=lP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new zw(ro(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new gn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new zw(ro(n),e.status,n.weak_password.reasons);throw new $j(ro(n),e.status||500,r)}const sL=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function de(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[tv]||(o[tv]=lP["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await lL(e,t,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function lL(e,t,n,r,i,o){const a=sL(t,r,i,o);let s;try{s=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new nv(ro(l),0)}if(s.ok||await Ww(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await Ww(l)}}function Jn(e){var t;let n=null;dL(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=qj(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Kw(e){const t=Jn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uL(e){return{data:e,error:null}}function cL(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,a=Ph(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function Jw(e){return e}function dL(e){return e.access_token&&e.refresh_token&&e.expires_in}const gm=["global","local","others"];class fL{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=dP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=gm[0]){if(gm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gm.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yi})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ph(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:cL,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yi})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Jw});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Zo(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yi})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Zo(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:yi})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Zo(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:yi})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Zo(t.userId);try{const{data:n,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Zo(t.userId),Zo(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Jw});if(c.error)throw c.error;const d=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ie(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}}function Yw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ea={debug:!!(globalThis&&cP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Xw extends fP{}async function hL(e,t,n){ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),ea.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ea.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Xw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ea.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(i){throw(i==null?void 0:i.name)==="AbortError"?new Xw(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):i}}function pL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hP(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function mL(e){return parseInt(e,16)}function gL(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function vL(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=hP(e.address),v=c?`${c}://${r}`:r,b=e.statement?`${e.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${g}

${b}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),s&&(w+=`
Not Before: ${s.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}w+=x}return`${y}
${w}`}class ft extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class ef extends ft{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function yL({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(pP(a)){if(o.rp.id!==a)return new ft({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function bL({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(pP(r)){if(n.rpId!==r)return new ft({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class xL{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const wL=new xL;function _L(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Ph(e,["challenge","user","excludeCredentials"]),o=ja(t).buffer,a=Object.assign(Object.assign({},n),{id:ja(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ja(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function SL(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Ph(e,["challenge","allowCredentials"]),i=ja(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:ja(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function EL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:mo(new Uint8Array(e.response.attestationObject)),clientDataJSON:mo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:mo(new Uint8Array(i.authenticatorData)),clientDataJSON:mo(new Uint8Array(i.clientDataJSON)),signature:mo(new Uint8Array(i.signature)),userHandle:i.userHandle?mo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pP(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Qw(){var e,t;return!!(Mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function TL(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ef("Browser returned unexpected credential type",t)}:{data:null,error:new ef("Empty credential response",t)}}catch(t){return{data:null,error:yL({error:t,options:e})}}}async function AL(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ef("Browser returned unexpected credential type",t)}:{data:null,error:new ef("Empty credential response",t)}}catch(t){return{data:null,error:bL({error:t,options:e})}}}const CL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},PL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(t(a)){const s=r[o];t(s)?r[o]=tf(s,a):r[o]=tf(a)}else r[o]=a}return r}function IL(e,t){return tf(CL,e,t||{})}function NL(e,t){return tf(PL,e,t||{})}class OL{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){var a;try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:l};const u=i??wL.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;if(!c.name){const d=r;if(d)c.name=`${c.id}:${d}`;else{const g=(await this.client.getUser()).data.user,v=((a=g==null?void 0:g.user_metadata)===null||a===void 0?void 0:a.name)||(g==null?void 0:g.email)||(g==null?void 0:g.id)||"User";c.name=`${c.id}:${v}`}}c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=IL(s.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:h}=await TL({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=NL(s.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:h}=await AL(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(s){return ie(s)?{data:null,error:s}:{data:null,error:new uo("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new mu("rpId is required for WebAuthn authentication")};try{if(!Qw())return{data:null,error:new uo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new uo("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new mu("rpId is required for WebAuthn registration")};try{if(!Qw())return{data:null,error:new uo("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new uo("Unexpected error in register",a)}}}}pL();const RL={url:Ij,storageKey:Nj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Oj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function Zw(e,t,n){return await n()}const ta={};class gu{get jwks(){var t,n;return(n=(t=ta[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ta[this.storageKey]=Object.assign(Object.assign({},ta[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ta[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ta[this.storageKey]=Object.assign(Object.assign({},ta[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},RL),t);if(this.storageKey=o.storageKey,this.instanceID=(n=gu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,gu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Mt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new fL({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=dP(o.fetch),this.lock=o.lock||Zw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Mt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hL:this.lock=Zw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new OL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:cP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Yw(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(s){this._debug("#broadcastChannel","error",s)}})}o.skipAutoInitialize||this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sP}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Mt()&&(n=Hj(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Mt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),jj(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ie(n)?this._returnResult({error:n}):this._returnResult({error:new uo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Jn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:c,password:d,options:h}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Qo(this.storage,this.storageKey)),o=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:Jn})}else if("phone"in t){const{phone:c,password:d,options:h}=t;o=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Jn})}else throw new Fc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await Rt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:s}=t;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Kw})}else if("phone"in t){const{phone:o,password:a,options:s}=t;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Kw})}else throw new Fc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Xo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,a,s,l,u,c,d,h;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:b,wallet:y,statement:w,options:x}=t;let _;if(Mt())if(typeof y=="object")_=y;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")_=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const k=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),E=await _.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=hP(E[0]);let T=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const C=await _.request({method:"eth_chainId"});T=mL(C)}const A={domain:k.host,address:S,statement:w,uri:k.href,version:"1",chainId:T,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};g=vL(A),v=await _.request({method:"personal_sign",params:[gL(g),S]})}try{const{data:b,error:y}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Jn});if(y)throw y;if(!b||!b.session||!b.user){const w=new Xo;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(ie(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var n,r,i,o,a,s,l,u,c,d,h,g;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:y,wallet:w,statement:x,options:_}=t;let k;if(Mt())if(typeof w=="object")k=w;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))k=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=w}const E=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const S=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),x?{statement:x}:null));let T;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")T=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)T=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)v=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),b=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${E.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const S=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:y,error:w}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:mo(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Jn});if(w)throw w;if(!y||!y.session||!y.user){const x=new Xo;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(ie(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const n=await Xi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Lj;const{data:o,error:a}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Jn});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new Xo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=t,s=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Xo;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,o,a;try{if("email"in t){const{email:s,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Qo(this.storage,this.storageKey));const{error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:c}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Fc("You must provide either an email or phone number.")}catch(s){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Jn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Qo(this.storage,this.storageKey));const u=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:uL});return!((o=u.data)===null||o===void 0)&&o.url&&Mt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new gn;const{error:i}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:a}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:a,error:s}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Fc("You must provide either an email or phone number and a type")}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Xi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<fm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Xi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=mm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=oL(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yi}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gn}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:yi})})}catch(n){if(ie(n))return hm(n)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new gn;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await Qo(this.storage,this.storageKey));const{data:u,error:c}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:yi});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ie(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=zc(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});o={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:s}=n;if(s)throw s;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new gn;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Mt())throw new Bc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Bw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bw("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=t;if(!o||!s||!a||!u)throw new Bc("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const g=h-c;g*1e3<=sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:b,error:y}=await this._getUser(o);if(y)throw y;const w={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Xi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o&&!hm(o))return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,t);if(s&&!(Dj(s)&&(s.status===404||s.status===401||s.status===403)||hm(s)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Gj(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Qo(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:d,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Mt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ie(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=t,d=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Jn}),{data:h,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Xo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Jj(async i=>(i>0&&await Kj(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&pm(o)&&Date.now()+a-r<sa})}catch(r){if(this._debug(n,"error",r),ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Mt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Xi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Xi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await la(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:mm()}else if(i&&!i.user&&!i.user){const a=await Xi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Rt(this.storage,this.storageKey+"-user"),await la(this.storage,this.storageKey,i)):i.user=mm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<fm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${fm}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),pm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new gn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Oh;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new gn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),ie(o)){const a={data:null,error:o};return pm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Rt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await la(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Hw(i);await la(this.storage,this.storageKey,o)}else{const i=Hw(n);await la(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${sa}ms, refresh threshold is ${ev} ticks`),i<=ev&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Qo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await de(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?EL(t.webauthn.credential_response):kL(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:_L(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:SL(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,o;if(t)try{const{payload:g}=zc(t);let v=null;g.aal&&(v=g.aal);let b=v;const{data:{user:y},error:w}=await this.getUser(t);if(w)return this._returnResult({data:null,error:w});((r=(n=y==null?void 0:y.factors)===null||n===void 0?void 0:n.filter(k=>k.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(b="aal2");const _=g.amr||[];return{data:{currentLevel:v,nextLevel:b,currentAuthenticationMethods:_},error:null}}catch(g){if(ie(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=zc(a.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((o=(i=a.user.factors)===null||i===void 0?void 0:i.filter(g=>g.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new gn})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new gn});const a=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Mt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new gn});const a=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Mt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new gn})})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new gn})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+Mj>i)return r;const{data:o,error:a}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=zc(r);n!=null&&n.allowExpired||nL(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const c=rL(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,Vj(`${s}.${l}`)))throw new rv("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}}gu.nextInstanceID={};const ML=gu,$L="2.97.0";let wl="";typeof Deno<"u"?wl="deno":typeof document<"u"?wl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wl="react-native":wl="node";const DL={"X-Client-Info":`supabase-js-${wl}/${$L}`},jL={headers:DL},LL={schema:"public"},UL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FL={};function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function BL(e,t){if(vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zL(e){var t=BL(e,"string");return vu(t)=="symbol"?t:t+""}function VL(e,t,n){return(t=zL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(r){VL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const qL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),GL=()=>Headers,HL=(e,t,n)=>{const r=qL(n),i=GL();return async(o,a)=>{var s;const l=(s=await t())!==null&&s!==void 0?s:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,at(at({},a),{},{headers:u}))}};function WL(e){return e.endsWith("/")?e:e+"/"}function KL(e,t){var n,r;const{db:i,auth:o,realtime:a,global:s}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:at(at({},l),i),auth:at(at({},u),o),realtime:at(at({},c),a),storage:{},global:at(at(at({},d),s),{},{headers:at(at({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function JL(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(WL(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var YL=class extends ML{constructor(e){super(e)}},XL=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const o=JL(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:LL,realtime:FL,auth:at(at({},UL),{},{storageKey:a}),global:jL},l=KL(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=HL(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(at({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new DD(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new Pj(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new CD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YL({url:this.authUrl.href,headers:at(at({},h),c),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ZD(this.realtimeUrl.href,at(at({},e),{},{params:at(at({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const QL=(e,t,n)=>new XL(e,t,n);function ZL(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}ZL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const eU="https://rvocbjrzruiohrxuiqnq.supabase.co",tU="sb_publishable_5lNFLNCQKJrvbBL5KkMvNA_zanJwPRm",re=QL(eU,tU);function mP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=mP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function be(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=mP(e))&&(r&&(r+=" "),r+=t);return r}var nU=Array.isArray,fn=nU,rU=typeof yc=="object"&&yc&&yc.Object===Object&&yc,gP=rU,iU=gP,oU=typeof self=="object"&&self&&self.Object===Object&&self,aU=iU||oU||Function("return this")(),kr=aU,sU=kr,lU=sU.Symbol,ac=lU,t_=ac,vP=Object.prototype,uU=vP.hasOwnProperty,cU=vP.toString,ol=t_?t_.toStringTag:void 0;function dU(e){var t=uU.call(e,ol),n=e[ol];try{e[ol]=void 0;var r=!0}catch{}var i=cU.call(e);return r&&(t?e[ol]=n:delete e[ol]),i}var fU=dU,hU=Object.prototype,pU=hU.toString;function mU(e){return pU.call(e)}var gU=mU,n_=ac,vU=fU,yU=gU,bU="[object Null]",xU="[object Undefined]",r_=n_?n_.toStringTag:void 0;function wU(e){return e==null?e===void 0?xU:bU:r_&&r_ in Object(e)?vU(e):yU(e)}var ri=wU;function _U(e){return e!=null&&typeof e=="object"}var ii=_U,SU=ri,EU=ii,kU="[object Symbol]";function TU(e){return typeof e=="symbol"||EU(e)&&SU(e)==kU}var Cs=TU,AU=fn,CU=Cs,PU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,IU=/^\w*$/;function NU(e,t){if(AU(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||CU(e)?!0:IU.test(e)||!PU.test(e)||t!=null&&e in Object(t)}var W0=NU;function OU(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Fi=OU;const Ps=Oe(Fi);var RU=ri,MU=Fi,$U="[object AsyncFunction]",DU="[object Function]",jU="[object GeneratorFunction]",LU="[object Proxy]";function UU(e){if(!MU(e))return!1;var t=RU(e);return t==DU||t==jU||t==$U||t==LU}var K0=UU;const he=Oe(K0);var FU=kr,BU=FU["__core-js_shared__"],zU=BU,vm=zU,i_=function(){var e=/[^.]+$/.exec(vm&&vm.keys&&vm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function VU(e){return!!i_&&i_ in e}var qU=VU,GU=Function.prototype,HU=GU.toString;function WU(e){if(e!=null){try{return HU.call(e)}catch{}try{return e+""}catch{}}return""}var yP=WU,KU=K0,JU=qU,YU=Fi,XU=yP,QU=/[\\^$.*+?()[\]{}|]/g,ZU=/^\[object .+?Constructor\]$/,e4=Function.prototype,t4=Object.prototype,n4=e4.toString,r4=t4.hasOwnProperty,i4=RegExp("^"+n4.call(r4).replace(QU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function o4(e){if(!YU(e)||JU(e))return!1;var t=KU(e)?i4:ZU;return t.test(XU(e))}var a4=o4;function s4(e,t){return e==null?void 0:e[t]}var l4=s4,u4=a4,c4=l4;function d4(e,t){var n=c4(e,t);return u4(n)?n:void 0}var Uo=d4,f4=Uo,h4=f4(Object,"create"),Rh=h4,o_=Rh;function p4(){this.__data__=o_?o_(null):{},this.size=0}var m4=p4;function g4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var v4=g4,y4=Rh,b4="__lodash_hash_undefined__",x4=Object.prototype,w4=x4.hasOwnProperty;function _4(e){var t=this.__data__;if(y4){var n=t[e];return n===b4?void 0:n}return w4.call(t,e)?t[e]:void 0}var S4=_4,E4=Rh,k4=Object.prototype,T4=k4.hasOwnProperty;function A4(e){var t=this.__data__;return E4?t[e]!==void 0:T4.call(t,e)}var C4=A4,P4=Rh,I4="__lodash_hash_undefined__";function N4(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=P4&&t===void 0?I4:t,this}var O4=N4,R4=m4,M4=v4,$4=S4,D4=C4,j4=O4;function Is(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Is.prototype.clear=R4;Is.prototype.delete=M4;Is.prototype.get=$4;Is.prototype.has=D4;Is.prototype.set=j4;var L4=Is;function U4(){this.__data__=[],this.size=0}var F4=U4;function B4(e,t){return e===t||e!==e&&t!==t}var J0=B4,z4=J0;function V4(e,t){for(var n=e.length;n--;)if(z4(e[n][0],t))return n;return-1}var Mh=V4,q4=Mh,G4=Array.prototype,H4=G4.splice;function W4(e){var t=this.__data__,n=q4(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():H4.call(t,n,1),--this.size,!0}var K4=W4,J4=Mh;function Y4(e){var t=this.__data__,n=J4(t,e);return n<0?void 0:t[n][1]}var X4=Y4,Q4=Mh;function Z4(e){return Q4(this.__data__,e)>-1}var e5=Z4,t5=Mh;function n5(e,t){var n=this.__data__,r=t5(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var r5=n5,i5=F4,o5=K4,a5=X4,s5=e5,l5=r5;function Ns(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ns.prototype.clear=i5;Ns.prototype.delete=o5;Ns.prototype.get=a5;Ns.prototype.has=s5;Ns.prototype.set=l5;var $h=Ns,u5=Uo,c5=kr,d5=u5(c5,"Map"),Y0=d5,a_=L4,f5=$h,h5=Y0;function p5(){this.size=0,this.__data__={hash:new a_,map:new(h5||f5),string:new a_}}var m5=p5;function g5(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var v5=g5,y5=v5;function b5(e,t){var n=e.__data__;return y5(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Dh=b5,x5=Dh;function w5(e){var t=x5(this,e).delete(e);return this.size-=t?1:0,t}var _5=w5,S5=Dh;function E5(e){return S5(this,e).get(e)}var k5=E5,T5=Dh;function A5(e){return T5(this,e).has(e)}var C5=A5,P5=Dh;function I5(e,t){var n=P5(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var N5=I5,O5=m5,R5=_5,M5=k5,$5=C5,D5=N5;function Os(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Os.prototype.clear=O5;Os.prototype.delete=R5;Os.prototype.get=M5;Os.prototype.has=$5;Os.prototype.set=D5;var X0=Os,bP=X0,j5="Expected a function";function Q0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(j5);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Q0.Cache||bP),n}Q0.Cache=bP;var xP=Q0;const L5=Oe(xP);var U5=xP,F5=500;function B5(e){var t=U5(e,function(r){return n.size===F5&&n.clear(),r}),n=t.cache;return t}var z5=B5,V5=z5,q5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G5=/\\(\\)?/g,H5=V5(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(q5,function(n,r,i,o){t.push(i?o.replace(G5,"$1"):r||n)}),t}),W5=H5;function K5(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Z0=K5,s_=ac,J5=Z0,Y5=fn,X5=Cs,l_=s_?s_.prototype:void 0,u_=l_?l_.toString:void 0;function wP(e){if(typeof e=="string")return e;if(Y5(e))return J5(e,wP)+"";if(X5(e))return u_?u_.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Q5=wP,Z5=Q5;function eF(e){return e==null?"":Z5(e)}var _P=eF,tF=fn,nF=W0,rF=W5,iF=_P;function oF(e,t){return tF(e)?e:nF(e,t)?[e]:rF(iF(e))}var SP=oF,aF=Cs;function sF(e){if(typeof e=="string"||aF(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var jh=sF,lF=SP,uF=jh;function cF(e,t){t=lF(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[uF(t[n++])];return n&&n==r?e:void 0}var eb=cF,dF=eb;function fF(e,t,n){var r=e==null?void 0:dF(e,t);return r===void 0?n:r}var EP=fF;const kn=Oe(EP);function hF(e){return e==null}var pF=hF;const ye=Oe(pF);var mF=ri,gF=fn,vF=ii,yF="[object String]";function bF(e){return typeof e=="string"||!gF(e)&&vF(e)&&mF(e)==yF}var xF=bF;const No=Oe(xF);var kP={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb=Symbol.for("react.element"),nb=Symbol.for("react.portal"),Lh=Symbol.for("react.fragment"),Uh=Symbol.for("react.strict_mode"),Fh=Symbol.for("react.profiler"),Bh=Symbol.for("react.provider"),zh=Symbol.for("react.context"),wF=Symbol.for("react.server_context"),Vh=Symbol.for("react.forward_ref"),qh=Symbol.for("react.suspense"),Gh=Symbol.for("react.suspense_list"),Hh=Symbol.for("react.memo"),Wh=Symbol.for("react.lazy"),_F=Symbol.for("react.offscreen"),TP;TP=Symbol.for("react.module.reference");function qn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tb:switch(e=e.type,e){case Lh:case Fh:case Uh:case qh:case Gh:return e;default:switch(e=e&&e.$$typeof,e){case wF:case zh:case Vh:case Wh:case Hh:case Bh:return e;default:return t}}case nb:return t}}}$e.ContextConsumer=zh;$e.ContextProvider=Bh;$e.Element=tb;$e.ForwardRef=Vh;$e.Fragment=Lh;$e.Lazy=Wh;$e.Memo=Hh;$e.Portal=nb;$e.Profiler=Fh;$e.StrictMode=Uh;$e.Suspense=qh;$e.SuspenseList=Gh;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(e){return qn(e)===zh};$e.isContextProvider=function(e){return qn(e)===Bh};$e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tb};$e.isForwardRef=function(e){return qn(e)===Vh};$e.isFragment=function(e){return qn(e)===Lh};$e.isLazy=function(e){return qn(e)===Wh};$e.isMemo=function(e){return qn(e)===Hh};$e.isPortal=function(e){return qn(e)===nb};$e.isProfiler=function(e){return qn(e)===Fh};$e.isStrictMode=function(e){return qn(e)===Uh};$e.isSuspense=function(e){return qn(e)===qh};$e.isSuspenseList=function(e){return qn(e)===Gh};$e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Lh||e===Fh||e===Uh||e===qh||e===Gh||e===_F||typeof e=="object"&&e!==null&&(e.$$typeof===Wh||e.$$typeof===Hh||e.$$typeof===Bh||e.$$typeof===zh||e.$$typeof===Vh||e.$$typeof===TP||e.getModuleId!==void 0)};$e.typeOf=qn;kP.exports=$e;var SF=kP.exports,EF=ri,kF=ii,TF="[object Number]";function AF(e){return typeof e=="number"||kF(e)&&EF(e)==TF}var AP=AF;const CF=Oe(AP);var PF=AP;function IF(e){return PF(e)&&e!=+e}var NF=IF;const Rs=Oe(NF);var Yt=function(t){return t===0?0:t>0?1:-1},go=function(t){return No(t)&&t.indexOf("%")===t.length-1},H=function(t){return CF(t)&&!Rs(t)},OF=function(t){return ye(t)},_t=function(t){return H(t)||No(t)},RF=0,Ms=function(t){var n=++RF;return"".concat(t||"").concat(n)},Xt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!H(t)&&!No(t))return r;var o;if(go(t)){var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return Rs(o)&&(o=r),i&&o>n&&(o=n),o},bi=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},MF=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},an=function(t,n){return H(t)&&H(n)?function(r){return t+r*(n-t)}:function(){return n}};function nf(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):kn(r,t))===n})}var $F=function(t,n){return H(t)&&H(n)?t-n:No(t)&&No(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function La(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}var DF=["viewBox","children"],jF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],c_=["points","pathLength"],ym={svg:DF,polygon:c_,polyline:c_},rb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rf=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(O.isValidElement(t)&&(r=t.props),!Ps(r))return null;var i={};return Object.keys(r).forEach(function(o){rb.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},LF=function(t,n,r){return function(i){return t(n,r,i),null}},Oo=function(t,n,r){if(!Ps(t)||iv(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var a=t[o];rb.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=LF(a,n,r))}),i},UF=["children"],FF=["children"];function d_(e,t){if(e==null)return{};var n=BF(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function BF(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}var f_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},h_=null,bm=null,ib=function e(t){if(t===h_&&Array.isArray(bm))return bm;var n=[];return O.Children.forEach(t,function(r){ye(r)||(SF.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),bm=n,h_=t,n};function Ln(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return qr(i)}):r=[qr(t)],ib(e).forEach(function(i){var o=kn(i,"type.displayName")||kn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function bn(e,t){var n=Ln(e,t);return n&&n[0]}var p_=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!H(r)||r<=0||!H(i)||i<=0)},zF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],VF=function(t){return t&&t.type&&No(t.type)&&zF.indexOf(t.type)>=0},qF=function(t){return t&&ov(t)==="object"&&"clipDot"in t},GF=function(t,n,r,i){var o,a=(o=ym==null?void 0:ym[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!he(t)&&(i&&a.includes(n)||jF.includes(n))||r&&rb.includes(n)},ae=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(O.isValidElement(t)&&(i=t.props),!Ps(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;GF((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},av=function e(t,n){if(t===n)return!0;var r=O.Children.count(t);if(r!==O.Children.count(n))return!1;if(r===0)return!0;if(r===1)return m_(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!m_(o,a))return!1}return!0},m_=function(t,n){if(ye(t)&&ye(n))return!0;if(!ye(t)&&!ye(n)){var r=t.props||{},i=r.children,o=d_(r,UF),a=n.props||{},s=a.children,l=d_(a,FF);return i&&s?La(o,l)&&av(i,s):!i&&!s?La(o,l):!1}return!1},g_=function(t,n){var r=[],i={};return ib(t).forEach(function(o,a){if(VF(o))r.push(o);else if(o){var s=qr(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(o,s,a);r.push(d),i[s]=!0}}}),r},HF=function(t){var n=t&&t.type;return n&&f_[n]?f_[n]:null},WF=function(t,n){return ib(n).indexOf(t)},KF=["children","width","height","viewBox","className","style","title","desc"];function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sv.apply(this,arguments)}function JF(e,t){if(e==null)return{};var n=YF(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function YF(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lv(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,u=JF(e,KF),c=i||{width:n,height:r,x:0,y:0},d=be("recharts-surface",o);return I.createElement("svg",sv({},ae(u,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),t)}var XF=["children","className"];function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uv.apply(this,arguments)}function QF(e,t){if(e==null)return{};var n=ZF(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZF(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Te=I.forwardRef(function(e,t){var n=e.children,r=e.className,i=QF(e,XF),o=be("recharts-layer",r);return I.createElement("g",uv({className:o},ae(i,!0),{ref:t}),n)}),ar=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function eB(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var tB=eB,nB=tB;function rB(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:nB(e,t,n)}var iB=rB,oB="\\ud800-\\udfff",aB="\\u0300-\\u036f",sB="\\ufe20-\\ufe2f",lB="\\u20d0-\\u20ff",uB=aB+sB+lB,cB="\\ufe0e\\ufe0f",dB="\\u200d",fB=RegExp("["+dB+oB+uB+cB+"]");function hB(e){return fB.test(e)}var CP=hB;function pB(e){return e.split("")}var mB=pB,PP="\\ud800-\\udfff",gB="\\u0300-\\u036f",vB="\\ufe20-\\ufe2f",yB="\\u20d0-\\u20ff",bB=gB+vB+yB,xB="\\ufe0e\\ufe0f",wB="["+PP+"]",cv="["+bB+"]",dv="\\ud83c[\\udffb-\\udfff]",_B="(?:"+cv+"|"+dv+")",IP="[^"+PP+"]",NP="(?:\\ud83c[\\udde6-\\uddff]){2}",OP="[\\ud800-\\udbff][\\udc00-\\udfff]",SB="\\u200d",RP=_B+"?",MP="["+xB+"]?",EB="(?:"+SB+"(?:"+[IP,NP,OP].join("|")+")"+MP+RP+")*",kB=MP+RP+EB,TB="(?:"+[IP+cv+"?",cv,NP,OP,wB].join("|")+")",AB=RegExp(dv+"(?="+dv+")|"+TB+kB,"g");function CB(e){return e.match(AB)||[]}var PB=CB,IB=mB,NB=CP,OB=PB;function RB(e){return NB(e)?OB(e):IB(e)}var MB=RB,$B=iB,DB=CP,jB=MB,LB=_P;function UB(e){return function(t){t=LB(t);var n=DB(t)?jB(t):void 0,r=n?n[0]:t.charAt(0),i=n?$B(n,1).join(""):t.slice(1);return r[e]()+i}}var FB=UB,BB=FB,zB=BB("toUpperCase"),VB=zB;const Kh=Oe(VB);function qe(e){return function(){return e}}const $P=Math.cos,of=Math.sin,cr=Math.sqrt,af=Math.PI,Jh=2*af,fv=Math.PI,hv=2*fv,io=1e-6,qB=hv-io;function DP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function GB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return DP;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class HB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?DP:GB(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-n,c=a-t,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>io)if(!(Math.abs(d*l-u*c)>io)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-a,v=i-s,b=l*l+u*u,y=g*g+v*v,w=Math.sqrt(b),x=Math.sqrt(h),_=o*Math.tan((fv-Math.acos((b+h-y)/(2*w*x)))/2),k=_/x,E=_/w;Math.abs(k-1)>io&&this._append`L${t+k*c},${n+k*d}`,this._append`A${o},${o},0,0,${+(d*g>c*v)},${this._x1=t+E*l},${this._y1=n+E*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>io||Math.abs(this._y1-c)>io)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%hv+hv),h>qB?this._append`A${r},${r},0,1,${d},${t-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>io&&this._append`A${r},${r},0,${+(h>=fv)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ob(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new HB(t)}function ab(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jP(e){this._context=e}jP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yh(e){return new jP(e)}function LP(e){return e[0]}function UP(e){return e[1]}function FP(e,t){var n=qe(!0),r=null,i=Yh,o=null,a=ob(s);e=typeof e=="function"?e:e===void 0?LP:qe(e),t=typeof t=="function"?t:t===void 0?UP:qe(t);function s(l){var u,c=(l=ab(l)).length,d,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,u,l),+t(d,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:qe(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:qe(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:qe(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Vc(e,t,n){var r=null,i=qe(!0),o=null,a=Yh,s=null,l=ob(u);e=typeof e=="function"?e:e===void 0?LP:qe(+e),t=typeof t=="function"?t:qe(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?UP:qe(+n);function u(d){var h,g,v,b=(d=ab(d)).length,y,w=!1,x,_=new Array(b),k=new Array(b);for(o==null&&(s=a(x=l())),h=0;h<=b;++h){if(!(h<b&&i(y=d[h],h,d))===w)if(w=!w)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=g;--v)s.point(_[v],k[v]);s.lineEnd(),s.areaEnd()}w&&(_[h]=+e(y,h,d),k[h]=+t(y,h,d),s.point(r?+r(y,h,d):_[h],n?+n(y,h,d):k[h]))}if(x)return s=null,x+""||null}function c(){return FP().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:qe(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:qe(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:qe(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:qe(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:qe(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:qe(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:qe(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class BP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function WB(e){return new BP(e,!0)}function KB(e){return new BP(e,!1)}const sb={draw(e,t){const n=cr(t/af);e.moveTo(n,0),e.arc(0,0,n,0,Jh)}},JB={draw(e,t){const n=cr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},zP=cr(1/3),YB=zP*2,XB={draw(e,t){const n=cr(t/YB),r=n*zP;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},QB={draw(e,t){const n=cr(t),r=-n/2;e.rect(r,r,n,n)}},ZB=.8908130915292852,VP=of(af/10)/of(7*af/10),e3=of(Jh/10)*VP,t3=-$P(Jh/10)*VP,n3={draw(e,t){const n=cr(t*ZB),r=e3*n,i=t3*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Jh*o/5,s=$P(a),l=of(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},xm=cr(3),r3={draw(e,t){const n=-cr(t/(xm*3));e.moveTo(0,n*2),e.lineTo(-xm*n,-n),e.lineTo(xm*n,-n),e.closePath()}},Pn=-.5,In=cr(3)/2,pv=1/cr(12),i3=(pv/2+1)*3,o3={draw(e,t){const n=cr(t/i3),r=n/2,i=n*pv,o=r,a=n*pv+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Pn*r-In*i,In*r+Pn*i),e.lineTo(Pn*o-In*a,In*o+Pn*a),e.lineTo(Pn*s-In*l,In*s+Pn*l),e.lineTo(Pn*r+In*i,Pn*i-In*r),e.lineTo(Pn*o+In*a,Pn*a-In*o),e.lineTo(Pn*s+In*l,Pn*l-In*s),e.closePath()}};function a3(e,t){let n=null,r=ob(i);e=typeof e=="function"?e:qe(e||sb),t=typeof t=="function"?t:qe(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:qe(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:qe(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function sf(){}function lf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function qP(e){this._context=e}qP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s3(e){return new qP(e)}function GP(e){this._context=e}GP.prototype={areaStart:sf,areaEnd:sf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l3(e){return new GP(e)}function HP(e){this._context=e}HP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u3(e){return new HP(e)}function WP(e){this._context=e}WP.prototype={areaStart:sf,areaEnd:sf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function c3(e){return new WP(e)}function v_(e){return e<0?-1:1}function y_(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(v_(o)+v_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function b_(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function wm(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function uf(e){this._context=e}uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wm(this,this._t0,b_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wm(this,b_(this,n=y_(this,e,t)),n);break;default:wm(this,this._t0,n=y_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function KP(e){this._context=new JP(e)}(KP.prototype=Object.create(uf.prototype)).point=function(e,t){uf.prototype.point.call(this,t,e)};function JP(e){this._context=e}JP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function d3(e){return new uf(e)}function f3(e){return new KP(e)}function YP(e){this._context=e}YP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=x_(e),i=x_(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function x_(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function h3(e){return new YP(e)}function Xh(e,t){this._context=e,this._t=t}Xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function p3(e){return new Xh(e,.5)}function m3(e){return new Xh(e,0)}function g3(e){return new Xh(e,1)}function Qa(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function mv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function v3(e,t){return e[t]}function y3(e){const t=[];return t.key=e,t}function b3(){var e=qe([]),t=mv,n=Qa,r=v3;function i(o){var a=Array.from(e.apply(this,arguments),y3),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=ab(t(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:qe(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:qe(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?mv:typeof o=="function"?o:qe(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Qa,i):n},i}function x3(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Qa(e,t)}}function w3(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Qa(e,t)}}function _3(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],d=c[r][1]||0,h=c[r-1][1]||0,g=(d-h)/2,v=0;v<s;++v){var b=e[t[v]],y=b[r][1]||0,w=b[r-1][1]||0;g+=y-w}l+=d,u+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Qa(e,t)}}function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}var S3=["type","size","sizeType"];function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gv.apply(this,arguments)}function w_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function __(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(n),!0).forEach(function(r){E3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E3(e,t,n){return t=k3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k3(e){var t=T3(e,"string");return yu(t)=="symbol"?t:t+""}function T3(e,t){if(yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A3(e,t){if(e==null)return{};var n=C3(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function C3(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var XP={symbolCircle:sb,symbolCross:JB,symbolDiamond:XB,symbolSquare:QB,symbolStar:n3,symbolTriangle:r3,symbolWye:o3},P3=Math.PI/180,I3=function(t){var n="symbol".concat(Kh(t));return XP[n]||sb},N3=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*P3;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},O3=function(t,n){XP["symbol".concat(Kh(t))]=n},lb=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,a=t.sizeType,s=a===void 0?"area":a,l=A3(t,S3),u=__(__({},l),{},{type:r,size:o,sizeType:s}),c=function(){var y=I3(r),w=a3().type(y).size(N3(o,s,r));return w()},d=u.className,h=u.cx,g=u.cy,v=ae(u,!0);return h===+h&&g===+g&&o===+o?I.createElement("path",gv({},v,{className:be("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};lb.registerSymbol=O3;function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vv.apply(this,arguments)}function S_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(n),!0).forEach(function(r){bu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZP(r.key),r)}}function D3(e,t,n){return t&&$3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j3(e,t,n){return t=cf(t),L3(e,QP()?Reflect.construct(t,n||[],cf(e).constructor):t.apply(e,n))}function L3(e,t){if(t&&(Za(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U3(e)}function U3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QP=function(){return!!e})()}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cf(e)}function F3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yv(e,t)}function yv(e,t){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yv(e,t)}function bu(e,t,n){return t=ZP(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZP(e){var t=B3(e,"string");return Za(t)=="symbol"?t:t+""}function B3(e,t){if(Za(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nn=32,ub=function(e){function t(){return M3(this,t),j3(this,t,arguments)}return F3(t,e),D3(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Nn/2,a=Nn/6,s=Nn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Nn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Nn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Nn/8,"h").concat(Nn,"v").concat(Nn*3/4,"h").concat(-Nn,"z"),className:"recharts-legend-icon"});if(I.isValidElement(r.legendIcon)){var u=R3({},r);return delete u.legendIcon,I.cloneElement(r.legendIcon,u)}return I.createElement(lb,{fill:l,cx:o,cy:o,size:Nn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Nn,height:Nn},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,v){var b=g.formatter||l,y=be(bu(bu({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=he(g.value)?null:g.value;ar(!he(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=g.inactive?u:g.color;return I.createElement("li",vv({className:y,style:d,key:"legend-item-".concat(v)},Oo(r.props,g,v)),I.createElement(lv,{width:a,height:a,viewBox:c,style:h},r.renderIcon(g)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b?b(w,g,v):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(O.PureComponent);bu(ub,"displayName","Legend");bu(ub,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var z3=$h;function V3(){this.__data__=new z3,this.size=0}var q3=V3;function G3(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var H3=G3;function W3(e){return this.__data__.get(e)}var K3=W3;function J3(e){return this.__data__.has(e)}var Y3=J3,X3=$h,Q3=Y0,Z3=X0,e8=200;function t8(e,t){var n=this.__data__;if(n instanceof X3){var r=n.__data__;if(!Q3||r.length<e8-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Z3(r)}return n.set(e,t),this.size=n.size,this}var n8=t8,r8=$h,i8=q3,o8=H3,a8=K3,s8=Y3,l8=n8;function $s(e){var t=this.__data__=new r8(e);this.size=t.size}$s.prototype.clear=i8;$s.prototype.delete=o8;$s.prototype.get=a8;$s.prototype.has=s8;$s.prototype.set=l8;var eI=$s,u8="__lodash_hash_undefined__";function c8(e){return this.__data__.set(e,u8),this}var d8=c8;function f8(e){return this.__data__.has(e)}var h8=f8,p8=X0,m8=d8,g8=h8;function df(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new p8;++t<n;)this.add(e[t])}df.prototype.add=df.prototype.push=m8;df.prototype.has=g8;var tI=df;function v8(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var nI=v8;function y8(e,t){return e.has(t)}var rI=y8,b8=tI,x8=nI,w8=rI,_8=1,S8=2;function E8(e,t,n,r,i,o){var a=n&_8,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,g=n&S8?new b8:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var v=e[d],b=t[d];if(r)var y=a?r(b,v,d,t,e,o):r(v,b,d,e,t,o);if(y!==void 0){if(y)continue;h=!1;break}if(g){if(!x8(t,function(w,x){if(!w8(g,x)&&(v===w||i(v,w,n,r,o)))return g.push(x)})){h=!1;break}}else if(!(v===b||i(v,b,n,r,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var iI=E8,k8=kr,T8=k8.Uint8Array,A8=T8;function C8(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var P8=C8;function I8(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var cb=I8,E_=ac,k_=A8,N8=J0,O8=iI,R8=P8,M8=cb,$8=1,D8=2,j8="[object Boolean]",L8="[object Date]",U8="[object Error]",F8="[object Map]",B8="[object Number]",z8="[object RegExp]",V8="[object Set]",q8="[object String]",G8="[object Symbol]",H8="[object ArrayBuffer]",W8="[object DataView]",T_=E_?E_.prototype:void 0,_m=T_?T_.valueOf:void 0;function K8(e,t,n,r,i,o,a){switch(n){case W8:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case H8:return!(e.byteLength!=t.byteLength||!o(new k_(e),new k_(t)));case j8:case L8:case B8:return N8(+e,+t);case U8:return e.name==t.name&&e.message==t.message;case z8:case q8:return e==t+"";case F8:var s=R8;case V8:var l=r&$8;if(s||(s=M8),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=D8,a.set(e,t);var c=O8(s(e),s(t),r,i,o,a);return a.delete(e),c;case G8:if(_m)return _m.call(e)==_m.call(t)}return!1}var J8=K8;function Y8(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var oI=Y8,X8=oI,Q8=fn;function Z8(e,t,n){var r=t(e);return Q8(e)?r:X8(r,n(e))}var e6=Z8;function t6(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var n6=t6;function r6(){return[]}var i6=r6,o6=n6,a6=i6,s6=Object.prototype,l6=s6.propertyIsEnumerable,A_=Object.getOwnPropertySymbols,u6=A_?function(e){return e==null?[]:(e=Object(e),o6(A_(e),function(t){return l6.call(e,t)}))}:a6,c6=u6;function d6(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var f6=d6,h6=ri,p6=ii,m6="[object Arguments]";function g6(e){return p6(e)&&h6(e)==m6}var v6=g6,C_=v6,y6=ii,aI=Object.prototype,b6=aI.hasOwnProperty,x6=aI.propertyIsEnumerable,w6=C_(function(){return arguments}())?C_:function(e){return y6(e)&&b6.call(e,"callee")&&!x6.call(e,"callee")},db=w6,ff={exports:{}};function _6(){return!1}var S6=_6;ff.exports;(function(e,t){var n=kr,r=S6,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u})(ff,ff.exports);var sI=ff.exports,E6=9007199254740991,k6=/^(?:0|[1-9]\d*)$/;function T6(e,t){var n=typeof e;return t=t??E6,!!t&&(n=="number"||n!="symbol"&&k6.test(e))&&e>-1&&e%1==0&&e<t}var fb=T6,A6=9007199254740991;function C6(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=A6}var hb=C6,P6=ri,I6=hb,N6=ii,O6="[object Arguments]",R6="[object Array]",M6="[object Boolean]",$6="[object Date]",D6="[object Error]",j6="[object Function]",L6="[object Map]",U6="[object Number]",F6="[object Object]",B6="[object RegExp]",z6="[object Set]",V6="[object String]",q6="[object WeakMap]",G6="[object ArrayBuffer]",H6="[object DataView]",W6="[object Float32Array]",K6="[object Float64Array]",J6="[object Int8Array]",Y6="[object Int16Array]",X6="[object Int32Array]",Q6="[object Uint8Array]",Z6="[object Uint8ClampedArray]",ez="[object Uint16Array]",tz="[object Uint32Array]",Xe={};Xe[W6]=Xe[K6]=Xe[J6]=Xe[Y6]=Xe[X6]=Xe[Q6]=Xe[Z6]=Xe[ez]=Xe[tz]=!0;Xe[O6]=Xe[R6]=Xe[G6]=Xe[M6]=Xe[H6]=Xe[$6]=Xe[D6]=Xe[j6]=Xe[L6]=Xe[U6]=Xe[F6]=Xe[B6]=Xe[z6]=Xe[V6]=Xe[q6]=!1;function nz(e){return N6(e)&&I6(e.length)&&!!Xe[P6(e)]}var rz=nz;function iz(e){return function(t){return e(t)}}var lI=iz,hf={exports:{}};hf.exports;(function(e,t){var n=gP,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(hf,hf.exports);var oz=hf.exports,az=rz,sz=lI,P_=oz,I_=P_&&P_.isTypedArray,lz=I_?sz(I_):az,uI=lz,uz=f6,cz=db,dz=fn,fz=sI,hz=fb,pz=uI,mz=Object.prototype,gz=mz.hasOwnProperty;function vz(e,t){var n=dz(e),r=!n&&cz(e),i=!n&&!r&&fz(e),o=!n&&!r&&!i&&pz(e),a=n||r||i||o,s=a?uz(e.length,String):[],l=s.length;for(var u in e)(t||gz.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hz(u,l)))&&s.push(u);return s}var yz=vz,bz=Object.prototype;function xz(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||bz;return e===n}var wz=xz;function _z(e,t){return function(n){return e(t(n))}}var cI=_z,Sz=cI,Ez=Sz(Object.keys,Object),kz=Ez,Tz=wz,Az=kz,Cz=Object.prototype,Pz=Cz.hasOwnProperty;function Iz(e){if(!Tz(e))return Az(e);var t=[];for(var n in Object(e))Pz.call(e,n)&&n!="constructor"&&t.push(n);return t}var Nz=Iz,Oz=K0,Rz=hb;function Mz(e){return e!=null&&Rz(e.length)&&!Oz(e)}var sc=Mz,$z=yz,Dz=Nz,jz=sc;function Lz(e){return jz(e)?$z(e):Dz(e)}var Qh=Lz,Uz=e6,Fz=c6,Bz=Qh;function zz(e){return Uz(e,Bz,Fz)}var Vz=zz,N_=Vz,qz=1,Gz=Object.prototype,Hz=Gz.hasOwnProperty;function Wz(e,t,n,r,i,o){var a=n&qz,s=N_(e),l=s.length,u=N_(t),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in t:Hz.call(t,h)))return!1}var g=o.get(e),v=o.get(t);if(g&&v)return g==t&&v==e;var b=!0;o.set(e,t),o.set(t,e);for(var y=a;++d<l;){h=s[d];var w=e[h],x=t[h];if(r)var _=a?r(x,w,h,t,e,o):r(w,x,h,e,t,o);if(!(_===void 0?w===x||i(w,x,n,r,o):_)){b=!1;break}y||(y=h=="constructor")}if(b&&!y){var k=e.constructor,E=t.constructor;k!=E&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof E=="function"&&E instanceof E)&&(b=!1)}return o.delete(e),o.delete(t),b}var Kz=Wz,Jz=Uo,Yz=kr,Xz=Jz(Yz,"DataView"),Qz=Xz,Zz=Uo,eV=kr,tV=Zz(eV,"Promise"),nV=tV,rV=Uo,iV=kr,oV=rV(iV,"Set"),dI=oV,aV=Uo,sV=kr,lV=aV(sV,"WeakMap"),uV=lV,bv=Qz,xv=Y0,wv=nV,_v=dI,Sv=uV,fI=ri,Ds=yP,O_="[object Map]",cV="[object Object]",R_="[object Promise]",M_="[object Set]",$_="[object WeakMap]",D_="[object DataView]",dV=Ds(bv),fV=Ds(xv),hV=Ds(wv),pV=Ds(_v),mV=Ds(Sv),oo=fI;(bv&&oo(new bv(new ArrayBuffer(1)))!=D_||xv&&oo(new xv)!=O_||wv&&oo(wv.resolve())!=R_||_v&&oo(new _v)!=M_||Sv&&oo(new Sv)!=$_)&&(oo=function(e){var t=fI(e),n=t==cV?e.constructor:void 0,r=n?Ds(n):"";if(r)switch(r){case dV:return D_;case fV:return O_;case hV:return R_;case pV:return M_;case mV:return $_}return t});var gV=oo,Sm=eI,vV=iI,yV=J8,bV=Kz,j_=gV,L_=fn,U_=sI,xV=uI,wV=1,F_="[object Arguments]",B_="[object Array]",qc="[object Object]",_V=Object.prototype,z_=_V.hasOwnProperty;function SV(e,t,n,r,i,o){var a=L_(e),s=L_(t),l=a?B_:j_(e),u=s?B_:j_(t);l=l==F_?qc:l,u=u==F_?qc:u;var c=l==qc,d=u==qc,h=l==u;if(h&&U_(e)){if(!U_(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Sm),a||xV(e)?vV(e,t,n,r,i,o):yV(e,t,l,n,r,i,o);if(!(n&wV)){var g=c&&z_.call(e,"__wrapped__"),v=d&&z_.call(t,"__wrapped__");if(g||v){var b=g?e.value():e,y=v?t.value():t;return o||(o=new Sm),i(b,y,n,r,o)}}return h?(o||(o=new Sm),bV(e,t,n,r,i,o)):!1}var EV=SV,kV=EV,V_=ii;function hI(e,t,n,r,i){return e===t?!0:e==null||t==null||!V_(e)&&!V_(t)?e!==e&&t!==t:kV(e,t,n,r,hI,i)}var pb=hI,TV=eI,AV=pb,CV=1,PV=2;function IV(e,t,n,r){var i=n.length,o=i,a=!r;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in e))return!1}else{var d=new TV;if(r)var h=r(u,c,l,e,t,d);if(!(h===void 0?AV(c,u,CV|PV,r,d):h))return!1}}return!0}var NV=IV,OV=Fi;function RV(e){return e===e&&!OV(e)}var pI=RV,MV=pI,$V=Qh;function DV(e){for(var t=$V(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,MV(i)]}return t}var jV=DV;function LV(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var mI=LV,UV=NV,FV=jV,BV=mI;function zV(e){var t=FV(e);return t.length==1&&t[0][2]?BV(t[0][0],t[0][1]):function(n){return n===e||UV(n,e,t)}}var VV=zV;function qV(e,t){return e!=null&&t in Object(e)}var GV=qV,HV=SP,WV=db,KV=fn,JV=fb,YV=hb,XV=jh;function QV(e,t,n){t=HV(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=XV(t[r]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&YV(i)&&JV(a,i)&&(KV(e)||WV(e)))}var ZV=QV,eq=GV,tq=ZV;function nq(e,t){return e!=null&&tq(e,t,eq)}var rq=nq,iq=pb,oq=EP,aq=rq,sq=W0,lq=pI,uq=mI,cq=jh,dq=1,fq=2;function hq(e,t){return sq(e)&&lq(t)?uq(cq(e),t):function(n){var r=oq(n,e);return r===void 0&&r===t?aq(n,e):iq(t,r,dq|fq)}}var pq=hq;function mq(e){return e}var js=mq;function gq(e){return function(t){return t==null?void 0:t[e]}}var vq=gq,yq=eb;function bq(e){return function(t){return yq(t,e)}}var xq=bq,wq=vq,_q=xq,Sq=W0,Eq=jh;function kq(e){return Sq(e)?wq(Eq(e)):_q(e)}var Tq=kq,Aq=VV,Cq=pq,Pq=js,Iq=fn,Nq=Tq;function Oq(e){return typeof e=="function"?e:e==null?Pq:typeof e=="object"?Iq(e)?Cq(e[0],e[1]):Aq(e):Nq(e)}var Tr=Oq;function Rq(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var gI=Rq;function Mq(e){return e!==e}var $q=Mq;function Dq(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var jq=Dq,Lq=gI,Uq=$q,Fq=jq;function Bq(e,t,n){return t===t?Fq(e,t,n):Lq(e,Uq,n)}var zq=Bq,Vq=zq;function qq(e,t){var n=e==null?0:e.length;return!!n&&Vq(e,t,0)>-1}var Gq=qq;function Hq(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var Wq=Hq;function Kq(){}var Jq=Kq,Em=dI,Yq=Jq,Xq=cb,Qq=1/0,Zq=Em&&1/Xq(new Em([,-0]))[1]==Qq?function(e){return new Em(e)}:Yq,eG=Zq,tG=tI,nG=Gq,rG=Wq,iG=rI,oG=eG,aG=cb,sG=200;function lG(e,t,n){var r=-1,i=nG,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=rG;else if(o>=sG){var u=t?null:oG(e);if(u)return aG(u);a=!1,i=iG,l=new tG}else l=t?[]:s;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var uG=lG,cG=Tr,dG=uG;function fG(e,t){return e&&e.length?dG(e,cG(t)):[]}var hG=fG;const q_=Oe(hG);function vI(e,t,n){return t===!0?q_(e,n):he(t)?q_(e,t):e}function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}var pG=["ref"];function G_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(n),!0).forEach(function(r){Zh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bI(r.key),r)}}function gG(e,t,n){return t&&H_(e.prototype,t),n&&H_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vG(e,t,n){return t=pf(t),yG(e,yI()?Reflect.construct(t,n||[],pf(e).constructor):t.apply(e,n))}function yG(e,t){if(t&&(es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bG(e)}function bG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yI=function(){return!!e})()}function pf(e){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pf(e)}function xG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ev(e,t)}function Ev(e,t){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ev(e,t)}function Zh(e,t,n){return t=bI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bI(e){var t=wG(e,"string");return es(t)=="symbol"?t:t+""}function wG(e,t){if(es(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _G(e,t){if(e==null)return{};var n=SG(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SG(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function EG(e){return e.value}function kG(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var n=_G(t,pG);return I.createElement(ub,n)}var W_=1,So=function(e){function t(){var n;mG(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=vG(this,t,[].concat(i)),Zh(n,"lastBoundingBox",{width:-1,height:-1}),n}return xG(t,e),gG(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>W_||Math.abs(i.height-this.lastBoundingBox.height)>W_)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Nr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();d={left:((u||0)-g.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Nr(Nr({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=Nr(Nr({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},kG(o,Nr(Nr({},this.props),{},{payload:vI(c,u,EG)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Nr(Nr({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&H(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(O.PureComponent);Zh(So,"displayName","Legend");Zh(So,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var K_=ac,TG=db,AG=fn,J_=K_?K_.isConcatSpreadable:void 0;function CG(e){return AG(e)||TG(e)||!!(J_&&e&&e[J_])}var PG=CG,IG=oI,NG=PG;function xI(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=NG),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?xI(s,t-1,n,r,i):IG(i,s):r||(i[i.length]=s)}return i}var wI=xI;function OG(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(n(o[l],l,o)===!1)break}return t}}var RG=OG,MG=RG,$G=MG(),DG=$G,jG=DG,LG=Qh;function UG(e,t){return e&&jG(e,t,LG)}var _I=UG,FG=sc;function BG(e,t){return function(n,r){if(n==null)return n;if(!FG(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var zG=BG,VG=_I,qG=zG,GG=qG(VG),mb=GG,HG=mb,WG=sc;function KG(e,t){var n=-1,r=WG(e)?Array(e.length):[];return HG(e,function(i,o,a){r[++n]=t(i,o,a)}),r}var SI=KG;function JG(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var YG=JG,Y_=Cs;function XG(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=Y_(e),a=t!==void 0,s=t===null,l=t===t,u=Y_(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var QG=XG,ZG=QG;function eH(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=ZG(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var tH=eH,km=Z0,nH=eb,rH=Tr,iH=SI,oH=YG,aH=lI,sH=tH,lH=js,uH=fn;function cH(e,t,n){t.length?t=km(t,function(o){return uH(o)?function(a){return nH(a,o.length===1?o[0]:o)}:o}):t=[lH];var r=-1;t=km(t,aH(rH));var i=iH(e,function(o,a,s){var l=km(t,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return oH(i,function(o,a){return sH(o,a,n)})}var dH=cH;function fH(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var hH=fH,pH=hH,X_=Math.max;function mH(e,t,n){return t=X_(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=X_(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),pH(e,this,s)}}var gH=mH;function vH(e){return function(){return e}}var yH=vH,bH=Uo,xH=function(){try{var e=bH(Object,"defineProperty");return e({},"",{}),e}catch{}}(),EI=xH,wH=yH,Q_=EI,_H=js,SH=Q_?function(e,t){return Q_(e,"toString",{configurable:!0,enumerable:!1,value:wH(t),writable:!0})}:_H,EH=SH,kH=800,TH=16,AH=Date.now;function CH(e){var t=0,n=0;return function(){var r=AH(),i=TH-(r-n);if(n=r,i>0){if(++t>=kH)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var PH=CH,IH=EH,NH=PH,OH=NH(IH),RH=OH,MH=js,$H=gH,DH=RH;function jH(e,t){return DH($H(e,t,MH),e+"")}var LH=jH,UH=J0,FH=sc,BH=fb,zH=Fi;function VH(e,t,n){if(!zH(n))return!1;var r=typeof t;return(r=="number"?FH(n)&&BH(t,n.length):r=="string"&&t in n)?UH(n[t],e):!1}var ep=VH,qH=wI,GH=dH,HH=LH,Z_=ep,WH=HH(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Z_(e,t[0],t[1])?t=[]:n>2&&Z_(t[0],t[1],t[2])&&(t=[t[0]]),GH(e,qH(t,1),[])}),KH=WH;const gb=Oe(KH);function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(this,arguments)}function JH(e,t){return ZH(e)||QH(e,t)||XH(e,t)||YH()}function YH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XH(e,t){if(e){if(typeof e=="string")return eS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eS(e,t)}}function eS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ZH(e){if(Array.isArray(e))return e}function tS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(n),!0).forEach(function(r){e9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e9(e,t,n){return t=t9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9(e){var t=n9(e,"string");return xu(t)=="symbol"?t:t+""}function n9(e,t){if(xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r9(e){return Array.isArray(e)&&_t(e[0])&&_t(e[1])?e.join(" ~ "):e}var i9=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,a=t.itemStyle,s=a===void 0?{}:a,l=t.labelStyle,u=l===void 0?{}:l,c=t.payload,d=t.formatter,h=t.itemSorter,g=t.wrapperClassName,v=t.labelClassName,b=t.label,y=t.labelFormatter,w=t.accessibilityLayer,x=w===void 0?!1:w,_=function(){if(c&&c.length){var M={padding:0,margin:0},L=(h?gb(c,h):c).map(function($,D){if($.type==="none")return null;var U=Tm({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),V=$.formatter||d||r9,P=$.value,j=$.name,z=P,J=j;if(V&&z!=null&&J!=null){var G=V(P,j,$,D,c);if(Array.isArray(G)){var oe=JH(G,2);z=oe[0],J=oe[1]}else z=G}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:U},_t(J)?I.createElement("span",{className:"recharts-tooltip-item-name"},J):null,_t(J)?I.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,I.createElement("span",{className:"recharts-tooltip-item-value"},z),I.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:M},L)}return null},k=Tm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=Tm({margin:0},u),S=!ye(b),T=S?b:"",A=be("recharts-default-tooltip",g),C=be("recharts-tooltip-label",v);S&&y&&c!==void 0&&c!==null&&(T=y(b,c));var N=x?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",kv({className:A,style:k},N),I.createElement("p",{className:C,style:E},I.isValidElement(T)?T:"".concat(T)),_())};function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function Gc(e,t,n){return t=o9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o9(e){var t=a9(e,"string");return wu(t)=="symbol"?t:t+""}function a9(e,t){if(wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var al="recharts-tooltip-wrapper",s9={visibility:"hidden"};function l9(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return be(al,Gc(Gc(Gc(Gc({},"".concat(al,"-right"),H(n)&&t&&H(t.x)&&n>=t.x),"".concat(al,"-left"),H(n)&&t&&H(t.x)&&n<t.x),"".concat(al,"-bottom"),H(r)&&t&&H(t.y)&&r>=t.y),"".concat(al,"-top"),H(r)&&t&&H(t.y)&&r<t.y))}function nS(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(o&&H(o[r]))return o[r];var c=n[r]-s-i,d=n[r]+i;if(t[r])return a[r]?c:d;if(a[r]){var h=c,g=l[r];return h<g?Math.max(d,l[r]):Math.max(c,l[r])}var v=d+s,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(d,l[r])}function u9(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function c9(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,a=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,c,d;return a.height>0&&a.width>0&&n?(c=nS({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=nS({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=u9({translateX:c,translateY:d,useTranslate3d:s})):u=s9,{cssProperties:u,cssClasses:l9({translateX:c,translateY:d,coordinate:n})}}function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function rS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(n),!0).forEach(function(r){Av(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TI(r.key),r)}}function h9(e,t,n){return t&&f9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p9(e,t,n){return t=mf(t),m9(e,kI()?Reflect.construct(t,n||[],mf(e).constructor):t.apply(e,n))}function m9(e,t){if(t&&(ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g9(e)}function g9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kI=function(){return!!e})()}function mf(e){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mf(e)}function v9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tv(e,t)}function Tv(e,t){return Tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tv(e,t)}function Av(e,t,n){return t=TI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TI(e){var t=y9(e,"string");return ts(t)=="symbol"?t:t+""}function y9(e,t){if(ts(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oS=1,b9=function(e){function t(){var n;d9(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=p9(this,t,[].concat(i)),Av(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Av(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return v9(t,e),h9(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>oS||Math.abs(r.height-this.state.lastBoundingBox.height)>oS)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,g=i.offset,v=i.position,b=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,x=i.wrapperStyle,_=c9({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:g,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),k=_.cssClasses,E=_.cssProperties,S=iS(iS({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return I.createElement("div",{tabIndex:-1,className:k,style:S,ref:function(A){r.wrapperNode=A}},u)}}])}(O.PureComponent),x9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fo={isSsr:x9()};function ns(e){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function aS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(n),!0).forEach(function(r){vb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CI(r.key),r)}}function S9(e,t,n){return t&&_9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E9(e,t,n){return t=gf(t),k9(e,AI()?Reflect.construct(t,n||[],gf(e).constructor):t.apply(e,n))}function k9(e,t){if(t&&(ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T9(e)}function T9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AI=function(){return!!e})()}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gf(e)}function A9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cv(e,t)}function Cv(e,t){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cv(e,t)}function vb(e,t,n){return t=CI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CI(e){var t=C9(e,"string");return ns(t)=="symbol"?t:t+""}function C9(e,t){if(ns(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function P9(e){return e.dataKey}function I9(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(i9,t)}var er=function(e){function t(){return w9(this,t),E9(this,t,arguments)}return A9(t,e),S9(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,g=i.offset,v=i.payload,b=i.payloadUniqBy,y=i.position,w=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,k=i.wrapperStyle,E=v??[];d&&E.length&&(E=vI(v.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),b,P9));var S=E.length>0;return I.createElement(b9,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:S,offset:g,position:y,reverseDirection:w,useTranslate3d:x,viewBox:_,wrapperStyle:k},I9(u,sS(sS({},this.props),{},{payload:E})))}}])}(O.PureComponent);vb(er,"displayName","Tooltip");vb(er,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var N9=kr,O9=function(){return N9.Date.now()},R9=O9,M9=/\s/;function $9(e){for(var t=e.length;t--&&M9.test(e.charAt(t)););return t}var D9=$9,j9=D9,L9=/^\s+/;function U9(e){return e&&e.slice(0,j9(e)+1).replace(L9,"")}var F9=U9,B9=F9,lS=Fi,z9=Cs,uS=NaN,V9=/^[-+]0x[0-9a-f]+$/i,q9=/^0b[01]+$/i,G9=/^0o[0-7]+$/i,H9=parseInt;function W9(e){if(typeof e=="number")return e;if(z9(e))return uS;if(lS(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=lS(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=B9(e);var n=q9.test(e);return n||G9.test(e)?H9(e.slice(2),n?2:8):V9.test(e)?uS:+e}var PI=W9,K9=Fi,Am=R9,cS=PI,J9="Expected a function",Y9=Math.max,X9=Math.min;function Q9(e,t,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(J9);t=cS(t)||0,K9(n)&&(c=!!n.leading,d="maxWait"in n,o=d?Y9(cS(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function g(S){var T=r,A=i;return r=i=void 0,u=S,a=e.apply(A,T),a}function v(S){return u=S,s=setTimeout(w,t),c?g(S):a}function b(S){var T=S-l,A=S-u,C=t-T;return d?X9(C,o-A):C}function y(S){var T=S-l,A=S-u;return l===void 0||T>=t||T<0||d&&A>=o}function w(){var S=Am();if(y(S))return x(S);s=setTimeout(w,b(S))}function x(S){return s=void 0,h&&r?g(S):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function k(){return s===void 0?a:x(Am())}function E(){var S=Am(),T=y(S);if(r=arguments,i=this,l=S,T){if(s===void 0)return v(l);if(d)return clearTimeout(s),s=setTimeout(w,t),g(l)}return s===void 0&&(s=setTimeout(w,t)),a}return E.cancel=_,E.flush=k,E}var Z9=Q9,eW=Z9,tW=Fi,nW="Expected a function";function rW(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(nW);return tW(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),eW(e,t,{leading:r,maxWait:t,trailing:i})}var iW=rW;const II=Oe(iW);function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function dS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(n),!0).forEach(function(r){oW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oW(e,t,n){return t=aW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aW(e){var t=sW(e,"string");return _u(t)=="symbol"?t:t+""}function sW(e,t){if(_u(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lW(e,t){return fW(e)||dW(e,t)||cW(e,t)||uW()}function uW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cW(e,t){if(e){if(typeof e=="string")return fS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fS(e,t)}}function fS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function fW(e){if(Array.isArray(e))return e}var NI=O.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,a=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,c=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,g=e.children,v=e.debounce,b=v===void 0?0:v,y=e.id,w=e.className,x=e.onResize,_=e.style,k=_===void 0?{}:_,E=O.useRef(null),S=O.useRef();S.current=x,O.useImperativeHandle(t,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var T=O.useState({containerWidth:i.width,containerHeight:i.height}),A=lW(T,2),C=A[0],N=A[1],R=O.useCallback(function(L,$){N(function(D){var U=Math.round(L),V=Math.round($);return D.containerWidth===U&&D.containerHeight===V?D:{containerWidth:U,containerHeight:V}})},[]);O.useEffect(function(){var L=function(j){var z,J=j[0].contentRect,G=J.width,oe=J.height;R(G,oe),(z=S.current)===null||z===void 0||z.call(S,G,oe)};b>0&&(L=II(L,b,{trailing:!0,leading:!1}));var $=new ResizeObserver(L),D=E.current.getBoundingClientRect(),U=D.width,V=D.height;return R(U,V),$.observe(E.current),function(){$.disconnect()}},[R,b]);var M=O.useMemo(function(){var L=C.containerWidth,$=C.containerHeight;if(L<0||$<0)return null;ar(go(a)||go(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),ar(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=go(a)?L:a,U=go(l)?$:l;n&&n>0&&(D?U=D/n:U&&(D=U*n),h&&U>h&&(U=h)),ar(D>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,U,a,l,c,d,n);var V=!Array.isArray(g)&&qr(g.type).endsWith("Chart");return I.Children.map(g,function(P){return I.isValidElement(P)?O.cloneElement(P,Hc({width:D,height:U},V?{style:Hc({height:"100%",width:"100%",maxHeight:U,maxWidth:D},P.props.style)}:{})):P})},[n,g,l,h,d,c,C,a]);return I.createElement("div",{id:y?"".concat(y):void 0,className:be("recharts-responsive-container",w),style:Hc(Hc({},k),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:E},M)}),tp=function(t){return null};tp.displayName="Cell";function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function hS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(n),!0).forEach(function(r){hW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hW(e,t,n){return t=pW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pW(e){var t=mW(e,"string");return Su(t)=="symbol"?t:t+""}function mW(e,t){if(Su(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var na={widthCache:{},cacheCount:0},gW=2e3,vW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pS="recharts_measurement_span";function yW(e){var t=Pv({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Dl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fo.isSsr)return{width:0,height:0};var r=yW(n),i=JSON.stringify({text:t,copyStyle:r});if(na.widthCache[i])return na.widthCache[i];try{var o=document.getElementById(pS);o||(o=document.createElement("span"),o.setAttribute("id",pS),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Pv(Pv({},vW),r);Object.assign(o.style,a),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return na.widthCache[i]=l,++na.cacheCount>gW&&(na.cacheCount=0,na.widthCache={}),l}catch{return{width:0,height:0}}},bW=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function vf(e,t){return SW(e)||_W(e,t)||wW(e,t)||xW()}function xW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wW(e,t){if(e){if(typeof e=="string")return mS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mS(e,t)}}function mS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _W(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function SW(e){if(Array.isArray(e))return e}function EW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TW(r.key),r)}}function kW(e,t,n){return t&&gS(e.prototype,t),n&&gS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function TW(e){var t=AW(e,"string");return Eu(t)=="symbol"?t:t+""}function AW(e,t){if(Eu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,PW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},IW=Object.keys(OI),Ea="NaN";function NW(e,t){return e*OI[t]}var Wc=function(){function e(t,n){EW(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!CW.test(n)&&(this.num=NaN,this.unit=""),IW.includes(n)&&(this.num=NW(t,n),this.unit="px")}return kW(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=PW.exec(n))!==null&&r!==void 0?r:[],o=vf(i,3),a=o[1],s=o[2];return new e(parseFloat(a),s??"")}}])}();function RI(e){if(e.includes(Ea))return Ea;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=vS.exec(t))!==null&&n!==void 0?n:[],i=vf(r,4),o=i[1],a=i[2],s=i[3],l=Wc.parse(o??""),u=Wc.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ea;t=t.replace(vS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=yS.exec(t))!==null&&d!==void 0?d:[],g=vf(h,4),v=g[1],b=g[2],y=g[3],w=Wc.parse(v??""),x=Wc.parse(y??""),_=b==="+"?w.add(x):w.subtract(x);if(_.isNaN())return Ea;t=t.replace(yS,_.toString())}return t}var bS=/\(([^()]*)\)/;function OW(e){for(var t=e;t.includes("(");){var n=bS.exec(t),r=vf(n,2),i=r[1];t=t.replace(bS,RI(i))}return t}function RW(e){var t=e.replace(/\s+/g,"");return t=OW(t),t=RI(t),t}function MW(e){try{return RW(e)}catch{return Ea}}function Cm(e){var t=MW(e.slice(5,-1));return t===Ea?"":t}var $W=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],DW=["dx","dy","angle","className","breakAll"];function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iv.apply(this,arguments)}function xS(e,t){if(e==null)return{};var n=jW(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jW(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wS(e,t){return BW(e)||FW(e,t)||UW(e,t)||LW()}function LW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UW(e,t){if(e){if(typeof e=="string")return _S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _S(e,t)}}function _S(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function BW(e){if(Array.isArray(e))return e}var MI=/[ \f\n\r\t\v\u2028\u2029]+/,$I=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];ye(n)||(r?o=n.toString().split(""):o=n.toString().split(MI));var a=o.map(function(l){return{word:l,width:Dl(l,i).width}}),s=r?0:Dl("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},zW=function(t,n,r,i,o){var a=t.maxLines,s=t.children,l=t.style,u=t.breakAll,c=H(a),d=s,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(U,V){var P=V.word,j=V.width,z=U[U.length-1];if(z&&(i==null||o||z.width+j+r<Number(i)))z.words.push(P),z.width+=j+r;else{var J={words:[P],width:j};U.push(J)}return U},[])},g=h(n),v=function(D){return D.reduce(function(U,V){return U.width>V.width?U:V})};if(!c)return g;for(var b="",y=function(D){var U=d.slice(0,D),V=$I({breakAll:u,style:l,children:U+b}).wordsWithComputedWidth,P=h(V),j=P.length>a||v(P).width>Number(i);return[j,P]},w=0,x=d.length-1,_=0,k;w<=x&&_<=d.length-1;){var E=Math.floor((w+x)/2),S=E-1,T=y(S),A=wS(T,2),C=A[0],N=A[1],R=y(E),M=wS(R,1),L=M[0];if(!C&&!L&&(w=E+1),C&&L&&(x=E-1),!C&&L){k=N;break}_++}return k||g},SS=function(t){var n=ye(t)?[]:t.toString().split(MI);return[{words:n}]},VW=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,a=t.breakAll,s=t.maxLines;if((n||r)&&!Fo.isSsr){var l,u,c=$I({breakAll:a,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return SS(i);return zW({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return SS(i)},ES="#808080",Ro=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.lineHeight,s=a===void 0?"1em":a,l=t.capHeight,u=l===void 0?"0.71em":l,c=t.scaleToFit,d=c===void 0?!1:c,h=t.textAnchor,g=h===void 0?"start":h,v=t.verticalAnchor,b=v===void 0?"end":v,y=t.fill,w=y===void 0?ES:y,x=xS(t,$W),_=O.useMemo(function(){return VW({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),k=x.dx,E=x.dy,S=x.angle,T=x.className,A=x.breakAll,C=xS(x,DW);if(!_t(r)||!_t(o))return null;var N=r+(H(k)?k:0),R=o+(H(E)?E:0),M;switch(b){case"start":M=Cm("calc(".concat(u,")"));break;case"middle":M=Cm("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:M=Cm("calc(".concat(_.length-1," * -").concat(s,")"));break}var L=[];if(d){var $=_[0].width,D=x.width;L.push("scale(".concat((H(D)?D/$:1)/$,")"))}return S&&L.push("rotate(".concat(S,", ").concat(N,", ").concat(R,")")),L.length&&(C.transform=L.join(" ")),I.createElement("text",Iv({},ae(C,!0),{x:N,y:R,className:be("recharts-text",T),textAnchor:g,fill:w.includes("url")?ES:w}),_.map(function(U,V){var P=U.words.join(A?"":" ");return I.createElement("tspan",{x:N,dy:V===0?M:s,key:"".concat(P,"-").concat(V)},P)}))};function Mi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yb(e){let t,n,r;e.length!==2?(t=Mi,n=(s,l)=>Mi(e(s),l),r=(s,l)=>e(s)-l):(t=e===Mi||e===qW?e:GW,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function GW(){return 0}function DI(e){return e===null?NaN:+e}function*HW(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const WW=yb(Mi),lc=WW.right;yb(DI).center;class kS extends Map{constructor(t,n=YW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(TS(this,t))}has(t){return super.has(TS(this,t))}set(t,n){return super.set(KW(this,t),n)}delete(t){return super.delete(JW(this,t))}}function TS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function KW({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function JW({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function YW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function XW(e=Mi){if(e===Mi)return jI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function jI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const QW=Math.sqrt(50),ZW=Math.sqrt(10),e7=Math.sqrt(2);function yf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=QW?10:o>=ZW?5:o>=e7?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?yf(e,t,n*2):[s,l,u]}function Nv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?yf(t,e,n):yf(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Ov(e,t,n){return t=+t,e=+e,n=+n,yf(e,t,n)[2]}function Rv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ov(t,e,n):Ov(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function AS(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function CS(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function LI(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?jI:XW(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(t-u*d/l+h)),v=Math.min(r,Math.floor(t+(l-u)*d/l+h));LI(e,t,g,v,i)}const o=e[t];let a=n,s=r;for(sl(e,n,t),i(e[r],o)>0&&sl(e,n,r);a<s;){for(sl(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?sl(e,n,s):(++s,sl(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function sl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function t7(e,t,n){if(e=Float64Array.from(HW(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return CS(e);if(t>=1)return AS(e);var r,i=(r-1)*t,o=Math.floor(i),a=AS(LI(e,o).subarray(0,o+1)),s=CS(e.subarray(o+1));return a+(s-a)*(i-o)}}function n7(e,t,n=DI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function r7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function oi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Mv=Symbol("implicit");function bb(){var e=new kS,t=[],n=[],r=Mv;function i(o){let a=e.get(o);if(a===void 0){if(r!==Mv)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new kS;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return bb(t,n).unknown(r)},Gn.apply(i,arguments),i}function ku(){var e=bb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var h=t().length,g=i<r,v=g?i:r,b=g?r:i;o=(b-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(b-v-o*(h-l))*c,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var y=r7(h).map(function(w){return v+o*w});return n(g?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return ku(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Gn.apply(d(),arguments)}function UI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return UI(t())},e}function jl(){return UI(ku.apply(null,arguments).paddingInner(1))}function xb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function FI(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function uc(){}var Tu=.7,bf=1/Tu,Ua="\\s*([+-]?\\d+)\\s*",Au="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i7=/^#([0-9a-f]{3,8})$/,o7=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),a7=new RegExp(`^rgb\\(${wr},${wr},${wr}\\)$`),s7=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${Au}\\)$`),l7=new RegExp(`^rgba\\(${wr},${wr},${wr},${Au}\\)$`),u7=new RegExp(`^hsl\\(${Au},${wr},${wr}\\)$`),c7=new RegExp(`^hsla\\(${Au},${wr},${wr},${Au}\\)$`),PS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xb(uc,Cu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:IS,formatHex:IS,formatHex8:d7,formatHsl:f7,formatRgb:NS,toString:NS});function IS(){return this.rgb().formatHex()}function d7(){return this.rgb().formatHex8()}function f7(){return BI(this).formatHsl()}function NS(){return this.rgb().formatRgb()}function Cu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=i7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?OS(t):n===3?new ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Kc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Kc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=o7.exec(e))?new ln(t[1],t[2],t[3],1):(t=a7.exec(e))?new ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=s7.exec(e))?Kc(t[1],t[2],t[3],t[4]):(t=l7.exec(e))?Kc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=u7.exec(e))?$S(t[1],t[2]/100,t[3]/100,1):(t=c7.exec(e))?$S(t[1],t[2]/100,t[3]/100,t[4]):PS.hasOwnProperty(e)?OS(PS[e]):e==="transparent"?new ln(NaN,NaN,NaN,0):null}function OS(e){return new ln(e>>16&255,e>>8&255,e&255,1)}function Kc(e,t,n,r){return r<=0&&(e=t=n=NaN),new ln(e,t,n,r)}function h7(e){return e instanceof uc||(e=Cu(e)),e?(e=e.rgb(),new ln(e.r,e.g,e.b,e.opacity)):new ln}function $v(e,t,n,r){return arguments.length===1?h7(e):new ln(e,t,n,r??1)}function ln(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xb(ln,$v,FI(uc,{brighter(e){return e=e==null?bf:Math.pow(bf,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tu:Math.pow(Tu,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ln(Eo(this.r),Eo(this.g),Eo(this.b),xf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RS,formatHex:RS,formatHex8:p7,formatRgb:MS,toString:MS}));function RS(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}`}function p7(){return`#${vo(this.r)}${vo(this.g)}${vo(this.b)}${vo((isNaN(this.opacity)?1:this.opacity)*255)}`}function MS(){const e=xf(this.opacity);return`${e===1?"rgb(":"rgba("}${Eo(this.r)}, ${Eo(this.g)}, ${Eo(this.b)}${e===1?")":`, ${e})`}`}function xf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Eo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vo(e){return e=Eo(e),(e<16?"0":"")+e.toString(16)}function $S(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rr(e,t,n,r)}function BI(e){if(e instanceof rr)return new rr(e.h,e.s,e.l,e.opacity);if(e instanceof uc||(e=Cu(e)),!e)return new rr;if(e instanceof rr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new rr(a,s,l,e.opacity)}function m7(e,t,n,r){return arguments.length===1?BI(e):new rr(e,t,n,r??1)}function rr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xb(rr,m7,FI(uc,{brighter(e){return e=e==null?bf:Math.pow(bf,e),new rr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tu:Math.pow(Tu,e),new rr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ln(Pm(e>=240?e-240:e+120,i,r),Pm(e,i,r),Pm(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new rr(DS(this.h),Jc(this.s),Jc(this.l),xf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xf(this.opacity);return`${e===1?"hsl(":"hsla("}${DS(this.h)}, ${Jc(this.s)*100}%, ${Jc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function DS(e){return e=(e||0)%360,e<0?e+360:e}function Jc(e){return Math.max(0,Math.min(1,e||0))}function Pm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wb=e=>()=>e;function g7(e,t){return function(n){return e+n*t}}function v7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function y7(e){return(e=+e)==1?zI:function(t,n){return n-t?v7(t,n,e):wb(isNaN(t)?n:t)}}function zI(e,t){var n=t-e;return n?g7(e,n):wb(isNaN(e)?t:e)}const jS=function e(t){var n=y7(t);function r(i,o){var a=n((i=$v(i)).r,(o=$v(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=zI(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function b7(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function x7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function w7(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ls(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function _7(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function wf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function S7(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ls(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Dv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Im=new RegExp(Dv.source,"g");function E7(e){return function(){return e}}function k7(e){return function(t){return e(t)+""}}function T7(e,t){var n=Dv.lastIndex=Im.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Dv.exec(e))&&(i=Im.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:wf(r,i)})),n=Im.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?k7(l[0].x):E7(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Ls(e,t){var n=typeof t,r;return t==null||n==="boolean"?wb(t):(n==="number"?wf:n==="string"?(r=Cu(t))?(t=r,jS):T7:t instanceof Cu?jS:t instanceof Date?_7:x7(t)?b7:Array.isArray(t)?w7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?S7:wf)(e,t)}function _b(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function A7(e,t){t===void 0&&(t=e,e=Ls);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function C7(e){return function(){return e}}function _f(e){return+e}var LS=[0,1];function Qt(e){return e}function jv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:C7(isNaN(t)?NaN:.5)}function P7(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function I7(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=jv(i,r),o=n(a,o)):(r=jv(r,i),o=n(o,a)),function(s){return o(r(s))}}function N7(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=jv(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=lc(e,s,1,r)-1;return o[l](i[l](s))}}function cc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function np(){var e=LS,t=LS,n=Ls,r,i,o,a=Qt,s,l,u;function c(){var h=Math.min(e.length,t.length);return a!==Qt&&(a=P7(e[0],e[h-1])),s=h>2?N7:I7,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(r),t,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(t,e.map(r),wf)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,_f),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=_b,c()},d.clamp=function(h){return arguments.length?(a=h?!0:Qt,c()):a!==Qt},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,g){return r=h,i=g,c()}}function Sb(){return np()(Qt,Qt)}function O7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Sf(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function rs(e){return e=Sf(Math.abs(e)),e?e[1]:NaN}function R7(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function M7(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var $7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pu(e){if(!(t=$7.exec(e)))throw new Error("invalid format: "+e);var t;return new Eb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pu.prototype=Eb.prototype;function Eb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Eb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function D7(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Ef;function j7(e,t){var n=Sf(e,t);if(!n)return Ef=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(Ef=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Sf(e,Math.max(0,t+o-1))[0]}function US(e,t){var n=Sf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const FS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:O7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>US(e*100,t),r:US,s:j7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BS(e){return e}var zS=Array.prototype.map,VS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function L7(e){var t=e.grouping===void 0||e.thousands===void 0?BS:R7(zS.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?BS:M7(zS.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d,h){d=Pu(d);var g=d.fill,v=d.align,b=d.sign,y=d.symbol,w=d.zero,x=d.width,_=d.comma,k=d.precision,E=d.trim,S=d.type;S==="n"?(_=!0,S="g"):FS[S]||(k===void 0&&(k=12),E=!0,S="g"),(w||g==="0"&&v==="=")&&(w=!0,g="0",v="=");var T=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),A=(y==="$"?r:/[%p]/.test(S)?a:"")+(h&&h.suffix!==void 0?h.suffix:""),C=FS[S],N=/[defgprs%]/.test(S);k=k===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function R(M){var L=T,$=A,D,U,V;if(S==="c")$=C(M)+$,M="";else{M=+M;var P=M<0||1/M<0;if(M=isNaN(M)?l:C(Math.abs(M),k),E&&(M=D7(M)),P&&+M==0&&b!=="+"&&(P=!1),L=(P?b==="("?b:s:b==="-"||b==="("?"":b)+L,$=(S==="s"&&!isNaN(M)&&Ef!==void 0?VS[8+Ef/3]:"")+$+(P&&b==="("?")":""),N){for(D=-1,U=M.length;++D<U;)if(V=M.charCodeAt(D),48>V||V>57){$=(V===46?i+M.slice(D+1):M.slice(D))+$,M=M.slice(0,D);break}}}_&&!w&&(M=t(M,1/0));var j=L.length+M.length+$.length,z=j<x?new Array(x-j+1).join(g):"";switch(_&&w&&(M=t(z+M,z.length?x-$.length:1/0),z=""),v){case"<":M=L+M+$+z;break;case"=":M=L+z+M+$;break;case"^":M=z.slice(0,j=z.length>>1)+L+M+$+z.slice(j);break;default:M=z+L+M+$;break}return o(M)}return R.toString=function(){return d+""},R}function c(d,h){var g=Math.max(-8,Math.min(8,Math.floor(rs(h)/3)))*3,v=Math.pow(10,-g),b=u((d=Pu(d),d.type="f",d),{suffix:VS[8+g/3]});return function(y){return b(v*y)}}return{format:u,formatPrefix:c}}var Yc,kb,VI;U7({thousands:",",grouping:[3],currency:["$",""]});function U7(e){return Yc=L7(e),kb=Yc.format,VI=Yc.formatPrefix,Yc}function F7(e){return Math.max(0,-rs(Math.abs(e)))}function B7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rs(t)/3)))*3-rs(Math.abs(e)))}function z7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rs(t)-rs(e))+1}function qI(e,t,n,r){var i=Rv(e,t,n),o;switch(r=Pu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=B7(i,a))&&(r.precision=o),VI(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=z7(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=F7(i))&&(r.precision=o-(r.type==="%")*2);break}}return kb(r)}function Bi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Nv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return qI(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Ov(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function kf(){var e=Sb();return e.copy=function(){return cc(e,kf())},Gn.apply(e,arguments),Bi(e)}function GI(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,_f),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return GI(e).unknown(t)},e=arguments.length?Array.from(e,_f):[0,1],Bi(n)}function HI(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function qS(e){return Math.log(e)}function GS(e){return Math.exp(e)}function V7(e){return-Math.log(-e)}function q7(e){return-Math.exp(-e)}function G7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function H7(e){return e===10?G7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function W7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function HS(e){return(t,n)=>-e(-t,n)}function Tb(e){const t=e(qS,GS),n=t.domain;let r=10,i,o;function a(){return i=W7(r),o=H7(r),n()[0]<0?(i=HS(i),o=HS(o),e(V7,q7)):e(qS,GS),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),g=i(c),v,b;const y=s==null?10:+s;let w=[];if(!(r%1)&&g-h<y){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<r;++v)if(b=h<0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;w.push(b)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;w.push(b)}w.length*2<y&&(w=Nv(u,c,y))}else w=Nv(h,g,Math.min(g-h,y)).map(o);return d?w.reverse():w},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Pu(l)).precision==null&&(l.trim=!0),l=kb(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(HI(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function WI(){const e=Tb(np()).domain([1,10]);return e.copy=()=>cc(e,WI()).base(e.base()),Gn.apply(e,arguments),e}function WS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function KS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ab(e){var t=1,n=e(WS(t),KS(t));return n.constant=function(r){return arguments.length?e(WS(t=+r),KS(t)):t},Bi(n)}function KI(){var e=Ab(np());return e.copy=function(){return cc(e,KI()).constant(e.constant())},Gn.apply(e,arguments)}function JS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function K7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function J7(e){return e<0?-e*e:e*e}function Cb(e){var t=e(Qt,Qt),n=1;function r(){return n===1?e(Qt,Qt):n===.5?e(K7,J7):e(JS(n),JS(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Bi(t)}function Pb(){var e=Cb(np());return e.copy=function(){return cc(e,Pb()).exponent(e.exponent())},Gn.apply(e,arguments),e}function Y7(){return Pb.apply(null,arguments).exponent(.5)}function YS(e){return Math.sign(e)*e*e}function X7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function JI(){var e=Sb(),t=[0,1],n=!1,r;function i(o){var a=X7(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(YS(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,_f)).map(YS)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return JI(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Gn.apply(i,arguments),Bi(i)}function YI(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=n7(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[lc(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Mi),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return YI().domain(e).range(t).unknown(r)},Gn.apply(o,arguments)}function XI(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[lc(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return XI().domain([e,t]).range(i).unknown(o)},Gn.apply(Bi(a),arguments)}function QI(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[lc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return QI().domain(e).range(t).unknown(n)},Gn.apply(i,arguments)}const Nm=new Date,Om=new Date;function St(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return l},i.filter=o=>St(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(Nm.setTime(+o),Om.setTime(+a),e(Nm),e(Om),Math.floor(n(Nm,Om))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Tf=St(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Tf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?St(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Tf);Tf.range;const Fr=1e3,Dn=Fr*60,Br=Dn*60,Xr=Br*24,Ib=Xr*7,XS=Xr*30,Rm=Xr*365,yo=St(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fr)},(e,t)=>(t-e)/Fr,e=>e.getUTCSeconds());yo.range;const Nb=St(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fr)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getMinutes());Nb.range;const Ob=St(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCMinutes());Ob.range;const Rb=St(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fr-e.getMinutes()*Dn)},(e,t)=>{e.setTime(+e+t*Br)},(e,t)=>(t-e)/Br,e=>e.getHours());Rb.range;const Mb=St(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Br)},(e,t)=>(t-e)/Br,e=>e.getUTCHours());Mb.range;const dc=St(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dn)/Xr,e=>e.getDate()-1);dc.range;const rp=St(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xr,e=>e.getUTCDate()-1);rp.range;const ZI=St(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xr,e=>Math.floor(e/Xr));ZI.range;function Bo(e){return St(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Dn)/Ib)}const ip=Bo(0),Af=Bo(1),Q7=Bo(2),Z7=Bo(3),is=Bo(4),eK=Bo(5),tK=Bo(6);ip.range;Af.range;Q7.range;Z7.range;is.range;eK.range;tK.range;function zo(e){return St(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ib)}const op=zo(0),Cf=zo(1),nK=zo(2),rK=zo(3),os=zo(4),iK=zo(5),oK=zo(6);op.range;Cf.range;nK.range;rK.range;os.range;iK.range;oK.range;const $b=St(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$b.range;const Db=St(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Db.range;const Qr=St(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:St(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Qr.range;const Zr=St(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:St(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Zr.range;function eN(e,t,n,r,i,o){const a=[[yo,1,Fr],[yo,5,5*Fr],[yo,15,15*Fr],[yo,30,30*Fr],[o,1,Dn],[o,5,5*Dn],[o,15,15*Dn],[o,30,30*Dn],[i,1,Br],[i,3,3*Br],[i,6,6*Br],[i,12,12*Br],[r,1,Xr],[r,2,2*Xr],[n,1,Ib],[t,1,XS],[t,3,3*XS],[e,1,Rm]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const g=d&&typeof d.range=="function"?d:l(u,c,d),v=g?g.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,d){const h=Math.abs(c-u)/d,g=yb(([,,y])=>y).right(a,h);if(g===a.length)return e.every(Rv(u/Rm,c/Rm,d));if(g===0)return Tf.every(Math.max(Rv(u,c,d),1));const[v,b]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return v.every(b)}return[s,l]}const[aK,sK]=eN(Zr,Db,op,ZI,Mb,Ob),[lK,uK]=eN(Qr,$b,ip,dc,Rb,Nb);function Mm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $m(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ll(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function cK(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=ul(i),c=cl(i),d=ul(o),h=cl(o),g=ul(a),v=cl(a),b=ul(s),y=cl(s),w=ul(l),x=cl(l),_={a:V,A:P,b:j,B:z,c:null,d:r1,e:r1,f:RK,g:VK,G:GK,H:IK,I:NK,j:OK,L:tN,m:MK,M:$K,p:J,q:G,Q:a1,s:s1,S:DK,u:jK,U:LK,V:UK,w:FK,W:BK,x:null,X:null,y:zK,Y:qK,Z:HK,"%":o1},k={a:oe,A:pe,b:xe,B:We,c:null,d:i1,e:i1,f:YK,g:aJ,G:lJ,H:WK,I:KK,j:JK,L:rN,m:XK,M:QK,p:Ot,q:Ee,Q:a1,s:s1,S:ZK,u:eJ,U:tJ,V:nJ,w:rJ,W:iJ,x:null,X:null,y:oJ,Y:sJ,Z:uJ,"%":o1},E={a:N,A:R,b:M,B:L,c:$,d:t1,e:t1,f:TK,g:e1,G:ZS,H:n1,I:n1,j:_K,L:kK,m:wK,M:SK,p:C,q:xK,Q:CK,s:PK,S:EK,u:mK,U:gK,V:vK,w:pK,W:yK,x:D,X:U,y:e1,Y:ZS,Z:bK,"%":AK};_.x=S(n,_),_.X=S(r,_),_.c=S(t,_),k.x=S(n,k),k.X=S(r,k),k.c=S(t,k);function S(X,ue){return function(ve){var q=[],Re=-1,we=0,Be=X.length,nt,Ke,rn;for(ve instanceof Date||(ve=new Date(+ve));++Re<Be;)X.charCodeAt(Re)===37&&(q.push(X.slice(we,Re)),(Ke=QS[nt=X.charAt(++Re)])!=null?nt=X.charAt(++Re):Ke=nt==="e"?" ":"0",(rn=ue[nt])&&(nt=rn(ve,Ke)),q.push(nt),we=Re+1);return q.push(X.slice(we,Re)),q.join("")}}function T(X,ue){return function(ve){var q=ll(1900,void 0,1),Re=A(q,X,ve+="",0),we,Be;if(Re!=ve.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ue&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(we=$m(ll(q.y,0,1)),Be=we.getUTCDay(),we=Be>4||Be===0?Cf.ceil(we):Cf(we),we=rp.offset(we,(q.V-1)*7),q.y=we.getUTCFullYear(),q.m=we.getUTCMonth(),q.d=we.getUTCDate()+(q.w+6)%7):(we=Mm(ll(q.y,0,1)),Be=we.getDay(),we=Be>4||Be===0?Af.ceil(we):Af(we),we=dc.offset(we,(q.V-1)*7),q.y=we.getFullYear(),q.m=we.getMonth(),q.d=we.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Be="Z"in q?$m(ll(q.y,0,1)).getUTCDay():Mm(ll(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Be+5)%7:q.w+q.U*7-(Be+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,$m(q)):Mm(q)}}function A(X,ue,ve,q){for(var Re=0,we=ue.length,Be=ve.length,nt,Ke;Re<we;){if(q>=Be)return-1;if(nt=ue.charCodeAt(Re++),nt===37){if(nt=ue.charAt(Re++),Ke=E[nt in QS?ue.charAt(Re++):nt],!Ke||(q=Ke(X,ve,q))<0)return-1}else if(nt!=ve.charCodeAt(q++))return-1}return q}function C(X,ue,ve){var q=u.exec(ue.slice(ve));return q?(X.p=c.get(q[0].toLowerCase()),ve+q[0].length):-1}function N(X,ue,ve){var q=g.exec(ue.slice(ve));return q?(X.w=v.get(q[0].toLowerCase()),ve+q[0].length):-1}function R(X,ue,ve){var q=d.exec(ue.slice(ve));return q?(X.w=h.get(q[0].toLowerCase()),ve+q[0].length):-1}function M(X,ue,ve){var q=w.exec(ue.slice(ve));return q?(X.m=x.get(q[0].toLowerCase()),ve+q[0].length):-1}function L(X,ue,ve){var q=b.exec(ue.slice(ve));return q?(X.m=y.get(q[0].toLowerCase()),ve+q[0].length):-1}function $(X,ue,ve){return A(X,t,ue,ve)}function D(X,ue,ve){return A(X,n,ue,ve)}function U(X,ue,ve){return A(X,r,ue,ve)}function V(X){return a[X.getDay()]}function P(X){return o[X.getDay()]}function j(X){return l[X.getMonth()]}function z(X){return s[X.getMonth()]}function J(X){return i[+(X.getHours()>=12)]}function G(X){return 1+~~(X.getMonth()/3)}function oe(X){return a[X.getUTCDay()]}function pe(X){return o[X.getUTCDay()]}function xe(X){return l[X.getUTCMonth()]}function We(X){return s[X.getUTCMonth()]}function Ot(X){return i[+(X.getUTCHours()>=12)]}function Ee(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ue=S(X+="",_);return ue.toString=function(){return X},ue},parse:function(X){var ue=T(X+="",!1);return ue.toString=function(){return X},ue},utcFormat:function(X){var ue=S(X+="",k);return ue.toString=function(){return X},ue},utcParse:function(X){var ue=T(X+="",!0);return ue.toString=function(){return X},ue}}}var QS={"-":"",_:" ",0:"0"},It=/^\s*\d+/,dK=/^%/,fK=/[\\^$*+?|[\]().{}]/g;function Ce(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function hK(e){return e.replace(fK,"\\$&")}function ul(e){return new RegExp("^(?:"+e.map(hK).join("|")+")","i")}function cl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function pK(e,t,n){var r=It.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=It.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function gK(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function vK(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function yK(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ZS(e,t,n){var r=It.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function e1(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xK(e,t,n){var r=It.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function wK(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function t1(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function _K(e,t,n){var r=It.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function n1(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function SK(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function EK(e,t,n){var r=It.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function kK(e,t,n){var r=It.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function TK(e,t,n){var r=It.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function AK(e,t,n){var r=dK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function CK(e,t,n){var r=It.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function PK(e,t,n){var r=It.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function r1(e,t){return Ce(e.getDate(),t,2)}function IK(e,t){return Ce(e.getHours(),t,2)}function NK(e,t){return Ce(e.getHours()%12||12,t,2)}function OK(e,t){return Ce(1+dc.count(Qr(e),e),t,3)}function tN(e,t){return Ce(e.getMilliseconds(),t,3)}function RK(e,t){return tN(e,t)+"000"}function MK(e,t){return Ce(e.getMonth()+1,t,2)}function $K(e,t){return Ce(e.getMinutes(),t,2)}function DK(e,t){return Ce(e.getSeconds(),t,2)}function jK(e){var t=e.getDay();return t===0?7:t}function LK(e,t){return Ce(ip.count(Qr(e)-1,e),t,2)}function nN(e){var t=e.getDay();return t>=4||t===0?is(e):is.ceil(e)}function UK(e,t){return e=nN(e),Ce(is.count(Qr(e),e)+(Qr(e).getDay()===4),t,2)}function FK(e){return e.getDay()}function BK(e,t){return Ce(Af.count(Qr(e)-1,e),t,2)}function zK(e,t){return Ce(e.getFullYear()%100,t,2)}function VK(e,t){return e=nN(e),Ce(e.getFullYear()%100,t,2)}function qK(e,t){return Ce(e.getFullYear()%1e4,t,4)}function GK(e,t){var n=e.getDay();return e=n>=4||n===0?is(e):is.ceil(e),Ce(e.getFullYear()%1e4,t,4)}function HK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ce(t/60|0,"0",2)+Ce(t%60,"0",2)}function i1(e,t){return Ce(e.getUTCDate(),t,2)}function WK(e,t){return Ce(e.getUTCHours(),t,2)}function KK(e,t){return Ce(e.getUTCHours()%12||12,t,2)}function JK(e,t){return Ce(1+rp.count(Zr(e),e),t,3)}function rN(e,t){return Ce(e.getUTCMilliseconds(),t,3)}function YK(e,t){return rN(e,t)+"000"}function XK(e,t){return Ce(e.getUTCMonth()+1,t,2)}function QK(e,t){return Ce(e.getUTCMinutes(),t,2)}function ZK(e,t){return Ce(e.getUTCSeconds(),t,2)}function eJ(e){var t=e.getUTCDay();return t===0?7:t}function tJ(e,t){return Ce(op.count(Zr(e)-1,e),t,2)}function iN(e){var t=e.getUTCDay();return t>=4||t===0?os(e):os.ceil(e)}function nJ(e,t){return e=iN(e),Ce(os.count(Zr(e),e)+(Zr(e).getUTCDay()===4),t,2)}function rJ(e){return e.getUTCDay()}function iJ(e,t){return Ce(Cf.count(Zr(e)-1,e),t,2)}function oJ(e,t){return Ce(e.getUTCFullYear()%100,t,2)}function aJ(e,t){return e=iN(e),Ce(e.getUTCFullYear()%100,t,2)}function sJ(e,t){return Ce(e.getUTCFullYear()%1e4,t,4)}function lJ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?os(e):os.ceil(e),Ce(e.getUTCFullYear()%1e4,t,4)}function uJ(){return"+0000"}function o1(){return"%"}function a1(e){return+e}function s1(e){return Math.floor(+e/1e3)}var ra,oN,aN;cJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cJ(e){return ra=cK(e),oN=ra.format,ra.parse,aN=ra.utcFormat,ra.utcParse,ra}function dJ(e){return new Date(e)}function fJ(e){return e instanceof Date?+e:+new Date(+e)}function jb(e,t,n,r,i,o,a,s,l,u){var c=Sb(),d=c.invert,h=c.domain,g=u(".%L"),v=u(":%S"),b=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),x=u("%b %d"),_=u("%B"),k=u("%Y");function E(S){return(l(S)<S?g:s(S)<S?v:a(S)<S?b:o(S)<S?y:r(S)<S?i(S)<S?w:x:n(S)<S?_:k)(S)}return c.invert=function(S){return new Date(d(S))},c.domain=function(S){return arguments.length?h(Array.from(S,fJ)):h().map(dJ)},c.ticks=function(S){var T=h();return e(T[0],T[T.length-1],S??10)},c.tickFormat=function(S,T){return T==null?E:u(T)},c.nice=function(S){var T=h();return(!S||typeof S.range!="function")&&(S=t(T[0],T[T.length-1],S??10)),S?h(HI(T,S)):c},c.copy=function(){return cc(c,jb(e,t,n,r,i,o,a,s,l,u))},c}function hJ(){return Gn.apply(jb(lK,uK,Qr,$b,ip,dc,Rb,Nb,yo,oN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pJ(){return Gn.apply(jb(aK,sK,Zr,Db,op,rp,Mb,Ob,yo,aN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ap(){var e=0,t=1,n,r,i,o,a=Qt,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var g,v;return arguments.length?([g,v]=h,a=d(g,v),u):[a(0),a(1)]}}return u.range=c(Ls),u.rangeRound=c(_b),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function zi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sN(){var e=Bi(ap()(Qt));return e.copy=function(){return zi(e,sN())},oi.apply(e,arguments)}function lN(){var e=Tb(ap()).domain([1,10]);return e.copy=function(){return zi(e,lN()).base(e.base())},oi.apply(e,arguments)}function uN(){var e=Ab(ap());return e.copy=function(){return zi(e,uN()).constant(e.constant())},oi.apply(e,arguments)}function Lb(){var e=Cb(ap());return e.copy=function(){return zi(e,Lb()).exponent(e.exponent())},oi.apply(e,arguments)}function mJ(){return Lb.apply(null,arguments).exponent(.5)}function cN(){var e=[],t=Qt;function n(r){if(r!=null&&!isNaN(r=+r))return t((lc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Mi),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>t7(e,o/r))},n.copy=function(){return cN(t).domain(e)},oi.apply(n,arguments)}function sp(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,u=Qt,c,d=!1,h;function g(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-o)*(r*b<r*o?s:l),u(d?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([e,t,n]=b,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[e,t,n]},g.clamp=function(b){return arguments.length?(d=!!b,g):d},g.interpolator=function(b){return arguments.length?(u=b,g):u};function v(b){return function(y){var w,x,_;return arguments.length?([w,x,_]=y,u=A7(b,[w,x,_]),g):[u(0),u(.5),u(1)]}}return g.range=v(Ls),g.rangeRound=v(_b),g.unknown=function(b){return arguments.length?(h=b,g):h},function(b){return c=b,i=b(e),o=b(t),a=b(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function dN(){var e=Bi(sp()(Qt));return e.copy=function(){return zi(e,dN())},oi.apply(e,arguments)}function fN(){var e=Tb(sp()).domain([.1,1,10]);return e.copy=function(){return zi(e,fN()).base(e.base())},oi.apply(e,arguments)}function hN(){var e=Ab(sp());return e.copy=function(){return zi(e,hN()).constant(e.constant())},oi.apply(e,arguments)}function Ub(){var e=Cb(sp());return e.copy=function(){return zi(e,Ub()).exponent(e.exponent())},oi.apply(e,arguments)}function gJ(){return Ub.apply(null,arguments).exponent(.5)}const l1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ku,scaleDiverging:dN,scaleDivergingLog:fN,scaleDivergingPow:Ub,scaleDivergingSqrt:gJ,scaleDivergingSymlog:hN,scaleIdentity:GI,scaleImplicit:Mv,scaleLinear:kf,scaleLog:WI,scaleOrdinal:bb,scalePoint:jl,scalePow:Pb,scaleQuantile:YI,scaleQuantize:XI,scaleRadial:JI,scaleSequential:sN,scaleSequentialLog:lN,scaleSequentialPow:Lb,scaleSequentialQuantile:cN,scaleSequentialSqrt:mJ,scaleSequentialSymlog:uN,scaleSqrt:Y7,scaleSymlog:KI,scaleThreshold:QI,scaleTime:hJ,scaleUtc:pJ,tickFormat:qI},Symbol.toStringTag,{value:"Module"}));var vJ=Cs;function yJ(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(a!=null&&(s===void 0?a===a&&!vJ(a):n(a,s)))var s=a,l=o}return l}var lp=yJ;function bJ(e,t){return e>t}var pN=bJ,xJ=lp,wJ=pN,_J=js;function SJ(e){return e&&e.length?xJ(e,_J,wJ):void 0}var EJ=SJ;const _i=Oe(EJ);function kJ(e,t){return e<t}var mN=kJ,TJ=lp,AJ=mN,CJ=js;function PJ(e){return e&&e.length?TJ(e,CJ,AJ):void 0}var IJ=PJ;const up=Oe(IJ);var NJ=Z0,OJ=Tr,RJ=SI,MJ=fn;function $J(e,t){var n=MJ(e)?NJ:RJ;return n(e,OJ(t))}var DJ=$J,jJ=wI,LJ=DJ;function UJ(e,t){return jJ(LJ(e,t),1)}var FJ=UJ;const BJ=Oe(FJ);var zJ=pb;function VJ(e,t){return zJ(e,t)}var qJ=VJ;const as=Oe(qJ);var Us=1e9,GJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Bb,tt=!0,Bn="[DecimalError] ",ko=Bn+"Invalid argument: ",Fb=Bn+"Exponent out of range: ",Fs=Math.floor,ao=Math.pow,HJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wn,kt=1e7,Qe=7,gN=9007199254740991,Pf=Fs(gN/Qe),ne={};ne.absoluteValue=ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ne.comparedTo=ne.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Qe;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ne.dividedBy=ne.div=function(e){return Gr(this,new this.constructor(e))};ne.dividedToIntegerBy=ne.idiv=function(e){var t=this,n=t.constructor;return Fe(Gr(t,new n(e),0,1),n.precision)};ne.equals=ne.eq=function(e){return!this.cmp(e)};ne.exponent=function(){return pt(this)};ne.greaterThan=ne.gt=function(e){return this.cmp(e)>0};ne.greaterThanOrEqualTo=ne.gte=function(e){return this.cmp(e)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(e){return this.cmp(e)<0};ne.lessThanOrEqualTo=ne.lte=function(e){return this.cmp(e)<1};ne.logarithm=ne.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(wn))throw Error(Bn+"NaN");if(n.s<1)throw Error(Bn+(n.s?"NaN":"-Infinity"));return n.eq(wn)?new r(0):(tt=!1,t=Gr(Iu(n,o),Iu(e,o),o),tt=!0,Fe(t,i))};ne.minus=ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bN(t,e):vN(t,(e.s=-e.s,e))};ne.modulo=ne.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Bn+"NaN");return n.s?(tt=!1,t=Gr(n,e,0,1).times(e),tt=!0,n.minus(t)):Fe(new r(n),i)};ne.naturalExponential=ne.exp=function(){return yN(this)};ne.naturalLogarithm=ne.ln=function(){return Iu(this)};ne.negated=ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ne.plus=ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vN(t,e):bN(t,(e.s=-e.s,e))};ne.precision=ne.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ko+e);if(t=pt(i)+1,r=i.d.length-1,n=r*Qe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ne.squareRoot=ne.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Bn+"NaN")}for(e=pt(s),tt=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=vr(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Fs((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Gr(s,o,a+2)).times(.5),vr(o.d).slice(0,a)===(t=vr(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Fe(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return tt=!0,Fe(r,n)};ne.times=ne.mul=function(e){var t,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,g=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,n=c.e+e.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+t,o[i--]=s%kt|0,t=s/kt|0;o[i]=(o[i]+t)%kt|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,tt?Fe(e,d.precision):e};ne.toDecimalPlaces=ne.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Sr(e,0,Us),t===void 0?t=r.rounding:Sr(t,0,8),Fe(n,e+pt(n)+1,t))};ne.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Mo(r,!0):(Sr(e,0,Us),t===void 0?t=i.rounding:Sr(t,0,8),r=Fe(new i(r),e+1,t),n=Mo(r,!0,e+1)),n};ne.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Mo(i):(Sr(e,0,Us),t===void 0?t=o.rounding:Sr(t,0,8),r=Fe(new o(i),e+pt(i)+1,t),n=Mo(r.abs(),!1,e+pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ne.toInteger=ne.toint=function(){var e=this,t=e.constructor;return Fe(new t(e),pt(e)+1,t.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(wn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Bn+"Infinity");return s}if(s.eq(wn))return s;if(r=l.precision,e.eq(wn))return Fe(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=c<0?-c:c)<=gN){for(i=new l(wn),t=Math.ceil(r/Qe+4),tt=!1;n%2&&(i=i.times(s),c1(i.d,t)),n=Fs(n/2),n!==0;)s=s.times(s),c1(s.d,t);return tt=!0,e.s<0?new l(wn).div(i):Fe(i,r)}}else if(o<0)throw Error(Bn+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,tt=!1,i=e.times(Iu(s,r+u)),tt=!0,i=yN(i),i.s=o,i};ne.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=pt(i),r=Mo(i,n<=o.toExpNeg||n>=o.toExpPos)):(Sr(e,1,Us),t===void 0?t=o.rounding:Sr(t,0,8),i=Fe(new o(i),e,t),n=pt(i),r=Mo(i,e<=n||n<=o.toExpNeg,e)),r};ne.toSignificantDigits=ne.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Sr(e,1,Us),t===void 0?t=r.rounding:Sr(t,0,8)),Fe(new r(n),e,t)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pt(e),n=e.constructor;return Mo(e,t<=n.toExpNeg||t>=n.toExpPos)};function vN(e,t){var n,r,i,o,a,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),tt?Fe(t,d):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/Qe),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/kt|0,l[o]%=kt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,tt?Fe(t,d):t}function Sr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ko+e)}function vr(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=Qe-r.length,n&&(o+=mi(n)),o+=r;a=e[t],r=a+"",n=Qe-r.length,n&&(o+=mi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Gr=function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%kt|0,a=o/kt|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*kt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,g,v,b,y,w,x,_,k,E,S,T,A,C=r.constructor,N=r.s==i.s?1:-1,R=r.d,M=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Bn+"Division by zero");for(l=r.e-i.e,T=M.length,E=R.length,g=new C(N),v=g.d=[],u=0;M[u]==(R[u]||0);)++u;if(M[u]>(R[u]||0)&&--l,o==null?x=o=C.precision:a?x=o+(pt(r)-pt(i))+1:x=o,x<0)return new C(0);if(x=x/Qe+2|0,u=0,T==1)for(c=0,M=M[0],x++;(u<E||c)&&x--;u++)_=c*kt+(R[u]||0),v[u]=_/M|0,c=_%M|0;else{for(c=kt/(M[0]+1)|0,c>1&&(M=e(M,c),R=e(R,c),T=M.length,E=R.length),k=T,b=R.slice(0,T),y=b.length;y<T;)b[y++]=0;A=M.slice(),A.unshift(0),S=M[0],M[1]>=kt/2&&++S;do c=0,s=t(M,b,T,y),s<0?(w=b[0],T!=y&&(w=w*kt+(b[1]||0)),c=w/S|0,c>1?(c>=kt&&(c=kt-1),d=e(M,c),h=d.length,y=b.length,s=t(d,b,h,y),s==1&&(c--,n(d,T<h?A:M,h))):(c==0&&(s=c=1),d=M.slice()),h=d.length,h<y&&d.unshift(0),n(b,d,y),s==-1&&(y=b.length,s=t(M,b,T,y),s<1&&(c++,n(b,T<y?A:M,y))),y=b.length):s===0&&(c++,b=[0]),v[u++]=c,s&&b[0]?b[y++]=R[k]||0:(b=[R[k]],y=1);while((k++<E||b[0]!==void 0)&&x--)}return v[0]||v.shift(),g.e=l,Fe(g,a?o+pt(g)+1:o)}}();function yN(e,t){var n,r,i,o,a,s,l=0,u=0,c=e.constructor,d=c.precision;if(pt(e)>16)throw Error(Fb+pt(e));if(!e.s)return new c(wn);for(tt=!1,s=d,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log(ao(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(wn),c.precision=s;;){if(i=Fe(i.times(e),s),n=n.times(++l),a=o.plus(Gr(i,n,s)),vr(a.d).slice(0,s)===vr(o.d).slice(0,s)){for(;u--;)o=Fe(o.times(o),s);return c.precision=d,t==null?(tt=!0,Fe(o,d)):o}o=a}}function pt(e){for(var t=e.e*Qe,n=e.d[0];n>=10;n/=10)t++;return t}function Dm(e,t,n){if(t>e.LN10.sd())throw tt=!0,n&&(e.precision=n),Error(Bn+"LN10 precision limit exceeded");return Fe(new e(e.LN10),t)}function mi(e){for(var t="";e--;)t+="0";return t}function Iu(e,t){var n,r,i,o,a,s,l,u,c,d=1,h=10,g=e,v=g.d,b=g.constructor,y=b.precision;if(g.s<1)throw Error(Bn+(g.s?"NaN":"-Infinity"));if(g.eq(wn))return new b(0);if(t==null?(tt=!1,u=y):u=t,g.eq(10))return t==null&&(tt=!0),Dm(b,u);if(u+=h,b.precision=u,n=vr(v),r=n.charAt(0),o=pt(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(e),n=vr(g.d),r=n.charAt(0),d++;o=pt(g),r>1?(g=new b("0."+n),o++):g=new b(r+"."+n.slice(1))}else return l=Dm(b,u+2,y).times(o+""),g=Iu(new b(r+"."+n.slice(1)),u-h).plus(l),b.precision=y,t==null?(tt=!0,Fe(g,y)):g;for(s=a=g=Gr(g.minus(wn),g.plus(wn),u),c=Fe(g.times(g),u),i=3;;){if(a=Fe(a.times(c),u),l=s.plus(Gr(a,new b(i),u)),vr(l.d).slice(0,u)===vr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Dm(b,u+2,y).times(o+""))),s=Gr(s,new b(d),u),b.precision=y,t==null?(tt=!0,Fe(s,y)):s;s=l,i+=2}}function u1(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Fs(n/Qe),e.d=[],r=(n+1)%Qe,n<0&&(r+=Qe),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Qe;r<i;)e.d.push(+t.slice(r,r+=Qe));t=t.slice(r),r=Qe-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),tt&&(e.e>Pf||e.e<-Pf))throw Error(Fb+n)}else e.s=0,e.e=0,e.d=[0];return e}function Fe(e,t,n){var r,i,o,a,s,l,u,c,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=Qe,i=t,u=d[c=0];else{if(c=Math.ceil((r+1)/Qe),o=d.length,c>=o)return e;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=Qe,i=r-Qe+a}if(n!==void 0&&(o=ao(10,a-i-1),s=u/o%10|0,l=t<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/ao(10,a-i):0:d[c-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=pt(e),d.length=1,t=t-o-1,d[0]=ao(10,(Qe-t%Qe)%Qe),e.e=Fs(-t/Qe)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=ao(10,Qe-r),d[c]=i>0?(u/ao(10,a-i)%ao(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==kt&&(d[0]=1,++e.e);break}else{if(d[c]+=o,d[c]!=kt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(tt&&(e.e>Pf||e.e<-Pf))throw Error(Fb+pt(e));return e}function bN(e,t){var n,r,i,o,a,s,l,u,c,d,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),tt?Fe(t,g):t;if(l=e.d,d=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(g/Qe),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=kt-1;--l[o],l[i]+=kt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,tt?Fe(t,g):t):new h(0)}function Mo(e,t,n){var r,i=pt(e),o=vr(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+mi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+mi(-i-1)+o,n&&(r=n-a)>0&&(o+=mi(r))):i>=a?(o+=mi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+mi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=mi(r))),e.s<0?"-"+o:o}function c1(e,t){if(e.length>t)return e.length=t,!0}function xN(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ko+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return u1(a,o.toString())}else if(typeof o!="string")throw Error(ko+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,HJ.test(o))u1(a,o);else throw Error(ko+o)}if(i.prototype=ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=xN,i.config=i.set=WJ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function WJ(e){if(!e||typeof e!="object")throw Error(Bn+"Object expected");var t,n,r,i=["precision",1,Us,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Fs(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ko+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ko+n+": "+r);return this}var Bb=xN(GJ);wn=new Bb(1);const je=Bb;function KJ(e){return QJ(e)||XJ(e)||YJ(e)||JJ()}function JJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YJ(e,t){if(e){if(typeof e=="string")return Lv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lv(e,t)}}function XJ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function QJ(e){if(Array.isArray(e))return Lv(e)}function Lv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ZJ=function(t){return t},wN={},_N=function(t){return t===wN},d1=function(t){return function n(){return arguments.length===0||arguments.length===1&&_N(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},eY=function e(t,n){return t===1?n:d1(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==wN}).length;return a>=t?n.apply(void 0,i):e(t-a,d1(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return _N(d)?l.shift():d});return n.apply(void 0,KJ(c).concat(l))}))})},cp=function(t){return eY(t.length,t)},Uv=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},tY=cp(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),nY=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return ZJ;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Fv=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},SN=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=t.apply(void 0,o)),r}};function rY(e){var t;return e===0?t=1:t=Math.floor(new je(e).abs().log(10).toNumber())+1,t}function iY(e,t,n){for(var r=new je(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var oY=cp(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),aY=cp(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),sY=cp(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const dp={rangeStep:iY,getDigitCount:rY,interpolateNumber:oY,uninterpolateNumber:aY,uninterpolateTruncation:sY};function Bv(e){return cY(e)||uY(e)||EN(e)||lY()}function lY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uY(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cY(e){if(Array.isArray(e))return zv(e)}function Nu(e,t){return hY(e)||fY(e,t)||EN(e,t)||dY()}function dY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EN(e,t){if(e){if(typeof e=="string")return zv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zv(e,t)}}function zv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fY(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function hY(e){if(Array.isArray(e))return e}function kN(e){var t=Nu(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function TN(e,t,n){if(e.lte(0))return new je(0);var r=dp.getDigitCount(e.toNumber()),i=new je(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new je(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?l:new je(Math.ceil(l))}function pY(e,t,n){var r=1,i=new je(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new je(10).pow(dp.getDigitCount(e)-1),i=new je(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new je(Math.floor(e)))}else e===0?i=new je(Math.floor((t-1)/2)):n||(i=new je(Math.floor(e)));var a=Math.floor((t-1)/2),s=nY(tY(function(l){return i.add(new je(l-a).mul(r)).toNumber()}),Uv);return s(0,t)}function AN(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new je(0),tickMin:new je(0),tickMax:new je(0)};var o=TN(new je(t).sub(e).div(n-1),r,i),a;e<=0&&t>=0?a=new je(0):(a=new je(e).add(t).div(2),a=a.sub(new je(a).mod(o)));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new je(t).sub(a).div(o).toNumber()),u=s+l+1;return u>n?AN(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:o,tickMin:a.sub(new je(s).mul(o)),tickMax:a.add(new je(l).mul(o))})}function mY(e){var t=Nu(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=kN([n,r]),l=Nu(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(Bv(Uv(0,i-1).map(function(){return 1/0}))):[].concat(Bv(Uv(0,i-1).map(function(){return-1/0})),[c]);return n>r?Fv(d):d}if(u===c)return pY(u,i,o);var h=AN(u,c,a,o),g=h.step,v=h.tickMin,b=h.tickMax,y=dp.rangeStep(v,b.add(new je(.1).mul(g)),g);return n>r?Fv(y):y}function gY(e,t){var n=Nu(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=kN([r,i]),s=Nu(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(t,2),d=TN(new je(u).sub(l).div(c-1),o,0),h=[].concat(Bv(dp.rangeStep(new je(l),new je(u).sub(new je(.99).mul(d)),d)),[u]);return r>i?Fv(h):h}var vY=SN(mY),yY=SN(gY),bY="Invariant failed";function $o(e,t){throw new Error(bY)}var xY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ss(e){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},If.apply(this,arguments)}function wY(e,t){return kY(e)||EY(e,t)||SY(e,t)||_Y()}function _Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SY(e,t){if(e){if(typeof e=="string")return f1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f1(e,t)}}function f1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function kY(e){if(Array.isArray(e))return e}function TY(e,t){if(e==null)return{};var n=AY(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function AY(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function CY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IN(r.key),r)}}function IY(e,t,n){return t&&PY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NY(e,t,n){return t=Nf(t),OY(e,CN()?Reflect.construct(t,n||[],Nf(e).constructor):t.apply(e,n))}function OY(e,t){if(t&&(ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RY(e)}function RY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CN=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(e)}function MY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vv(e,t)}function Vv(e,t){return Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vv(e,t)}function PN(e,t,n){return t=IN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IN(e){var t=$Y(e,"string");return ss(t)=="symbol"?t:t+""}function $Y(e,t){if(ss(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fp=function(e){function t(){return CY(this,t),NY(this,t,arguments)}return MY(t,e),IY(t,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=TY(r,xY),g=ae(h,!1);this.props.direction==="x"&&c.type!=="number"&&$o();var v=l.map(function(b){var y=u(b,s),w=y.x,x=y.y,_=y.value,k=y.errorVal;if(!k)return null;var E=[],S,T;if(Array.isArray(k)){var A=wY(k,2);S=A[0],T=A[1]}else S=T=k;if(o==="vertical"){var C=c.scale,N=x+i,R=N+a,M=N-a,L=C(_-S),$=C(_+T);E.push({x1:$,y1:R,x2:$,y2:M}),E.push({x1:L,y1:N,x2:$,y2:N}),E.push({x1:L,y1:R,x2:L,y2:M})}else if(o==="horizontal"){var D=d.scale,U=w+i,V=U-a,P=U+a,j=D(_-S),z=D(_+T);E.push({x1:V,y1:z,x2:P,y2:z}),E.push({x1:U,y1:j,x2:U,y2:z}),E.push({x1:V,y1:j,x2:P,y2:j})}return I.createElement(Te,If({className:"recharts-errorBar",key:"bar-".concat(E.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},g),E.map(function(J){return I.createElement("line",If({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return I.createElement(Te,{className:"recharts-errorBars"},v)}}])}(I.Component);PN(fp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});PN(fp,"displayName","ErrorBar");function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function h1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(n),!0).forEach(function(r){DY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DY(e,t,n){return t=jY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jY(e){var t=LY(e,"string");return Ou(t)=="symbol"?t:t+""}function LY(e,t){if(Ou(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NN=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,a=bn(n,So);if(!a)return null;var s=So.defaultProps,l=s!==void 0?Qi(Qi({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,g=d.props,v=g.sectors||g.data||[];return c.concat(v.map(function(b){return{type:a.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,g=h!==void 0?Qi(Qi({},h),d.props):{},v=g.dataKey,b=g.name,y=g.legendType,w=g.hide;return{inactive:w,dataKey:v,type:l.iconType||y||"square",color:zb(d),value:b||v,payload:g}}),Qi(Qi(Qi({},l),So.getWithHeight(a,i)),{},{payload:u,item:a})};function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function p1(e){return zY(e)||BY(e)||FY(e)||UY()}function UY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FY(e,t){if(e){if(typeof e=="string")return qv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qv(e,t)}}function BY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zY(e){if(Array.isArray(e))return qv(e)}function qv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(n),!0).forEach(function(r){Fa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fa(e,t,n){return t=VY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VY(e){var t=qY(e,"string");return Ru(t)=="symbol"?t:t+""}function qY(e,t){if(Ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xt(e,t,n){return ye(e)||ye(t)?n:_t(t)?kn(e,t,n):he(t)?t(e):n}function Ll(e,t,n,r){var i=BJ(e,function(s){return xt(s,t)});if(n==="number"){var o=i.filter(function(s){return H(s)||parseFloat(s)});return o.length?[up(o),_i(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ye(s)}):i;return a.map(function(s){return _t(s)||s instanceof Date?s:""})}var GY=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Yt(d-c)!==Yt(h-d)){var v=[];if(Yt(h-d)===Yt(l[1]-l[0])){g=h;var b=d+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{g=c;var y=h+l[1]-l[0];v[0]=Math.min(d,(y+d)/2),v[1]=Math.max(d,(y+d)/2)}var w=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(t>w[0]&&t<=w[1]||t>=v[0]&&t<=v[1]){a=i[u].index;break}}else{var x=Math.min(c,h),_=Math.max(c,h);if(t>(x+d)/2&&t<=(_+d)/2){a=i[u].index;break}}}else for(var k=0;k<s;k++)if(k===0&&t<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<s-1&&t>(r[k].coordinate+r[k-1].coordinate)/2&&t<=(r[k].coordinate+r[k+1].coordinate)/2||k===s-1&&t>(r[k].coordinate+r[k-1].coordinate)/2){a=r[k].index;break}return a},zb=function(t){var n,r=t,i=r.type.displayName,o=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},HY=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,d=Object.keys(c),h=0,g=d.length;h<g;h++){var v=c[d[h]],b=v.items,y=v.cateAxisId,w=b.filter(function(T){return qr(T.type).indexOf("Bar")>=0});if(w&&w.length){var x=w[0].type.defaultProps,_=x!==void 0?lt(lt({},x),w[0].props):w[0].props,k=_.barSize,E=_[y];a[E]||(a[E]=[]);var S=ye(k)?n:k;a[E].push({item:w[0],stackList:w.slice(1),barSize:ye(S)?void 0:Xt(S,r,0)})}}return a},WY=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,a=o===void 0?[]:o,s=t.maxBarSize,l=a.length;if(l<1)return null;var u=Xt(n,i,0,!0),c,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,v=a.reduce(function(k,E){return k+E.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&g>0&&(h=!0,g*=.9,v=l*g);var b=(i-v)/2>>0,y={offset:b-u,size:0};c=a.reduce(function(k,E){var S={item:E.item,position:{offset:y.offset+y.size+u,size:h?g:E.barSize}},T=[].concat(p1(k),[S]);return y=T[T.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(A){T.push({item:A,position:y})}),T},d)}else{var w=Xt(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var x=(i-2*w-(l-1)*u)/l;x>1&&(x>>=0);var _=s===+s?Math.min(x,s):x;c=a.reduce(function(k,E,S){var T=[].concat(p1(k),[{item:E.item,position:{offset:w+(x+u)*S+(x-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(A){T.push({item:A,position:T[T.length-1].position})}),T},d)}return c},KY=function(t,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=NN({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,g=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&g!=="center"&&H(t[g]))return lt(lt({},t),{},Fa({},g,t[g]+(d||0)));if((b==="horizontal"||b==="vertical"&&g==="center")&&v!=="middle"&&H(t[v]))return lt(lt({},t),{},Fa({},v,t[v]+(h||0)))}return t},JY=function(t,n,r){return ye(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},ON=function(t,n,r,i,o){var a=n.props.children,s=Ln(a,fp).filter(function(u){return JY(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,c){var d=xt(c,r);if(ye(d))return u;var h=Array.isArray(d)?[up(d),_i(d)]:[d,d],g=l.reduce(function(v,b){var y=xt(c,b,0),w=h[0]-Math.abs(Array.isArray(y)?y[0]:y),x=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},YY=function(t,n,r,i,o){var a=n.map(function(s){return ON(t,s,r,o,i)}).filter(function(s){return!ye(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},RN=function(t,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&ON(t,l,u,i)||Ll(t,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},MN=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},$N=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var o,a,s=t.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},zr=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,a=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Yt(s[0]-s[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var c=(t.ticks||t.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Rs(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},jm=new WeakMap,Xc=function(t,n){if(typeof n!="function")return t;jm.has(t)||jm.set(t,new WeakMap);var r=jm.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},DN=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:ku(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:kf(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:jl(),realScaleType:"point"}:o==="category"?{scale:ku(),realScaleType:"band"}:{scale:kf(),realScaleType:"linear"};if(No(i)){var l="scale".concat(Kh(i));return{scale:(l1[l]||jl)(),realScaleType:l1[l]?l:"point"}}return he(i)?{scale:i}:{scale:jl(),realScaleType:"point"}},g1=1e-4,jN=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-g1,a=Math.max(i[0],i[1])+g1,s=t(n[0]),l=t(n[r-1]);(s<o||s>a||l<o||l>a)&&t.domain([n[0],n[r-1]])}},XY=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},QY=function(t,n){if(!n||n.length!==2||!H(n[0])||!H(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!H(t[0])||t[0]<r)&&(o[0]=r),(!H(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},ZY=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Rs(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1])}},eX=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Rs(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=o,t[a][r][1]=o+s,o=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},tX={sign:ZY,expand:x3,none:Qa,silhouette:w3,wiggle:_3,positive:eX},nX=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),o=tX[r],a=b3().keys(i).value(function(s,l){return+xt(s,l,0)}).order(mv).offset(o);return a(t)},rX=function(t,n,r,i,o,a){if(!t)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(d,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?lt(lt({},h.type.defaultProps),h.props):h.props,b=v.stackId,y=v.hide;if(y)return d;var w=v[r],x=d[w]||{hasStack:!1,stackGroups:{}};if(_t(b)){var _=x.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),x.hasStack=!0,x.stackGroups[b]=_}else x.stackGroups[Ms("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return lt(lt({},d),{},Fa({},w,x))},l),c={};return Object.keys(u).reduce(function(d,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(b,y){var w=g.stackGroups[y];return lt(lt({},b),{},Fa({},y,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:nX(t,w.items,o)}))},v)}return lt(lt({},d),{},Fa({},h,g))},c)},LN=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=t.domain();if(!u.length)return null;var c=vY(u,o,s);return t.domain([up(c),_i(c)]),{niceTicks:c}}if(o&&i==="number"){var d=t.domain(),h=yY(d,o,s);return{niceTicks:h}}return null};function v1(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ye(i[t.dataKey])){var s=nf(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=xt(i,ye(a)?t.dataKey:a);return ye(l)?null:t.scale(l)}var y1=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,a=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=xt(a,n.dataKey,n.domain[s]);return ye(l)?null:n.scale(l)-o/2+i},iX=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},oX=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(_t(o)){var a=n[o];if(a){var s=a.items.indexOf(t);return s>=0?a.stackedData[s]:null}}return null},aX=function(t){return t.reduce(function(n,r){return[up(r.concat([n[0]]).filter(H)),_i(r.concat([n[1]]).filter(H))]},[1/0,-1/0])},UN=function(t,n,r){return Object.keys(t).reduce(function(i,o){var a=t[o],s=a.stackedData,l=s.reduce(function(u,c){var d=aX(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},b1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,x1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gv=function(t,n,r){if(he(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(H(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(b1.test(t[0])){var o=+b1.exec(t[0])[1];i[0]=n[0]-o}else he(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(H(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(x1.test(t[1])){var a=+x1.exec(t[1])[1];i[1]=n[1]+a}else he(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},Of=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=gb(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},w1=function(t,n,r){return!t||!t.length||as(t,kn(r,"type.defaultProps.domain"))?n:t},FN=function(t,n){var r=t.type.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return lt(lt({},ae(t,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:zb(t),value:xt(n,i),type:l,payload:n,chartType:u,hide:c})};function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function _1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(n),!0).forEach(function(r){BN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BN(e,t,n){return t=sX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sX(e){var t=lX(e,"string");return Mu(t)=="symbol"?t:t+""}function lX(e,t){if(Mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uX(e,t){return hX(e)||fX(e,t)||dX(e,t)||cX()}function cX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dX(e,t){if(e){if(typeof e=="string")return S1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S1(e,t)}}function S1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fX(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function hX(e){if(Array.isArray(e))return e}var Rf=Math.PI/180,pX=function(t){return t*180/Math.PI},He=function(t,n,r,i){return{x:t+Math.cos(-Rf*i)*r,y:n+Math.sin(-Rf*i)*r}},zN=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},mX=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.startAngle,u=t.endAngle,c=Xt(t.cx,a,a/2),d=Xt(t.cy,s,s/2),h=zN(a,s,r),g=Xt(t.innerRadius,h,0),v=Xt(t.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(y,w){var x=n[w],_=x.domain,k=x.reversed,E;if(ye(x.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[g,v]),k&&(E=[E[1],E[0]]);else{E=x.range;var S=E,T=uX(S,2);l=T[0],u=T[1]}var A=DN(x,o),C=A.realScaleType,N=A.scale;N.domain(_).range(E),jN(N);var R=LN(N,$r($r({},x),{},{realScaleType:C})),M=$r($r($r({},x),R),{},{range:E,radius:v,realScaleType:C,scale:N,cx:c,cy:d,innerRadius:g,outerRadius:v,startAngle:l,endAngle:u});return $r($r({},y),{},BN({},w,M))},{})},gX=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},vX=function(t,n){var r=t.x,i=t.y,o=n.cx,a=n.cy,s=gX({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:pX(u),angleInRadian:u}},yX=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},bX=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return t+s*360},E1=function(t,n){var r=t.x,i=t.y,o=vX({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=yX(n),d=c.startAngle,h=c.endAngle,g=s,v;if(d<=h){for(;g>h;)g-=360;for(;g<d;)g+=360;v=g>=d&&g<=h}else{for(;g>d;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=d}return v?$r($r({},n),{},{radius:a,angle:bX(g,n)}):null},VN=function(t){return!O.isValidElement(t)&&!he(t)&&typeof t!="boolean"?t.className:""};function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}var xX=["offset"];function wX(e){return kX(e)||EX(e)||SX(e)||_X()}function _X(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SX(e,t){if(e){if(typeof e=="string")return Hv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hv(e,t)}}function EX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kX(e){if(Array.isArray(e))return Hv(e)}function Hv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TX(e,t){if(e==null)return{};var n=AX(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function AX(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function k1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k1(Object(n),!0).forEach(function(r){CX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CX(e,t,n){return t=PX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PX(e){var t=IX(e,"string");return $u(t)=="symbol"?t:t+""}function IX(e,t){if($u(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Du.apply(this,arguments)}var NX=function(t){var n=t.value,r=t.formatter,i=ye(t.children)?n:t.children;return he(r)?r(i):i},OX=function(t,n){var r=Yt(n-t),i=Math.min(Math.abs(n-t),360);return r*i},RX=function(t,n,r){var i=t.position,o=t.viewBox,a=t.offset,s=t.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,b=l.clockWise,y=(d+h)/2,w=OX(g,v),x=w>=0?1:-1,_,k;i==="insideStart"?(_=g+x*a,k=b):i==="insideEnd"?(_=v-x*a,k=!b):i==="end"&&(_=v+x*a,k=b),k=w<=0?k:!k;var E=He(u,c,y,_),S=He(u,c,y,_+(k?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(k?0:1,`,
    `).concat(S.x,",").concat(S.y),A=ye(t.id)?Ms("recharts-radial-line-"):t.id;return I.createElement("text",Du({},r,{dominantBaseline:"central",className:be("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:A,d:T})),I.createElement("textPath",{xlinkHref:"#".concat(A)},n))},MX=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var g=He(a,s,u+r,h),v=g.x,b=g.y;return{x:v,y:b,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,w=He(a,s,y,h),x=w.x,_=w.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},$X=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,d=c>=0?1:-1,h=d*i,g=d>0?"end":"start",v=d>0?"start":"end",b=u>=0?1:-1,y=b*i,w=b>0?"end":"start",x=b>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return vt(vt({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var k={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return vt(vt({},k),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var E={x:s-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return vt(vt({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if(o==="right"){var S={x:s+u+y,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return vt(vt({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:c}:{})}var T=r?{width:u,height:c}:{};return o==="insideLeft"?vt({x:s+y,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},T):o==="insideRight"?vt({x:s+u-y,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},T):o==="insideTop"?vt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},T):o==="insideBottom"?vt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},T):o==="insideTopLeft"?vt({x:s+y,y:l+h,textAnchor:x,verticalAnchor:v},T):o==="insideTopRight"?vt({x:s+u-y,y:l+h,textAnchor:w,verticalAnchor:v},T):o==="insideBottomLeft"?vt({x:s+y,y:l+c-h,textAnchor:x,verticalAnchor:g},T):o==="insideBottomRight"?vt({x:s+u-y,y:l+c-h,textAnchor:w,verticalAnchor:g},T):Ps(o)&&(H(o.x)||go(o.x))&&(H(o.y)||go(o.y))?vt({x:s+Xt(o.x,u),y:l+Xt(o.y,c),textAnchor:"end",verticalAnchor:"end"},T):vt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},T)},DX=function(t){return"cx"in t&&H(t.cx)};function At(e){var t=e.offset,n=t===void 0?5:t,r=TX(e,xX),i=vt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||ye(s)&&ye(l)&&!O.isValidElement(u)&&!he(u))return null;if(O.isValidElement(u))return O.cloneElement(u,i);var g;if(he(u)){if(g=O.createElement(u,i),O.isValidElement(g))return g}else g=NX(i);var v=DX(o),b=ae(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return RX(i,g,b);var y=v?MX(i):$X(i);return I.createElement(Ro,Du({className:be("recharts-label",d)},b,y,{breakAll:h}),g)}At.displayName="Label";var qN=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,a=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,c=t.outerRadius,d=t.x,h=t.y,g=t.top,v=t.left,b=t.width,y=t.height,w=t.clockWise,x=t.labelViewBox;if(x)return x;if(H(b)&&H(y)){if(H(d)&&H(h))return{x:d,y:h,width:b,height:y};if(H(g)&&H(v))return{x:g,y:v,width:b,height:y}}return H(d)&&H(h)?{x:d,y:h,width:0,height:0}:H(n)&&H(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:t.viewBox?t.viewBox:{}},jX=function(t,n){return t?t===!0?I.createElement(At,{key:"label-implicit",viewBox:n}):_t(t)?I.createElement(At,{key:"label-implicit",viewBox:n,value:t}):O.isValidElement(t)?t.type===At?O.cloneElement(t,{key:"label-implicit",viewBox:n}):I.createElement(At,{key:"label-implicit",content:t,viewBox:n}):he(t)?I.createElement(At,{key:"label-implicit",content:t,viewBox:n}):Ps(t)?I.createElement(At,Du({viewBox:n},t,{key:"label-implicit"})):null:null},LX=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=qN(t),a=Ln(i,At).map(function(l,u){return O.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=jX(t.label,n||o);return[s].concat(wX(a))};At.parseViewBox=qN;At.renderCallByParent=LX;function UX(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var FX=UX;const BX=Oe(FX);function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}var zX=["valueAccessor"],VX=["data","dataKey","clockWise","id","textBreakAll"];function qX(e){return KX(e)||WX(e)||HX(e)||GX()}function GX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(e,t){if(e){if(typeof e=="string")return Wv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wv(e,t)}}function WX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KX(e){if(Array.isArray(e))return Wv(e)}function Wv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mf.apply(this,arguments)}function T1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(n),!0).forEach(function(r){JX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JX(e,t,n){return t=YX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YX(e){var t=XX(e,"string");return ju(t)=="symbol"?t:t+""}function XX(e,t){if(ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C1(e,t){if(e==null)return{};var n=QX(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QX(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ZX=function(t){return Array.isArray(t.value)?BX(t.value):t.value};function Hr(e){var t=e.valueAccessor,n=t===void 0?ZX:t,r=C1(e,zX),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=C1(r,VX);return!i||!i.length?null:I.createElement(Te,{className:"recharts-label-list"},i.map(function(c,d){var h=ye(o)?n(c,d):xt(c&&c.payload,o),g=ye(s)?{}:{id:"".concat(s,"-").concat(d)};return I.createElement(At,Mf({},ae(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:At.parseViewBox(ye(a)?c:A1(A1({},c),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Hr.displayName="LabelList";function eQ(e,t){return e?e===!0?I.createElement(Hr,{key:"labelList-implicit",data:t}):I.isValidElement(e)||he(e)?I.createElement(Hr,{key:"labelList-implicit",data:t,content:e}):Ps(e)?I.createElement(Hr,Mf({data:t},e,{key:"labelList-implicit"})):null:null}function tQ(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Ln(r,Hr).map(function(a,s){return O.cloneElement(a,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var o=eQ(e.label,t);return[o].concat(qX(i))}Hr.renderCallByParent=tQ;function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kv.apply(this,arguments)}function P1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(n),!0).forEach(function(r){nQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nQ(e,t,n){return t=rQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rQ(e){var t=iQ(e,"string");return Lu(t)=="symbol"?t:t+""}function iQ(e,t){if(Lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oQ=function(t,n){var r=Yt(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Qc=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,a=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/Rf,h=u?o:o+a*d,g=He(n,r,c,h),v=He(n,r,i,h),b=u?o-a*d:o,y=He(n,r,c*Math.cos(d*Rf),b);return{center:g,circleTangency:v,lineTangency:y,theta:d}},GN=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.startAngle,s=t.endAngle,l=oQ(a,s),u=a+l,c=He(n,r,o,a),d=He(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=He(n,r,i,a),v=He(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},aQ=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,c=t.endAngle,d=Yt(c-u),h=Qc({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,b=h.theta,y=Qc({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:l}),w=y.circleTangency,x=y.lineTangency,_=y.theta,k=l?Math.abs(u-c):Math.abs(u-c)-b-_;if(k<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):GN({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(k>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var S=Qc({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),T=S.circleTangency,A=S.lineTangency,C=S.theta,N=Qc({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=N.circleTangency,M=N.lineTangency,L=N.theta,$=l?Math.abs(u-c):Math.abs(u-c)-C-L;if($<0&&a===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},sQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HN=function(t){var n=I1(I1({},sQ),t),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(a<o||c===d)return null;var g=be("recharts-sector",h),v=a-o,b=Xt(s,v,0,!0),y;return b>0&&Math.abs(c-d)<360?y=aQ({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):y=GN({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:d}),I.createElement("path",Kv({},ae(n,!0),{className:g,d:y,role:"img"}))};function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jv.apply(this,arguments)}function N1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(n),!0).forEach(function(r){lQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lQ(e,t,n){return t=uQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uQ(e){var t=cQ(e,"string");return Uu(t)=="symbol"?t:t+""}function cQ(e,t){if(Uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R1={curveBasisClosed:l3,curveBasisOpen:u3,curveBasis:s3,curveBumpX:WB,curveBumpY:KB,curveLinearClosed:c3,curveLinear:Yh,curveMonotoneX:d3,curveMonotoneY:f3,curveNatural:h3,curveStep:p3,curveStepAfter:g3,curveStepBefore:m3},Zc=function(t){return t.x===+t.x&&t.y===+t.y},dl=function(t){return t.x},fl=function(t){return t.y},dQ=function(t,n){if(he(t))return t;var r="curve".concat(Kh(t));return(r==="curveMonotone"||r==="curveBump")&&n?R1["".concat(r).concat(n==="vertical"?"Y":"X")]:R1[r]||Yh},fQ=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,a=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,c=dQ(r,s),d=u?o.filter(function(b){return Zc(b)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(b){return Zc(b)}):a,v=d.map(function(b,y){return O1(O1({},b),{},{base:g[y]})});return s==="vertical"?h=Vc().y(fl).x1(dl).x0(function(b){return b.base.x}):h=Vc().x(dl).y1(fl).y0(function(b){return b.base.y}),h.defined(Zc).curve(c),h(v)}return s==="vertical"&&H(a)?h=Vc().y(fl).x1(dl).x0(a):H(a)?h=Vc().x(dl).y1(fl).y0(a):h=FP().x(dl).y(fl),h.defined(Zc).curve(c),h(d)},Ba=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?fQ(t):i;return O.createElement("path",Jv({},ae(t,!1),rf(t),{className:be("recharts-curve",n),d:a,ref:o}))},WN={exports:{}},hQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pQ=hQ,mQ=pQ;function KN(){}function JN(){}JN.resetWarningCache=KN;var gQ=function(){function e(r,i,o,a,s,l){if(l!==mQ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:JN,resetWarningCache:KN};return n.PropTypes=n,n};WN.exports=gQ();var vQ=WN.exports;const Ne=Oe(vQ),{getOwnPropertyNames:yQ,getOwnPropertySymbols:bQ}=Object,{hasOwnProperty:xQ}=Object.prototype;function Lm(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function ed(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=e(n,r,i);return o.delete(n),o.delete(r),l}}function wQ(e){return e!=null?e[Symbol.toStringTag]:void 0}function M1(e){return yQ(e).concat(bQ(e))}const _Q=Object.hasOwn||((e,t)=>xQ.call(e,t));function Vo(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const SQ="__v",EQ="__o",kQ="_owner",{getOwnPropertyDescriptor:$1,keys:D1}=Object;function TQ(e,t){return e.byteLength===t.byteLength&&$f(new Uint8Array(e),new Uint8Array(t))}function AQ(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function CQ(e,t){return e.byteLength===t.byteLength&&$f(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function PQ(e,t){return Vo(e.getTime(),t.getTime())}function IQ(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function NQ(e,t){return e===t}function j1(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=t.entries();let c=!1,d=0;for(;(s=u.next())&&!s.done;){if(i[d]){d++;continue}const h=a.value,g=s.value;if(n.equals(h[0],g[0],l,d,e,t,n)&&n.equals(h[1],g[1],h[0],g[0],e,t,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const OQ=Vo;function RQ(e,t,n){const r=D1(e);let i=r.length;if(D1(t).length!==i)return!1;for(;i-- >0;)if(!YN(e,t,n,r[i]))return!1;return!0}function hl(e,t,n){const r=M1(e);let i=r.length;if(M1(t).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!YN(e,t,n,o)||(a=$1(e,o),s=$1(t,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function MQ(e,t){return Vo(e.valueOf(),t.valueOf())}function $Q(e,t){return e.source===t.source&&e.flags===t.flags}function L1(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.values();let a,s;for(;(a=o.next())&&!a.done;){const l=t.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function $f(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function DQ(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function YN(e,t,n,r){return(r===kQ||r===EQ||r===SQ)&&(e.$$typeof||t.$$typeof)?!0:_Q(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const jQ="[object ArrayBuffer]",LQ="[object Arguments]",UQ="[object Boolean]",FQ="[object DataView]",BQ="[object Date]",zQ="[object Error]",VQ="[object Map]",qQ="[object Number]",GQ="[object Object]",HQ="[object RegExp]",WQ="[object Set]",KQ="[object String]",JQ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},YQ="[object URL]",XQ=Object.prototype.toString;function QQ({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:g,unknownTagComparators:v}){return function(y,w,x){if(y===w)return!0;if(y==null||w==null)return!1;const _=typeof y;if(_!==typeof w)return!1;if(_!=="object")return _==="number"?s(y,w,x):_==="function"?o(y,w,x):!1;const k=y.constructor;if(k!==w.constructor)return!1;if(k===Object)return l(y,w,x);if(Array.isArray(y))return t(y,w,x);if(k===Date)return r(y,w,x);if(k===RegExp)return c(y,w,x);if(k===Map)return a(y,w,x);if(k===Set)return d(y,w,x);const E=XQ.call(y);if(E===BQ)return r(y,w,x);if(E===HQ)return c(y,w,x);if(E===VQ)return a(y,w,x);if(E===WQ)return d(y,w,x);if(E===GQ)return typeof y.then!="function"&&typeof w.then!="function"&&l(y,w,x);if(E===YQ)return g(y,w,x);if(E===zQ)return i(y,w,x);if(E===LQ)return l(y,w,x);if(JQ[E])return h(y,w,x);if(E===jQ)return e(y,w,x);if(E===FQ)return n(y,w,x);if(E===UQ||E===qQ||E===KQ)return u(y,w,x);if(v){let S=v[E];if(!S){const T=wQ(y);T&&(S=v[T])}if(S)return S(y,w,x)}return!1}}function ZQ({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:TQ,areArraysEqual:n?hl:AQ,areDataViewsEqual:CQ,areDatesEqual:PQ,areErrorsEqual:IQ,areFunctionsEqual:NQ,areMapsEqual:n?Lm(j1,hl):j1,areNumbersEqual:OQ,areObjectsEqual:n?hl:RQ,arePrimitiveWrappersEqual:MQ,areRegExpsEqual:$Q,areSetsEqual:n?Lm(L1,hl):L1,areTypedArraysEqual:n?Lm($f,hl):$f,areUrlsEqual:DQ,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const i=ed(r.areArraysEqual),o=ed(r.areMapsEqual),a=ed(r.areObjectsEqual),s=ed(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function eZ(e){return function(t,n,r,i,o,a,s){return e(t,n,s)}}function tZ({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=e?new WeakMap:void 0,meta:c}=n();return t(s,l,{cache:u,equals:r,meta:c,strict:i})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return t(s,l,o)}}const nZ=Vi();Vi({strict:!0});Vi({circular:!0});Vi({circular:!0,strict:!0});Vi({createInternalComparator:()=>Vo});Vi({strict:!0,createInternalComparator:()=>Vo});Vi({circular:!0,createInternalComparator:()=>Vo});Vi({circular:!0,createInternalComparator:()=>Vo,strict:!0});function Vi(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,o=ZQ(e),a=QQ(o),s=n?n(a):eZ(a);return tZ({circular:t,comparator:a,createState:r,equals:s,strict:i})}function rZ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function U1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):rZ(i)};requestAnimationFrame(r)}function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function iZ(e){return lZ(e)||sZ(e)||aZ(e)||oZ()}function oZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aZ(e,t){if(e){if(typeof e=="string")return F1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F1(e,t)}}function F1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lZ(e){if(Array.isArray(e))return e}function uZ(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=iZ(a),l=s[0],u=s.slice(1);if(typeof l=="number"){U1(i.bind(null,u),l);return}i(l),U1(i.bind(null,u));return}Yv(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function B1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B1(Object(n),!0).forEach(function(r){XN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XN(e,t,n){return t=cZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cZ(e){var t=dZ(e,"string");return Fu(t)==="symbol"?t:String(t)}function dZ(e,t){if(Fu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fZ=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},hZ=function(t){return t},pZ=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ul=function(t,n){return Object.keys(n).reduce(function(r,i){return z1(z1({},r),{},XN({},i,t(i,n[i])))},{})},V1=function(t,n,r){return t.map(function(i){return"".concat(pZ(i)," ").concat(n,"ms ").concat(r)}).join(",")};function mZ(e,t){return yZ(e)||vZ(e,t)||QN(e,t)||gZ()}function gZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vZ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function yZ(e){if(Array.isArray(e))return e}function bZ(e){return _Z(e)||wZ(e)||QN(e)||xZ()}function xZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QN(e,t){if(e){if(typeof e=="string")return Xv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xv(e,t)}}function wZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Z(e){if(Array.isArray(e))return Xv(e)}function Xv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Df=1e-4,ZN=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},eO=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},q1=function(t,n){return function(r){var i=ZN(t,n);return eO(i,r)}},SZ=function(t,n){return function(r){var i=ZN(t,n),o=[].concat(bZ(i.map(function(a,s){return a*s}).slice(1)),[0]);return eO(o,r)}},G1=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=mZ(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var d=q1(i,a),h=q1(o,s),g=SZ(i,a),v=function(w){return w>1?1:w<0?0:w},b=function(w){for(var x=w>1?1:w,_=x,k=0;k<8;++k){var E=d(_)-x,S=g(_);if(Math.abs(E-x)<Df||S<Df)return h(_);_=v(_-E/S)}return h(_)};return b.isStepper=!1,b},EZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,a=t.dt,s=a===void 0?17:a,l=function(c,d,h){var g=-(c-d)*r,v=h*o,b=h+(g-v)*s/1e3,y=h*s/1e3+c;return Math.abs(y-d)<Df&&Math.abs(b)<Df?[d,0]:[y,b]};return l.isStepper=!0,l.dt=s,l},kZ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return G1(i);case"spring":return EZ();default:if(i.split("(")[0]==="cubic-bezier")return G1(i)}return typeof i=="function"?i:null};function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function H1(e){return CZ(e)||AZ(e)||tO(e)||TZ()}function TZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CZ(e){if(Array.isArray(e))return Zv(e)}function W1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(n),!0).forEach(function(r){Qv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qv(e,t,n){return t=PZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PZ(e){var t=IZ(e,"string");return Bu(t)==="symbol"?t:String(t)}function IZ(e,t){if(Bu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NZ(e,t){return MZ(e)||RZ(e,t)||tO(e,t)||OZ()}function OZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tO(e,t){if(e){if(typeof e=="string")return Zv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zv(e,t)}}function Zv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RZ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function MZ(e){if(Array.isArray(e))return e}var jf=function(t,n,r){return t+(n-t)*r},ey=function(t){var n=t.from,r=t.to;return n!==r},$Z=function e(t,n,r){var i=Ul(function(o,a){if(ey(a)){var s=t(a.from,a.to,a.velocity),l=NZ(s,2),u=l[0],c=l[1];return $t($t({},a),{},{from:u,velocity:c})}return a},n);return r<1?Ul(function(o,a){return ey(a)?$t($t({},a),{},{velocity:jf(a.velocity,i[o].velocity,r),from:jf(a.from,i[o].from,r)}):a},n):e(t,i,r-1)};const DZ=function(e,t,n,r,i){var o=fZ(e,t),a=o.reduce(function(y,w){return $t($t({},y),{},Qv({},w,[e[w],t[w]]))},{}),s=o.reduce(function(y,w){return $t($t({},y),{},Qv({},w,{from:e[w],velocity:0,to:t[w]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return Ul(function(w,x){return x.from},s)},g=function(){return!Object.values(s).filter(ey).length},v=function(w){u||(u=w);var x=w-u,_=x/n.dt;s=$Z(n,s,_),i($t($t($t({},e),t),h())),u=w,g()||(l=requestAnimationFrame(d))},b=function(w){c||(c=w);var x=(w-c)/r,_=Ul(function(E,S){return jf.apply(void 0,H1(S).concat([n(x)]))},a);if(i($t($t($t({},e),t),_)),x<1)l=requestAnimationFrame(d);else{var k=Ul(function(E,S){return jf.apply(void 0,H1(S).concat([n(1)]))},a);i($t($t($t({},e),t),k))}};return d=n.isStepper?v:b,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}var jZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function LZ(e,t){if(e==null)return{};var n=UZ(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UZ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Um(e){return VZ(e)||zZ(e)||BZ(e)||FZ()}function FZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BZ(e,t){if(e){if(typeof e=="string")return ty(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ty(e,t)}}function zZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VZ(e){if(Array.isArray(e))return ty(e)}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(n),!0).forEach(function(r){_l(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _l(e,t,n){return t=nO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nO(r.key),r)}}function HZ(e,t,n){return t&&GZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nO(e){var t=WZ(e,"string");return ls(t)==="symbol"?t:String(t)}function WZ(e,t){if(ls(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ls(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ny(e,t)}function ny(e,t){return ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ny(e,t)}function JZ(e){var t=YZ();return function(){var r=Lf(e),i;if(t){var o=Lf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ry(this,i)}}function ry(e,t){if(t&&(ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iy(e)}function iy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lf(e)}var Er=function(e){KZ(n,e);var t=JZ(n);function n(r,i){var o;qZ(this,n),o=t.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,d=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(iy(o)),o.changeStyle=o.changeStyle.bind(iy(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),ry(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},ry(o);o.state={style:l?_l({},l,u):u}}else o.state={style:{}};return o}return HZ(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(s){if(!a){var g={style:l?_l({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(nZ(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?d:i.to;if(this.state&&h){var y={style:l?_l({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(y)}this.runAnimation(Kn(Kn({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,g=DZ(a,s,kZ(u),l,this.changeStyle),v=function(){o.stopJSAnimation=g()};this.manager.start([h,c,v,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,d=u.duration,h=d===void 0?0:d,g=function(b,y,w){if(w===0)return b;var x=y.duration,_=y.easing,k=_===void 0?"ease":_,E=y.style,S=y.properties,T=y.onAnimationEnd,A=w>0?a[w-1]:y,C=S||Object.keys(E);if(typeof k=="function"||k==="spring")return[].concat(Um(b),[o.runJSAnimation.bind(o,{from:A.style,to:E,duration:x,easing:k}),x]);var N=V1(C,x,k),R=Kn(Kn(Kn({},A.style),E),{},{transition:N});return[].concat(Um(b),[R,x,T]).filter(hZ)};return this.manager.start([l].concat(Um(a.reduce(g,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uZ());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=s?_l({},s,l):l,y=V1(Object.keys(b),a,u);v.start([c,o,Kn(Kn({},b),{},{transition:y}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=LZ(i,jZ),u=O.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var d=function(g){var v=g.props,b=v.style,y=b===void 0?{}:b,w=v.className,x=O.cloneElement(g,Kn(Kn({},l),{},{style:Kn(Kn({},y),c),className:w}));return x};return u===1?d(O.Children.only(o)):I.createElement("div",null,O.Children.map(o,function(h){return d(h)}))}}]),n}(O.PureComponent);Er.displayName="Animate";Er.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Er.propTypes={from:Ne.oneOfType([Ne.object,Ne.string]),to:Ne.oneOfType([Ne.object,Ne.string]),attributeName:Ne.string,duration:Ne.number,begin:Ne.number,easing:Ne.oneOfType([Ne.string,Ne.func]),steps:Ne.arrayOf(Ne.shape({duration:Ne.number.isRequired,style:Ne.object.isRequired,easing:Ne.oneOfType([Ne.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ne.func]),properties:Ne.arrayOf("string"),onAnimationEnd:Ne.func})),children:Ne.oneOfType([Ne.node,Ne.func]),isActive:Ne.bool,canBegin:Ne.bool,onAnimationEnd:Ne.func,shouldReAnimate:Ne.bool,onAnimationStart:Ne.func,onAnimationReStart:Ne.func};function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uf.apply(this,arguments)}function XZ(e,t){return tee(e)||eee(e,t)||ZZ(e,t)||QZ()}function QZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZZ(e,t){if(e){if(typeof e=="string")return J1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J1(e,t)}}function J1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eee(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function tee(e){if(Array.isArray(e))return e}function Y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(n),!0).forEach(function(r){nee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nee(e,t,n){return t=ree(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ree(e){var t=iee(e,"string");return zu(t)=="symbol"?t:t+""}function iee(e,t){if(zu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q1=function(t,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=o[h]>a?a:o[h];c="M".concat(t,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+l*d[0],",").concat(n)),c+="L ".concat(t+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+s*d[1])),c+="L ".concat(t+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+r-l*d[2],",").concat(n+i)),c+="L ".concat(t+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-s*d[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);c="M ".concat(t,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(n,`
            L `).concat(t+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r,",").concat(n+s*v,`
            L `).concat(t+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+r-l*v,",").concat(n+i,`
            L `).concat(t+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(n+i-s*v," Z")}else c="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},oee=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),d=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},aee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vb=function(t){var n=X1(X1({},aee),t),r=O.useRef(),i=O.useState(-1),o=XZ(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&s(k)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,g=n.className,v=n.animationEasing,b=n.animationDuration,y=n.animationBegin,w=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var _=be("recharts-rectangle",g);return x?I.createElement(Er,{canBegin:a>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:b,animationEasing:v,isActive:x},function(k){var E=k.width,S=k.height,T=k.x,A=k.y;return I.createElement(Er,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:w,easing:v},I.createElement("path",Uf({},ae(n,!0),{className:_,d:Q1(T,A,E,S,h),ref:r})))}):I.createElement("path",Uf({},ae(n,!0),{className:_,d:Q1(l,u,c,d,h)}))},see=["points","className","baseLinePoints","connectNulls"];function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ka.apply(this,arguments)}function lee(e,t){if(e==null)return{};var n=uee(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uee(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Z1(e){return hee(e)||fee(e)||dee(e)||cee()}function cee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dee(e,t){if(e){if(typeof e=="string")return oy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oy(e,t)}}function fee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hee(e){if(Array.isArray(e))return oy(e)}function oy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eE=function(t){return t&&t.x===+t.x&&t.y===+t.y},pee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){eE(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),eE(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Fl=function(t,n){var r=pee(t);n&&(r=[r.reduce(function(o,a){return[].concat(Z1(o),Z1(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},mee=function(t,n,r){var i=Fl(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Fl(n.reverse(),r).slice(1))},gee=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,o=t.connectNulls,a=lee(t,see);if(!n||!n.length)return null;var s=be("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=mee(n,i,o);return I.createElement("g",{className:s},I.createElement("path",ka({},ae(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?I.createElement("path",ka({},ae(a,!0),{fill:"none",d:Fl(n,o)})):null,l?I.createElement("path",ka({},ae(a,!0),{fill:"none",d:Fl(i,o)})):null)}var c=Fl(n,o);return I.createElement("path",ka({},ae(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay.apply(this,arguments)}var hp=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,a=be("recharts-dot",o);return n===+n&&r===+r&&i===+i?O.createElement("circle",ay({},ae(t,!1),rf(t),{className:a,cx:n,cy:r,r:i})):null};function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}var vee=["x","y","top","left","width","height","className"];function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(this,arguments)}function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(r){bee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bee(e,t,n){return t=xee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xee(e){var t=wee(e,"string");return Vu(t)=="symbol"?t:t+""}function wee(e,t){if(Vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ee(e,t){if(e==null)return{};var n=See(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function See(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Eee=function(t,n,r,i,o,a){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},kee=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.top,s=a===void 0?0:a,l=t.left,u=l===void 0?0:l,c=t.width,d=c===void 0?0:c,h=t.height,g=h===void 0?0:h,v=t.className,b=_ee(t,vee),y=yee({x:r,y:o,top:s,left:u,width:d,height:g},b);return!H(r)||!H(o)||!H(d)||!H(g)||!H(s)||!H(u)?null:I.createElement("path",sy({},ae(y,!0),{className:be("recharts-cross",v),d:Eee(r,o,d,g,s,u)}))},Tee=lp,Aee=pN,Cee=Tr;function Pee(e,t){return e&&e.length?Tee(e,Cee(t),Aee):void 0}var Iee=Pee;const Nee=Oe(Iee);var Oee=lp,Ree=Tr,Mee=mN;function $ee(e,t){return e&&e.length?Oee(e,Ree(t),Mee):void 0}var Dee=$ee;const jee=Oe(Dee);var Lee=["cx","cy","angle","ticks","axisLine"],Uee=["ticks","tick","angle","tickFormatter","stroke"];function us(e){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bl.apply(this,arguments)}function nE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(n),!0).forEach(function(r){pp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rE(e,t){if(e==null)return{};var n=Fee(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fee(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Bee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iO(r.key),r)}}function zee(e,t,n){return t&&iE(e.prototype,t),n&&iE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vee(e,t,n){return t=Ff(t),qee(e,rO()?Reflect.construct(t,n||[],Ff(e).constructor):t.apply(e,n))}function qee(e,t){if(t&&(us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gee(e)}function Gee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rO=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ff(e)}function Hee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ly(e,t)}function ly(e,t){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ly(e,t)}function pp(e,t,n){return t=iO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iO(e){var t=Wee(e,"string");return us(t)=="symbol"?t:t+""}function Wee(e,t){if(us(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mp=function(e){function t(){return Bee(this,t),Vee(this,t,arguments)}return Hee(t,e),zee(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return He(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=Nee(s,function(c){return c.coordinate||0}),u=jee(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=rE(r,Lee),c=s.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),d=He(i,o,c[0],a),h=He(i,o,c[1],a),g=Zi(Zi(Zi({},ae(u,!1)),{},{fill:"none"},ae(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return I.createElement("line",Bl({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=rE(i,Uee),d=this.getTickTextAnchor(),h=ae(c,!1),g=ae(a,!1),v=o.map(function(b,y){var w=r.getTickValueCoord(b),x=Zi(Zi(Zi(Zi({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:y},w),{},{payload:b});return I.createElement(Te,Bl({className:be("recharts-polar-radius-axis-tick",VN(a)),key:"tick-".concat(b.coordinate)},Oo(r.props,b,y)),t.renderTickItem(a,x,l?l(b.value,y):b.value))});return I.createElement(Te,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:I.createElement(Te,{className:be("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),At.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):he(r)?a=r(i):a=I.createElement(Ro,Bl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(O.PureComponent);pp(mp,"displayName","PolarRadiusAxis");pp(mp,"axisType","radiusAxis");pp(mp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},co.apply(this,arguments)}function oE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(n),!0).forEach(function(r){gp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aO(r.key),r)}}function Jee(e,t,n){return t&&aE(e.prototype,t),n&&aE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yee(e,t,n){return t=Bf(t),Xee(e,oO()?Reflect.construct(t,n||[],Bf(e).constructor):t.apply(e,n))}function Xee(e,t){if(t&&(cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qee(e)}function Qee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oO=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bf(e)}function Zee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uy(e,t)}function uy(e,t){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uy(e,t)}function gp(e,t,n){return t=aO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aO(e){var t=ete(e,"string");return cs(t)=="symbol"?t:t+""}function ete(e,t){if(cs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tte=Math.PI/180,sE=1e-5,vp=function(e){function t(){return Kee(this,t),Yee(this,t,arguments)}return Zee(t,e),Jee(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=He(o,a,s,r.coordinate),h=He(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*tte),a;return o>sE?a=i==="outer"?"start":"end":o<-sE?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=eo(eo({},ae(this.props,!1)),{},{fill:"none"},ae(s,!1));if(l==="circle")return I.createElement(hp,co({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,d=c.map(function(h){return He(i,o,a,h.coordinate)});return I.createElement(gee,co({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ae(this.props,!1),d=ae(a,!1),h=eo(eo({},c),{},{fill:"none"},ae(s,!1)),g=o.map(function(v,b){var y=r.getTickLineCoord(v),w=r.getTickTextAnchor(v),x=eo(eo(eo({textAnchor:w},c),{},{stroke:"none",fill:u},d),{},{index:b,payload:v,x:y.x2,y:y.y2});return I.createElement(Te,co({className:be("recharts-polar-angle-axis-tick",VN(a)),key:"tick-".concat(v.coordinate)},Oo(r.props,v,b)),s&&I.createElement("line",co({className:"recharts-polar-angle-axis-tick-line"},h,y)),a&&t.renderTickItem(a,x,l?l(v.value,b):v.value))});return I.createElement(Te,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:I.createElement(Te,{className:be("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return I.isValidElement(r)?a=I.cloneElement(r,i):he(r)?a=r(i):a=I.createElement(Ro,co({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(O.PureComponent);gp(vp,"displayName","PolarAngleAxis");gp(vp,"axisType","angleAxis");gp(vp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var nte=cI,rte=nte(Object.getPrototypeOf,Object),ite=rte,ote=ri,ate=ite,ste=ii,lte="[object Object]",ute=Function.prototype,cte=Object.prototype,sO=ute.toString,dte=cte.hasOwnProperty,fte=sO.call(Object);function hte(e){if(!ste(e)||ote(e)!=lte)return!1;var t=ate(e);if(t===null)return!0;var n=dte.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&sO.call(n)==fte}var pte=hte;const mte=Oe(pte);var gte=ri,vte=ii,yte="[object Boolean]";function bte(e){return e===!0||e===!1||vte(e)&&gte(e)==yte}var xte=bte;const wte=Oe(xte);function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zf.apply(this,arguments)}function _te(e,t){return Tte(e)||kte(e,t)||Ete(e,t)||Ste()}function Ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ete(e,t){if(e){if(typeof e=="string")return lE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lE(e,t)}}function lE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Tte(e){if(Array.isArray(e))return e}function uE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(n),!0).forEach(function(r){Ate(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ate(e,t,n){return t=Cte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cte(e){var t=Pte(e,"string");return qu(t)=="symbol"?t:t+""}function Pte(e,t){if(qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dE=function(t,n,r,i,o){var a=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-a/2,",").concat(n+o),s+="L ".concat(t+r-a/2-i,",").concat(n+o),s+="L ".concat(t,",").concat(n," Z"),s},Ite={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nte=function(t){var n=cE(cE({},Ite),t),r=O.useRef(),i=O.useState(-1),o=_te(i,2),a=o[0],s=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,g=n.className,v=n.animationEasing,b=n.animationDuration,y=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var x=be("recharts-trapezoid",g);return w?I.createElement(Er,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:b,animationEasing:v,isActive:w},function(_){var k=_.upperWidth,E=_.lowerWidth,S=_.height,T=_.x,A=_.y;return I.createElement(Er,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:v},I.createElement("path",zf({},ae(n,!0),{className:x,d:dE(T,A,k,E,S),ref:r})))}):I.createElement("g",null,I.createElement("path",zf({},ae(n,!0),{className:x,d:dE(l,u,c,d,h)})))},Ote=["option","shapeType","propTransformer","activeClassName","isActive"];function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function Rte(e,t){if(e==null)return{};var n=Mte(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Mte(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(n),!0).forEach(function(r){$te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $te(e,t,n){return t=Dte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dte(e){var t=jte(e,"string");return Gu(t)=="symbol"?t:t+""}function jte(e,t){if(Gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lte(e,t){return Vf(Vf({},t),e)}function Ute(e,t){return e==="symbols"}function hE(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return I.createElement(Vb,n);case"trapezoid":return I.createElement(Nte,n);case"sector":return I.createElement(HN,n);case"symbols":if(Ute(t))return I.createElement(lb,n);break;default:return null}}function Fte(e){return O.isValidElement(e)?e.props:e}function lO(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?Lte:r,o=e.activeClassName,a=o===void 0?"recharts-active-shape":o,s=e.isActive,l=Rte(e,Ote),u;if(O.isValidElement(t))u=O.cloneElement(t,Vf(Vf({},l),Fte(t)));else if(he(t))u=t(l);else if(mte(t)&&!wte(t)){var c=i(t,l);u=I.createElement(hE,{shapeType:n,elementProps:c})}else{var d=l;u=I.createElement(hE,{shapeType:n,elementProps:d})}return s?I.createElement(Te,{className:a},u):u}function yp(e,t){return t!=null&&"trapezoids"in e.props}function bp(e,t){return t!=null&&"sectors"in e.props}function Hu(e,t){return t!=null&&"points"in e.props}function Bte(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function zte(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Vte(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function qte(e,t){var n;return yp(e,t)?n=Bte:bp(e,t)?n=zte:Hu(e,t)&&(n=Vte),n}function Gte(e,t){var n;return yp(e,t)?n="trapezoids":bp(e,t)?n="sectors":Hu(e,t)&&(n="points"),n}function Hte(e,t){if(yp(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(bp(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Hu(e,t)?t.payload:{}}function Wte(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Gte(n,t),o=Hte(n,t),a=r.filter(function(l,u){var c=as(o,l),d=n.props[i].filter(function(v){var b=qte(n,t);return b(v,t)}),h=n.props[i].indexOf(d[d.length-1]),g=u===h;return c&&g}),s=r.indexOf(a[a.length-1]);return s}var _d;function ds(e){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ta.apply(this,arguments)}function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(r){Mn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cO(r.key),r)}}function Jte(e,t,n){return t&&mE(e.prototype,t),n&&mE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yte(e,t,n){return t=qf(t),Xte(e,uO()?Reflect.construct(t,n||[],qf(e).constructor):t.apply(e,n))}function Xte(e,t){if(t&&(ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qte(e)}function Qte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uO=function(){return!!e})()}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qf(e)}function Zte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cy(e,t)}function cy(e,t){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cy(e,t)}function Mn(e,t,n){return t=cO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cO(e){var t=ene(e,"string");return ds(t)=="symbol"?t:t+""}function ene(e,t){if(ds(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ai=function(e){function t(n){var r;return Kte(this,t),r=Yte(this,t,[n]),Mn(r,"pieRef",null),Mn(r,"sectorRefs",[]),Mn(r,"id",Ms("recharts-pie-")),Mn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),he(i)&&i()}),Mn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),he(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Zte(t,e),Jte(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=ae(this.props,!1),d=ae(a,!1),h=ae(s,!1),g=a&&a.offsetRadius||20,v=r.map(function(b,y){var w=(b.startAngle+b.endAngle)/2,x=He(b.cx,b.cy,b.outerRadius+g,w),_=Ve(Ve(Ve(Ve({},c),b),{},{stroke:"none"},d),{},{index:y,textAnchor:t.getTextAnchor(x.x,b.cx)},x),k=Ve(Ve(Ve(Ve({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:y,points:[He(b.cx,b.cy,b.outerRadius,w),x]}),E=l;return ye(l)&&ye(u)?E="value":ye(l)&&(E=u),I.createElement(Te,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},s&&t.renderLabelLineItem(s,k,"line"),t.renderLabelItem(a,_,xt(b,E)))});return I.createElement(Te,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,g=d?a:h,v=Ve(Ve({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return I.createElement(Te,Ta({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Oo(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),I.createElement(lO,Ta({option:g,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,h=d.prevSectors,g=d.prevIsAnimationActive;return I.createElement(Er,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,y=[],w=o&&o[0],x=w.startAngle;return o.forEach(function(_,k){var E=h&&h[k],S=k>0?kn(_,"paddingAngle",0):0;if(E){var T=an(E.endAngle-E.startAngle,_.endAngle-_.startAngle),A=Ve(Ve({},_),{},{startAngle:x+S,endAngle:x+T(b)+S});y.push(A),x=A.endAngle}else{var C=_.endAngle,N=_.startAngle,R=an(0,C-N),M=R(b),L=Ve(Ve({},_),{},{startAngle:x+S,endAngle:x+M+S});y.push(L),x=L.endAngle}}),I.createElement(Te,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!as(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!a||!a.length||!H(u)||!H(c)||!H(d)||!H(h))return null;var b=be("recharts-pie",s);return I.createElement(Te,{tabIndex:this.props.rootTabIndex,className:b,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(a),At.renderCallByParent(this.props,null,!1),(!g||v)&&Hr.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);if(he(r))return r(i);var a=be("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return I.createElement(Ba,Ta({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(I.isValidElement(r))return I.cloneElement(r,i);var a=o;if(he(r)&&(a=r(i),I.isValidElement(a)))return a;var s=be("recharts-pie-label-text",typeof r!="boolean"&&!he(r)?r.className:"");return I.createElement(Ro,Ta({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(O.PureComponent);_d=ai;Mn(ai,"displayName","Pie");Mn(ai,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Fo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Mn(ai,"parseDeltaAngle",function(e,t){var n=Yt(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Mn(ai,"getRealPieData",function(e){var t=e.data,n=e.children,r=ae(e,!1),i=Ln(n,tp);return t&&t.length?t.map(function(o,a){return Ve(Ve(Ve({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Ve(Ve({},r),o.props)}):[]});Mn(ai,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,o=t.height,a=zN(i,o),s=r+Xt(e.cx,i,i/2),l=n+Xt(e.cy,o,o/2),u=Xt(e.innerRadius,a,0),c=Xt(e.outerRadius,a,a*.8),d=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});Mn(ai,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Ve(Ve({},t.type.defaultProps),t.props):t.props,i=_d.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),v=_d.parseCoordinateOfPie(r,n),b=_d.parseDeltaAngle(a,s),y=Math.abs(b),w=u;ye(u)&&ye(d)?(ar(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):ye(u)&&(ar(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var x=i.filter(function(A){return xt(A,w,0)!==0}).length,_=(y>=360?x:x-1)*l,k=y-x*g-_,E=i.reduce(function(A,C){var N=xt(C,w,0);return A+(H(N)?N:0)},0),S;if(E>0){var T;S=i.map(function(A,C){var N=xt(A,w,0),R=xt(A,c,C),M=(H(N)?N:0)/E,L;C?L=T.endAngle+Yt(b)*l*(N!==0?1:0):L=a;var $=L+Yt(b)*((N!==0?g:0)+M*k),D=(L+$)/2,U=(v.innerRadius+v.outerRadius)/2,V=[{name:R,value:N,payload:A,dataKey:w,type:h}],P=He(v.cx,v.cy,U,D);return T=Ve(Ve(Ve({percent:M,cornerRadius:o,name:R,tooltipPayload:V,midAngle:D,middleRadius:U,tooltipPosition:P},A),v),{},{value:xt(A,w),startAngle:L,endAngle:$,payload:A,paddingAngle:Yt(b)*l}),T})}return Ve(Ve({},v),{},{sectors:S,data:i})});var tne=Math.ceil,nne=Math.max;function rne(e,t,n,r){for(var i=-1,o=nne(tne((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}var ine=rne,one=PI,gE=1/0,ane=17976931348623157e292;function sne(e){if(!e)return e===0?e:0;if(e=one(e),e===gE||e===-gE){var t=e<0?-1:1;return t*ane}return e===e?e:0}var dO=sne,lne=ine,une=ep,Fm=dO;function cne(e){return function(t,n,r){return r&&typeof r!="number"&&une(t,n,r)&&(n=r=void 0),t=Fm(t),n===void 0?(n=t,t=0):n=Fm(n),r=r===void 0?t<n?1:-1:Fm(r),lne(t,n,r,e)}}var dne=cne,fne=dne,hne=fne(),pne=hne;const Gf=Oe(pne);function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(n),!0).forEach(function(r){fO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fO(e,t,n){return t=mne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mne(e){var t=gne(e,"string");return Wu(t)=="symbol"?t:t+""}function gne(e,t){if(Wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vne=["Webkit","Moz","O","ms"],yne=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=vne.reduce(function(o,a){return yE(yE({},o),{},fO({},a+r,n))},{});return i[t]=n,i};function fs(e){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hf.apply(this,arguments)}function bE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(n),!0).forEach(function(r){vn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pO(r.key),r)}}function xne(e,t,n){return t&&xE(e.prototype,t),n&&xE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wne(e,t,n){return t=Wf(t),_ne(e,hO()?Reflect.construct(t,n||[],Wf(e).constructor):t.apply(e,n))}function _ne(e,t){if(t&&(fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sne(e)}function Sne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hO=function(){return!!e})()}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wf(e)}function Ene(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dy(e,t)}function dy(e,t){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dy(e,t)}function vn(e,t,n){return t=pO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pO(e){var t=kne(e,"string");return fs(t)=="symbol"?t:t+""}function kne(e,t){if(fs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tne=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,a=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=jl().domain(Gf(0,l)).range([o,o+a-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},wE=function(t){return t.changedTouches&&!!t.changedTouches.length},hs=function(e){function t(n){var r;return bne(this,t),r=wne(this,t,[n]),vn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),vn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),vn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),vn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),vn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),vn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),vn(r,"handleSlideDragStart",function(i){var o=wE(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Ene(t,e),xne(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),g=t.getIndexInRange(a,d),v=t.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=xt(o[r],s,r);return he(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,g=l.endIndex,v=l.onChange,b=r.pageX-o;b>0?b=Math.min(b,u+c-d-s,u+c-d-a):b<0&&(b=Math.max(b,u-a,u-s));var y=this.getIndex({startX:a+b,endX:s+b});(y.startIndex!==h||y.endIndex!==g)&&v&&v(y),this.setState({startX:a+b,endX:s+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=wE(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,d=c.x,h=c.width,g=c.travellerWidth,v=c.onChange,b=c.gap,y=c.data,w={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,d+h-g-u):x<0&&(x=Math.max(x,d-u)),w[a]=u+x;var _=this.getIndex(w),k=_.startIndex,E=_.endIndex,S=function(){var A=y.length-1;return a==="startX"&&(s>l?k%b===0:E%b===0)||s<l&&E===A||a==="endX"&&(s>l?E%b===0:k%b===0)||s>l&&E===A};this.setState(vn(vn({},a,u+x),"brushMoveStartX",r.pageX),function(){v&&S()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(vn({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return I.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=O.Children.only(u);return d?I.cloneElement(d,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,g=l.ariaLabel,v=l.data,b=l.startIndex,y=l.endIndex,w=Math.max(r,this.props.x),x=Bm(Bm({},ae(this.props,!1)),{},{x:w,y:u,width:c,height:d}),_=g||"Min value: ".concat((o=v[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[y])===null||a===void 0?void 0:a.name);return I.createElement(Te,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,g=5,v={pointerEvents:"none",fill:u};return I.createElement(Te,{className:"recharts-brush-texts"},I.createElement(Ro,Hf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-g,y:a+s/2},v),this.getTextOfTick(i)),I.createElement(Ro,Hf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+g,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,g=h.startX,v=h.endX,b=h.isTextActive,y=h.isSlideMoving,w=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!H(s)||!H(l)||!H(u)||!H(c)||u<=0||c<=0)return null;var _=be("recharts-brush",o),k=I.Children.count(a)===1,E=yne("userSelect","none");return I.createElement(Te,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(b||y||w||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return I.isValidElement(r)?o=I.cloneElement(r,i):he(r)?o=r(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Bm({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Tne({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(O.PureComponent);vn(hs,"displayName","Brush");vn(hs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ane=mb;function Cne(e,t){var n;return Ane(e,function(r,i,o){return n=t(r,i,o),!n}),!!n}var Pne=Cne,Ine=nI,Nne=Tr,One=Pne,Rne=fn,Mne=ep;function $ne(e,t,n){var r=Rne(e)?Ine:One;return n&&Mne(e,t,n)&&(t=void 0),r(e,Nne(t))}var Dne=$ne;const jne=Oe(Dne);var _r=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},_E=EI;function Lne(e,t,n){t=="__proto__"&&_E?_E(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Une=Lne,Fne=Une,Bne=_I,zne=Tr;function Vne(e,t){var n={};return t=zne(t),Bne(e,function(r,i,o){Fne(n,i,t(r,i,o))}),n}var qne=Vne;const Gne=Oe(qne);function Hne(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Wne=Hne,Kne=mb;function Jne(e,t){var n=!0;return Kne(e,function(r,i,o){return n=!!t(r,i,o),n}),n}var Yne=Jne,Xne=Wne,Qne=Yne,Zne=Tr,ere=fn,tre=ep;function nre(e,t,n){var r=ere(e)?Xne:Qne;return n&&tre(e,t,n)&&(t=void 0),r(e,Zne(t))}var rre=nre;const mO=Oe(rre);var ire=["x","y"];function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fy.apply(this,arguments)}function SE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(n),!0).forEach(function(r){ore(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ore(e,t,n){return t=are(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function are(e){var t=sre(e,"string");return Ku(t)=="symbol"?t:t+""}function sre(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lre(e,t){if(e==null)return{};var n=ure(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ure(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function cre(e,t){var n=e.x,r=e.y,i=lre(e,ire),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),d="".concat(t.width||i.width),h=parseInt(d,10);return pl(pl(pl(pl(pl({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:t.name,radius:t.radius})}function EE(e){return I.createElement(lO,fy({shapeType:"rectangle",propTransformer:cre,activeClassName:"recharts-active-bar"},e))}var dre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var o=H(r)||OF(r);return o?t(r,i):(o||$o(),n)}},fre=["value","background"],gO;function ps(e){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(e)}function hre(e,t){if(e==null)return{};var n=pre(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pre(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kf.apply(this,arguments)}function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(r){Si(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yO(r.key),r)}}function gre(e,t,n){return t&&TE(e.prototype,t),n&&TE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vre(e,t,n){return t=Jf(t),yre(e,vO()?Reflect.construct(t,n||[],Jf(e).constructor):t.apply(e,n))}function yre(e,t){if(t&&(ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bre(e)}function bre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vO=function(){return!!e})()}function Jf(e){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jf(e)}function xre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hy(e,t)}function hy(e,t){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hy(e,t)}function Si(e,t,n){return t=yO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yO(e){var t=wre(e,"string");return ps(t)=="symbol"?t:t+""}function wre(e,t){if(ps(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fc=function(e){function t(){var n;mre(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=vre(this,t,[].concat(i)),Si(n,"state",{isAnimationFinished:!1}),Si(n,"id",Ms("recharts-bar-")),Si(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Si(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return xre(t,e),gre(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ae(this.props,!1);return r&&r.map(function(d,h){var g=h===l,v=g?u:a,b=dt(dt(dt({},c),d),{},{isActive:g,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(Te,Kf({className:"recharts-bar-rectangle"},Oo(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),I.createElement(EE,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return I.createElement(Er,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,b=o.map(function(y,w){var x=h&&h[w];if(x){var _=an(x.x,y.x),k=an(x.y,y.y),E=an(x.width,y.width),S=an(x.height,y.height);return dt(dt({},y),{},{x:_(v),y:k(v),width:E(v),height:S(v)})}if(a==="horizontal"){var T=an(0,y.height),A=T(v);return dt(dt({},y),{},{y:y.y+y.height-A,height:A})}var C=an(0,y.width),N=C(v);return dt(dt({},y),{},{width:N})});return I.createElement(Te,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!as(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ae(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=hre(u,fre);if(!d)return null;var g=dt(dt(dt(dt(dt({},h),{},{fill:"#eee"},d),l),Oo(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return I.createElement(EE,Kf({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Ln(c,fp);if(!d)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(y,w){var x=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:x,errorVal:xt(y,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return I.createElement(Te,v,d.map(function(b){return I.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,g=r.isAnimationActive,v=r.background,b=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=be("recharts-bar",a),x=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,k=x||_,E=ye(b)?this.id:b;return I.createElement(Te,{className:w},x||_?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(E)},I.createElement("rect",{x:x?u:u-d/2,y:_?c:c-h/2,width:x?d:d*2,height:_?h:h*2}))):null,I.createElement(Te,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(E,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,E),(!g||y)&&Hr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(O.PureComponent);gO=fc;Si(fc,"displayName","Bar");Si(fc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Si(fc,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,d=e.displayedData,h=e.offset,g=XY(r,n);if(!g)return null;var v=t.layout,b=n.type.defaultProps,y=b!==void 0?dt(dt({},b),n.props):n.props,w=y.dataKey,x=y.children,_=y.minPointSize,k=v==="horizontal"?a:o,E=u?k.scale.domain():null,S=iX({numericAxis:k}),T=Ln(x,tp),A=d.map(function(C,N){var R,M,L,$,D,U;u?R=QY(u[c+N],E):(R=xt(C,w),Array.isArray(R)||(R=[S,R]));var V=dre(_,gO.defaultProps.minPointSize)(R[1],N);if(v==="horizontal"){var P,j=[a.scale(R[0]),a.scale(R[1])],z=j[0],J=j[1];M=y1({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:C,index:N}),L=(P=J??z)!==null&&P!==void 0?P:void 0,$=g.size;var G=z-J;if(D=Number.isNaN(G)?0:G,U={x:M,y:a.y,width:$,height:a.height},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var oe=Yt(D||V)*(Math.abs(V)-Math.abs(D));L-=oe,D+=oe}}else{var pe=[o.scale(R[0]),o.scale(R[1])],xe=pe[0],We=pe[1];if(M=xe,L=y1({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:C,index:N}),$=We-xe,D=g.size,U={x:o.x,y:L,width:o.width,height:D},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var Ot=Yt($||V)*(Math.abs(V)-Math.abs($));$+=Ot}}return dt(dt(dt({},C),{},{x:M,y:L,width:$,height:D,value:u?R:R[1],payload:C,background:U},T&&T[N]&&T[N].props),{},{tooltipPayload:[FN(n,C)],tooltipPosition:{x:M+$/2,y:L+D/2}})});return dt({data:A,layout:v},h)});function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function _re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bO(r.key),r)}}function Sre(e,t,n){return t&&AE(e.prototype,t),n&&AE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(n),!0).forEach(function(r){xp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xp(e,t,n){return t=bO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bO(e){var t=Ere(e,"string");return Ju(t)=="symbol"?t:t+""}function Ere(e,t){if(Ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kre=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,u=t.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!bn(u,fc);return c.reduce(function(g,v){var b=n[v],y=b.orientation,w=b.domain,x=b.padding,_=x===void 0?{}:x,k=b.mirror,E=b.reversed,S="".concat(y).concat(k?"Mirror":""),T,A,C,N,R;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var M=w[1]-w[0],L=1/0,$=b.categoricalDomain.sort($F);if($.forEach(function(pe,xe){xe>0&&(L=Math.min((pe||0)-($[xe-1]||0),L))}),Number.isFinite(L)){var D=L/M,U=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(T=D*U/2),b.padding==="no-gap"){var V=Xt(t.barCategoryGap,D*U),P=D*U/2;T=P-V-(P-V)/U*V}}}i==="xAxis"?A=[r.left+(_.left||0)+(T||0),r.left+r.width-(_.right||0)-(T||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(T||0),r.top+r.height-(_.bottom||0)-(T||0)]:A=b.range,E&&(A=[A[1],A[0]]);var j=DN(b,o,h),z=j.scale,J=j.realScaleType;z.domain(w).range(A),jN(z);var G=LN(z,tr(tr({},b),{},{realScaleType:J}));i==="xAxis"?(R=y==="top"&&!k||y==="bottom"&&k,C=r.left,N=d[S]-R*b.height):i==="yAxis"&&(R=y==="left"&&!k||y==="right"&&k,C=d[S]-R*b.width,N=r.top);var oe=tr(tr(tr({},b),G),{},{realScaleType:J,x:C,y:N,scale:z,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return oe.bandSize=Of(oe,G),!b.hide&&i==="xAxis"?d[S]+=(R?-1:1)*oe.height:b.hide||(d[S]+=(R?-1:1)*oe.width),tr(tr({},g),{},xp({},v,oe))},{})},xO=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Tre=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return xO({x:n,y:r},{x:i,y:o})},wO=function(){function e(t){_re(this,e),this.scale=t}return Sre(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();xp(wO,"EPS",1e-4);var qb=function(t){var n=Object.keys(t).reduce(function(r,i){return tr(tr({},r),{},xp({},i,wO.create(t[i])))},{});return tr(tr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Gne(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return mO(i,function(o,a){return n[a].isInRange(o)})}})};function Are(e){return(e%180+180)%180}var Cre=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Are(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Pre=Tr,Ire=sc,Nre=Qh;function Ore(e){return function(t,n,r){var i=Object(t);if(!Ire(t)){var o=Pre(n);t=Nre(t),n=function(s){return o(i[s],s,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}var Rre=Ore,Mre=dO;function $re(e){var t=Mre(e),n=t%1;return t===t?n?t-n:t:0}var Dre=$re,jre=gI,Lre=Tr,Ure=Dre,Fre=Math.max;function Bre(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Ure(n);return i<0&&(i=Fre(r+i,0)),jre(e,Lre(t),i)}var zre=Bre,Vre=Rre,qre=zre,Gre=Vre(qre),Hre=Gre;const Wre=Oe(Hre);var Kre=L5(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Gb=O.createContext(void 0),Hb=O.createContext(void 0),_O=O.createContext(void 0),SO=O.createContext({}),EO=O.createContext(void 0),kO=O.createContext(0),TO=O.createContext(0),PE=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=t.clipPathId,s=t.children,l=t.width,u=t.height,c=Kre(o);return I.createElement(Gb.Provider,{value:r},I.createElement(Hb.Provider,{value:i},I.createElement(SO.Provider,{value:o},I.createElement(_O.Provider,{value:c},I.createElement(EO.Provider,{value:a},I.createElement(kO.Provider,{value:u},I.createElement(TO.Provider,{value:l},s)))))))},Jre=function(){return O.useContext(EO)},AO=function(t){var n=O.useContext(Gb);n==null&&$o();var r=n[t];return r==null&&$o(),r},Yre=function(){var t=O.useContext(Gb);return bi(t)},Xre=function(){var t=O.useContext(Hb),n=Wre(t,function(r){return mO(r.domain,Number.isFinite)});return n||bi(t)},CO=function(t){var n=O.useContext(Hb);n==null&&$o();var r=n[t];return r==null&&$o(),r},Qre=function(){var t=O.useContext(_O);return t},Zre=function(){return O.useContext(SO)},Wb=function(){return O.useContext(TO)},Kb=function(){return O.useContext(kO)};function ms(e){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function eie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IO(r.key),r)}}function nie(e,t,n){return t&&tie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rie(e,t,n){return t=Yf(t),iie(e,PO()?Reflect.construct(t,n||[],Yf(e).constructor):t.apply(e,n))}function iie(e,t){if(t&&(ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oie(e)}function oie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PO=function(){return!!e})()}function Yf(e){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yf(e)}function aie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&py(e,t)}function py(e,t){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},py(e,t)}function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(n),!0).forEach(function(r){Jb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jb(e,t,n){return t=IO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IO(e){var t=sie(e,"string");return ms(t)=="symbol"?t:t+""}function sie(e,t){if(ms(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lie(e,t){return fie(e)||die(e,t)||cie(e,t)||uie()}function uie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cie(e,t){if(e){if(typeof e=="string")return OE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OE(e,t)}}function OE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function die(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function fie(e){if(Array.isArray(e))return e}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},my.apply(this,arguments)}var hie=function(t,n){var r;return I.isValidElement(t)?r=I.cloneElement(t,n):he(t)?r=t(n):r=I.createElement("line",my({},n,{className:"recharts-reference-line-line"})),r},pie=function(t,n,r,i,o,a,s,l,u){var c=o.x,d=o.y,h=o.width,g=o.height;if(r){var v=u.y,b=t.y.apply(v,{position:a});if(_r(u,"discard")&&!t.y.isInRange(b))return null;var y=[{x:c+h,y:b},{x:c,y:b}];return l==="left"?y.reverse():y}if(n){var w=u.x,x=t.x.apply(w,{position:a});if(_r(u,"discard")&&!t.x.isInRange(x))return null;var _=[{x,y:d+g},{x,y:d}];return s==="top"?_.reverse():_}if(i){var k=u.segment,E=k.map(function(S){return t.apply(S,{position:a})});return _r(u,"discard")&&jne(E,function(S){return!t.isInRange(S)})?null:E}return null};function mie(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,u=Jre(),c=AO(i),d=CO(o),h=Qre();if(!u||!h)return null;ar(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=qb({x:c.scale,y:d.scale}),v=_t(t),b=_t(n),y=r&&r.length===2,w=pie(g,v,b,y,h,e.position,c.orientation,d.orientation,e);if(!w)return null;var x=lie(w,2),_=x[0],k=_.x,E=_.y,S=x[1],T=S.x,A=S.y,C=_r(e,"hidden")?"url(#".concat(u,")"):void 0,N=NE(NE({clipPath:C},ae(e,!0)),{},{x1:k,y1:E,x2:T,y2:A});return I.createElement(Te,{className:be("recharts-reference-line",s)},hie(a,N),At.renderCallByParent(e,Tre({x1:k,y1:E,x2:T,y2:A})))}var Yb=function(e){function t(){return eie(this,t),rie(this,t,arguments)}return aie(t,e),nie(t,[{key:"render",value:function(){return I.createElement(mie,this.props)}}])}(I.Component);Jb(Yb,"displayName","ReferenceLine");Jb(Yb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gy.apply(this,arguments)}function gs(e){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ME(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){wp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OO(r.key),r)}}function yie(e,t,n){return t&&vie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bie(e,t,n){return t=Xf(t),xie(e,NO()?Reflect.construct(t,n||[],Xf(e).constructor):t.apply(e,n))}function xie(e,t){if(t&&(gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wie(e)}function wie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NO=function(){return!!e})()}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xf(e)}function _ie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vy(e,t)}function vy(e,t){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vy(e,t)}function wp(e,t,n){return t=OO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OO(e){var t=Sie(e,"string");return gs(t)=="symbol"?t:t+""}function Sie(e,t){if(gs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eie=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,a=qb({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return _r(t,"discard")&&!a.isInRange(s)?null:s},_p=function(e){function t(){return gie(this,t),bie(this,t,arguments)}return _ie(t,e),yie(t,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=_t(i),c=_t(o);if(ar(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=Eie(this.props);if(!d)return null;var h=d.x,g=d.y,v=this.props,b=v.shape,y=v.className,w=_r(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=ME(ME({clipPath:w},ae(this.props,!0)),{},{cx:h,cy:g});return I.createElement(Te,{className:be("recharts-reference-dot",y)},t.renderDot(b,x),At.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(I.Component);wp(_p,"displayName","ReferenceDot");wp(_p,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});wp(_p,"renderDot",function(e,t){var n;return I.isValidElement(e)?n=I.cloneElement(e,t):he(e)?n=e(t):n=I.createElement(hp,gy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yy.apply(this,arguments)}function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(n),!0).forEach(function(r){Sp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MO(r.key),r)}}function Aie(e,t,n){return t&&Tie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cie(e,t,n){return t=Qf(t),Pie(e,RO()?Reflect.construct(t,n||[],Qf(e).constructor):t.apply(e,n))}function Pie(e,t){if(t&&(vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iie(e)}function Iie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RO=function(){return!!e})()}function Qf(e){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qf(e)}function Nie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&by(e,t)}function by(e,t){return by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},by(e,t)}function Sp(e,t,n){return t=MO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MO(e){var t=Oie(e,"string");return vs(t)=="symbol"?t:t+""}function Oie(e,t){if(vs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rie=function(t,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=qb({x:c.scale,y:d.scale}),g={x:t?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return _r(o,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:xO(g,v)},Ep=function(e){function t(){return kie(this,t),Cie(this,t,arguments)}return Nie(t,e),Aie(t,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;ar(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=_t(i),h=_t(o),g=_t(a),v=_t(s),b=this.props.shape;if(!d&&!h&&!g&&!v&&!b)return null;var y=Rie(d,h,g,v,this.props);if(!y&&!b)return null;var w=_r(this.props,"hidden")?"url(#".concat(c,")"):void 0;return I.createElement(Te,{className:be("recharts-reference-area",l)},t.renderRect(b,DE(DE({clipPath:w},ae(this.props,!0)),y)),At.renderCallByParent(this.props,y))}}])}(I.Component);Sp(Ep,"displayName","ReferenceArea");Sp(Ep,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Sp(Ep,"renderRect",function(e,t){var n;return I.isValidElement(e)?n=I.cloneElement(e,t):he(e)?n=e(t):n=I.createElement(Vb,yy({},t,{className:"recharts-reference-area-rect"})),n});function $O(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function Mie(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Cre(r,n)}function $ie(e,t,n){var r=n==="width",i=e.x,o=e.y,a=e.width,s=e.height;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Zf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Die(e,t){return $O(e,t+1)}function jie(e,t,n,r,i){for(var o=(r||[]).slice(),a=t.start,s=t.end,l=0,u=1,c=a,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:$O(r,u)};var b=l,y,w=function(){return y===void 0&&(y=n(v,b)),y},x=v.coordinate,_=l===0||Zf(e,x,w,c,s);_||(l=0,c=a,u+=1),_&&(c=x+e*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(n),!0).forEach(function(r){Lie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lie(e,t,n){return t=Uie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uie(e){var t=Fie(e,"string");return Yu(t)=="symbol"?t:t+""}function Fie(e,t){if(Yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bie(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,u=function(h){var g=o[h],v,b=function(){return v===void 0&&(v=n(g,h)),v};if(h===a-1){var y=e*(g.coordinate+e*b()/2-l);o[h]=g=Vt(Vt({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate})}else o[h]=g=Vt(Vt({},g),{},{tickCoord:g.coordinate});var w=Zf(e,g.tickCoord,b,s,l);w&&(l=g.tickCoord-e*(b()/2+i),o[h]=Vt(Vt({},g),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function zie(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,u=t.end;if(o){var c=r[s-1],d=n(c,s-1),h=e*(c.coordinate+e*d/2-u);a[s-1]=c=Vt(Vt({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate});var g=Zf(e,c.tickCoord,function(){return d},l,u);g&&(u=c.tickCoord-e*(d/2+i),a[s-1]=Vt(Vt({},c),{},{isShow:!0}))}for(var v=o?s-1:s,b=function(x){var _=a[x],k,E=function(){return k===void 0&&(k=n(_,x)),k};if(x===0){var S=e*(_.coordinate-e*E()/2-l);a[x]=_=Vt(Vt({},_),{},{tickCoord:S<0?_.coordinate-S*e:_.coordinate})}else a[x]=_=Vt(Vt({},_),{},{tickCoord:_.coordinate});var T=Zf(e,_.tickCoord,E,l,u);T&&(l=_.tickCoord+e*(E()/2+i),a[x]=Vt(Vt({},_),{},{isShow:!0}))},y=0;y<v;y++)b(y);return a}function Xb(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(H(l)||Fo.isSsr)return Die(i,typeof l=="number"&&H(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",v=c&&g==="width"?Dl(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=function(_,k){var E=he(u)?u(_.value,k):_.value;return g==="width"?Mie(Dl(E,{fontSize:t,letterSpacing:n}),v,d):Dl(E,{fontSize:t,letterSpacing:n})[g]},y=i.length>=2?Yt(i[1].coordinate-i[0].coordinate):1,w=$ie(o,y,g);return l==="equidistantPreserveStart"?jie(y,w,b,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=zie(y,w,b,i,a,l==="preserveStartEnd"):h=Bie(y,w,b,i,a),h.filter(function(x){return x.isShow}))}var Vie=["viewBox"],qie=["viewBox"],Gie=["ticks"];function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aa.apply(this,arguments)}function LE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LE(Object(n),!0).forEach(function(r){Qb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zm(e,t){if(e==null)return{};var n=Hie(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Wie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jO(r.key),r)}}function Kie(e,t,n){return t&&UE(e.prototype,t),n&&UE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jie(e,t,n){return t=eh(t),Yie(e,DO()?Reflect.construct(t,n||[],eh(e).constructor):t.apply(e,n))}function Yie(e,t){if(t&&(ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xie(e)}function Xie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DO=function(){return!!e})()}function eh(e){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eh(e)}function Qie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xy(e,t)}function xy(e,t){return xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xy(e,t)}function Qb(e,t,n){return t=jO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jO(e){var t=Zie(e,"string");return ys(t)=="symbol"?t:t+""}function Zie(e,t){if(ys(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bs=function(e){function t(n){var r;return Wie(this,t),r=Jie(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return Qie(t,e),Kie(t,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=zm(r,Vie),s=this.props,l=s.viewBox,u=zm(s,qie);return!La(o,l)||!La(a,u)||!La(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,g,v,b,y,w,x,_=d?-1:1,k=r.tickSize||c,E=H(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,y=a+ +!d*l,b=y-_*k,x=b-_*h,w=E;break;case"left":b=y=r.coordinate,v=o+ +!d*s,g=v-_*k,w=g-_*h,x=E;break;case"right":b=y=r.coordinate,v=o+ +d*s,g=v+_*k,w=g+_*h,x=E;break;default:g=v=r.coordinate,y=a+ +d*l,b=y+_*k,x=b+_*h,w=E;break}return{line:{x1:g,y1:b,x2:v,y2:y},tick:{x:w,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=gt(gt(gt({},ae(this.props,!1)),ae(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=gt(gt({},d),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);d=gt(gt({},d),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return I.createElement("line",Aa({},d,{className:be("recharts-cartesian-axis-line",kn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,g=Xb(gt(gt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=ae(this.props,!1),w=ae(c,!1),x=gt(gt({},y),{},{fill:"none"},ae(l,!1)),_=g.map(function(k,E){var S=a.getTickLineCoord(k),T=S.line,A=S.tick,C=gt(gt(gt(gt({textAnchor:v,verticalAnchor:b},y),{},{stroke:"none",fill:u},w),A),{},{index:E,payload:k,visibleTicksCount:g.length,tickFormatter:d});return I.createElement(Te,Aa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Oo(a.props,k,E)),l&&I.createElement("line",Aa({},x,T,{className:be("recharts-cartesian-axis-tick-line",kn(l,"className"))})),c&&t.renderTickItem(c,C,"".concat(he(d)?d(k.value,E):k.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,g=zm(d,Gie),v=h;return he(l)&&(v=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!v||!v.length?null:I.createElement(Te,{className:be("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),At.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=be(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(r)?a=I.cloneElement(r,gt(gt({},i),{},{className:s})):he(r)?a=r(gt(gt({},i),{},{className:s})):a=I.createElement(Ro,Aa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(O.Component);Qb(Bs,"displayName","CartesianAxis");Qb(Bs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var eoe=["x1","y1","x2","y2","key"],toe=["offset"];function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(n),!0).forEach(function(r){noe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function noe(e,t,n){return t=roe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function roe(e){var t=ioe(e,"string");return Do(t)=="symbol"?t:t+""}function ioe(e,t){if(Do(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Do(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(this,arguments)}function BE(e,t){if(e==null)return{};var n=ooe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ooe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var aoe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,o=t.y,a=t.width,s=t.height,l=t.ry;return I.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function LO(e,t){var n;if(I.isValidElement(e))n=I.cloneElement(e,t);else if(he(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=BE(t,eoe),u=ae(l,!1);u.offset;var c=BE(u,toe);n=I.createElement("line",bo({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function soe(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Gt(Gt({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return LO(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function loe(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Gt(Gt({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return LO(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function uoe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var v=!c[g+1],b=v?i+a-h:c[g+1]-h;if(b<=0)return null;var y=g%t.length;return I.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:b,width:o,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function coe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==c[0]&&c.unshift(0);var d=c.map(function(h,g){var v=!c[g+1],b=v?o+s-h:c[g+1]-h;if(b<=0)return null;var y=g%r.length;return I.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:b,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var doe=function(t,n){var r=t.xAxis,i=t.width,o=t.height,a=t.offset;return $N(Xb(Gt(Gt(Gt({},Bs.defaultProps),r),{},{ticks:zr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},foe=function(t,n){var r=t.yAxis,i=t.width,o=t.height,a=t.offset;return $N(Xb(Gt(Gt(Gt({},Bs.defaultProps),r),{},{ticks:zr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},ia={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function UO(e){var t,n,r,i,o,a,s=Wb(),l=Kb(),u=Zre(),c=Gt(Gt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ia.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:ia.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:ia.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:ia.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ia.vertical,verticalFill:(a=e.verticalFill)!==null&&a!==void 0?a:ia.verticalFill,x:H(e.x)?e.x:u.left,y:H(e.y)?e.y:u.top,width:H(e.width)?e.width:u.width,height:H(e.height)?e.height:u.height}),d=c.x,h=c.y,g=c.width,v=c.height,b=c.syncWithTicks,y=c.horizontalValues,w=c.verticalValues,x=Yre(),_=Xre();if(!H(g)||g<=0||!H(v)||v<=0||!H(d)||d!==+d||!H(h)||h!==+h)return null;var k=c.verticalCoordinatesGenerator||doe,E=c.horizontalCoordinatesGenerator||foe,S=c.horizontalPoints,T=c.verticalPoints;if((!S||!S.length)&&he(E)){var A=y&&y.length,C=E({yAxis:_?Gt(Gt({},_),{},{ticks:A?y:_.ticks}):void 0,width:s,height:l,offset:u},A?!0:b);ar(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Do(C),"]")),Array.isArray(C)&&(S=C)}if((!T||!T.length)&&he(k)){var N=w&&w.length,R=k({xAxis:x?Gt(Gt({},x),{},{ticks:N?w:x.ticks}):void 0,width:s,height:l,offset:u},N?!0:b);ar(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Do(R),"]")),Array.isArray(R)&&(T=R)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(aoe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),I.createElement(soe,bo({},c,{offset:u,horizontalPoints:S,xAxis:x,yAxis:_})),I.createElement(loe,bo({},c,{offset:u,verticalPoints:T,xAxis:x,yAxis:_})),I.createElement(uoe,bo({},c,{horizontalPoints:S})),I.createElement(coe,bo({},c,{verticalPoints:T})))}UO.displayName="CartesianGrid";var hoe=["layout","type","stroke","connectNulls","isRange","ref"],poe=["key"],FO;function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function BO(e,t){if(e==null)return{};var n=moe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function moe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xo.apply(this,arguments)}function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(n),!0).forEach(function(r){yr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function goe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VO(r.key),r)}}function voe(e,t,n){return t&&VE(e.prototype,t),n&&VE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yoe(e,t,n){return t=th(t),boe(e,zO()?Reflect.construct(t,n||[],th(e).constructor):t.apply(e,n))}function boe(e,t){if(t&&(bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xoe(e)}function xoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zO=function(){return!!e})()}function th(e){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},th(e)}function woe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wy(e,t)}function wy(e,t){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wy(e,t)}function yr(e,t,n){return t=VO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VO(e){var t=_oe(e,"string");return bs(t)=="symbol"?t:t+""}function _oe(e,t){if(bs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qi=function(e){function t(){var n;goe(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=yoe(this,t,[].concat(i)),yr(n,"state",{isAnimationFinished:!0}),yr(n,"id",Ms("recharts-area-")),yr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),he(a)&&a()}),yr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),he(a)&&a()}),n}return woe(t,e),voe(t,[{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(a&&!s)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=ae(this.props,!1),g=ae(u,!0),v=c.map(function(y,w){var x=di(di(di({key:"dot-".concat(w),r:3},h),g),{},{index:w,cx:y.x,cy:y.y,dataKey:d,value:y.value,payload:y.payload,points:c});return t.renderDotItem(u,x)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return I.createElement(Te,xo({className:"recharts-area-dots"},b),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,c=r*Math.abs(l-u),d=_i(a.map(function(h){return h.y||0}));return H(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(_i(o.map(function(h){return h.y||0})),d)),H(d)?I.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,a=i.points,s=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,c=r*Math.abs(l-u),d=_i(a.map(function(h){return h.x||0}));return H(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(_i(o.map(function(h){return h.x||0})),d)),H(d)?I.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,a){var s=this.props,l=s.layout,u=s.type,c=s.stroke,d=s.connectNulls,h=s.isRange;s.ref;var g=BO(s,hoe);return I.createElement(Te,{clipPath:o?"url(#clipPath-".concat(a,")"):null},I.createElement(Ba,xo({},ae(g,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&I.createElement(Ba,xo({},ae(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&h&&I.createElement(Ba,xo({},ae(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.baseLine,u=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,g=a.animationId,v=this.state,b=v.prevPoints,y=v.prevBaseLine;return I.createElement(Er,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var x=w.t;if(b){var _=b.length/s.length,k=s.map(function(A,C){var N=Math.floor(C*_);if(b[N]){var R=b[N],M=an(R.x,A.x),L=an(R.y,A.y);return di(di({},A),{},{x:M(x),y:L(x)})}return A}),E;if(H(l)&&typeof l=="number"){var S=an(y,l);E=S(x)}else if(ye(l)||Rs(l)){var T=an(y,0);E=T(x)}else E=l.map(function(A,C){var N=Math.floor(C*_);if(y[N]){var R=y[N],M=an(R.x,A.x),L=an(R.y,A.y);return di(di({},A),{},{x:M(x),y:L(x)})}return A});return o.renderAreaStatically(k,E,r,i)}return I.createElement(Te,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(x))),I.createElement(Te,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(s,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,a=o.points,s=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&a&&a.length&&(!c&&h>0||!as(c,a)||!as(d,s))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,g=i.width,v=i.height,b=i.isAnimationActive,y=i.id;if(o||!s||!s.length)return null;var w=this.state.isAnimationFinished,x=s.length===1,_=be("recharts-area",l),k=d&&d.allowDataOverflow,E=h&&h.allowDataOverflow,S=k||E,T=ye(y)?this.id:y,A=(r=ae(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=A.r,N=C===void 0?3:C,R=A.strokeWidth,M=R===void 0?2:R,L=qF(a)?a:{},$=L.clipDot,D=$===void 0?!0:$,U=N*2+M;return I.createElement(Te,{className:_},k||E?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(T)},I.createElement("rect",{x:k?c:c-g/2,y:E?u:u-v/2,width:k?g:g*2,height:E?v:v*2})),!D&&I.createElement("clipPath",{id:"clipPath-dots-".concat(T)},I.createElement("rect",{x:c-U/2,y:u-U/2,width:g+U,height:v+U}))):null,x?null:this.renderArea(S,T),(a||x)&&this.renderDots(S,D,T),(!b||w)&&Hr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(O.PureComponent);FO=qi;yr(qi,"displayName","Area");yr(qi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Fo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});yr(qi,"getBaseValue",function(e,t,n,r){var i=e.layout,o=e.baseValue,a=t.props.baseValue,s=a??o;if(H(s)&&typeof s=="number")return s;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return s==="dataMin"?d:s==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});yr(qi,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,o=e.xAxisTicks,a=e.yAxisTicks,s=e.bandSize,l=e.dataKey,u=e.stackedData,c=e.dataStartIndex,d=e.displayedData,h=e.offset,g=t.layout,v=u&&u.length,b=FO.getBaseValue(t,n,r,i),y=g==="horizontal",w=!1,x=d.map(function(k,E){var S;v?S=u[c+E]:(S=xt(k,l),Array.isArray(S)?w=!0:S=[b,S]);var T=S[1]==null||v&&xt(k,l)==null;return y?{x:v1({axis:r,ticks:o,bandSize:s,entry:k,index:E}),y:T?null:i.scale(S[1]),value:S,payload:k}:{x:T?null:r.scale(S[1]),y:v1({axis:i,ticks:a,bandSize:s,entry:k,index:E}),value:S,payload:k}}),_;return v||w?_=x.map(function(k){var E=Array.isArray(k.value)?k.value[0]:null;return y?{x:k.x,y:E!=null&&k.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:k.y}}):_=y?i.scale(b):r.scale(b),di({points:x,baseLine:_,layout:g,isRange:w},h)});yr(qi,"renderDotItem",function(e,t){var n;if(I.isValidElement(e))n=I.cloneElement(e,t);else if(he(e))n=e(t);else{var r=be("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,o=BO(t,poe);n=I.createElement(hp,xo({},o,{key:i,className:r}))}return n});function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function Soe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eoe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HO(r.key),r)}}function koe(e,t,n){return t&&Eoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Toe(e,t,n){return t=nh(t),Aoe(e,qO()?Reflect.construct(t,n||[],nh(e).constructor):t.apply(e,n))}function Aoe(e,t){if(t&&(xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Coe(e)}function Coe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qO=function(){return!!e})()}function nh(e){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nh(e)}function Poe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_y(e,t)}function _y(e,t){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_y(e,t)}function GO(e,t,n){return t=HO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HO(e){var t=Ioe(e,"string");return xs(t)=="symbol"?t:t+""}function Ioe(e,t){if(xs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sy.apply(this,arguments)}function Noe(e){var t=e.xAxisId,n=Wb(),r=Kb(),i=AO(t);return i==null?null:O.createElement(Bs,Sy({},i,{className:be("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return zr(a,!0)}}))}var kp=function(e){function t(){return Soe(this,t),Toe(this,t,arguments)}return Poe(t,e),koe(t,[{key:"render",value:function(){return O.createElement(Noe,this.props)}}])}(O.Component);GO(kp,"displayName","XAxis");GO(kp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function Ooe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Roe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JO(r.key),r)}}function Moe(e,t,n){return t&&Roe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $oe(e,t,n){return t=rh(t),Doe(e,WO()?Reflect.construct(t,n||[],rh(e).constructor):t.apply(e,n))}function Doe(e,t){if(t&&(ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return joe(e)}function joe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WO=function(){return!!e})()}function rh(e){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rh(e)}function Loe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ey(e,t)}function Ey(e,t){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ey(e,t)}function KO(e,t,n){return t=JO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JO(e){var t=Uoe(e,"string");return ws(t)=="symbol"?t:t+""}function Uoe(e,t){if(ws(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ky.apply(this,arguments)}var Foe=function(t){var n=t.yAxisId,r=Wb(),i=Kb(),o=CO(n);return o==null?null:O.createElement(Bs,ky({},o,{className:be("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return zr(s,!0)}}))},Tp=function(e){function t(){return Ooe(this,t),$oe(this,t,arguments)}return Loe(t,e),Moe(t,[{key:"render",value:function(){return O.createElement(Foe,this.props)}}])}(O.Component);KO(Tp,"displayName","YAxis");KO(Tp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qE(e){return qoe(e)||Voe(e)||zoe(e)||Boe()}function Boe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zoe(e,t){if(e){if(typeof e=="string")return Ty(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ty(e,t)}}function Voe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qoe(e){if(Array.isArray(e))return Ty(e)}function Ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ay=function(t,n,r,i,o){var a=Ln(t,Yb),s=Ln(t,_p),l=[].concat(qE(a),qE(s)),u=Ln(t,Ep),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(b,y){if(y.props[c]===r&&_r(y.props,"extendDomain")&&H(y.props[d])){var w=y.props[d];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},h)),u.length){var g="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(b,y){if(y.props[c]===r&&_r(y.props,"extendDomain")&&H(y.props[g])&&H(y.props[v])){var w=y.props[g],x=y.props[v];return[Math.min(b[0],w,x),Math.max(b[1],w,x)]}return b},h)}return o&&o.length&&(h=o.reduce(function(b,y){return H(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},h)),h},YO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,d||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,g=d.length,v=new Array(g);h<g;h++)v[h]=d[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,g,v){var b=n?n+u:u;if(!this._events[b])return!1;var y=this._events[b],w=arguments.length,x,_;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,h),!0;case 5:return y.fn.call(y.context,c,d,h,g),!0;case 6:return y.fn.call(y.context,c,d,h,g,v),!0}for(_=1,x=new Array(w-1);_<w;_++)x[_-1]=arguments[_];y.fn.apply(y.context,x)}else{var k=y.length,E;for(_=0;_<k;_++)switch(y[_].once&&this.removeListener(u,y[_].fn,void 0,!0),w){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,c);break;case 3:y[_].fn.call(y[_].context,c,d);break;case 4:y[_].fn.call(y[_].context,c,d,h);break;default:if(!x)for(E=1,x=new Array(w-1);E<w;E++)x[E-1]=arguments[E];y[_].fn.apply(y[_].context,x)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===c&&(!h||v.once)&&(!d||v.context===d)&&a(this,g);else{for(var b=0,y=[],w=v.length;b<w;b++)(v[b].fn!==c||h&&!v[b].once||d&&v[b].context!==d)&&y.push(v[b]);y.length?this._events[g]=y.length===1?y[0]:y:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(YO);var Goe=YO.exports;const Hoe=Oe(Goe);var Vm=new Hoe,qm="recharts.syncMouseEvents";function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function Woe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Koe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XO(r.key),r)}}function Joe(e,t,n){return t&&Koe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gm(e,t,n){return t=XO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XO(e){var t=Yoe(e,"string");return Xu(t)=="symbol"?t:t+""}function Yoe(e,t){if(Xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xoe=function(){function e(){Woe(this,e),Gm(this,"activeIndex",0),Gm(this,"coordinateList",[]),Gm(this,"layout","horizontal")}return Joe(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Qoe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&H(r)&&H(i))return!0}return!1}function Zoe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function QO(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,a=He(t,n,r,i),s=He(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function eae(e,t,n){var r,i,o,a;if(e==="horizontal")r=t.x,o=r,i=n.top,a=n.top+n.height;else if(e==="vertical")i=t.y,a=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,d=t.angle,h=He(s,l,u,d),g=He(s,l,c,d);r=h.x,i=h.y,o=g.x,a=g.y}else return QO(t);return[{x:r,y:i},{x:o,y:a}]}function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(r){tae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tae(e,t,n){return t=nae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nae(e){var t=rae(e,"string");return Qu(t)=="symbol"?t:t+""}function rae(e,t){if(Qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iae(e){var t,n,r=e.element,i=e.tooltipEventType,o=e.isActive,a=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,c=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,g=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,b=Ba;if(h==="ScatterChart")v=a,b=kee;else if(h==="BarChart")v=Zoe(d,a,l,c),b=Vb;else if(d==="radial"){var y=QO(a),w=y.cx,x=y.cy,_=y.radius,k=y.startAngle,E=y.endAngle;v={cx:w,cy:x,startAngle:k,endAngle:E,innerRadius:_,outerRadius:_},b=HN}else v={points:eae(d,a,l)},b=Ba;var S=td(td(td(td({stroke:"#ccc",pointerEvents:"none"},l),v),ae(g,!1)),{},{payload:s,payloadIndex:u,className:be("recharts-tooltip-cursor",g.className)});return O.isValidElement(g)?O.cloneElement(g,S):O.createElement(b,S)}var oae=["item"],aae=["children","className","width","height","style","compact","title","desc"];function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ca.apply(this,arguments)}function HE(e,t){return uae(e)||lae(e,t)||e2(e,t)||sae()}function sae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function uae(e){if(Array.isArray(e))return e}function WE(e,t){if(e==null)return{};var n=cae(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cae(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function dae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t2(r.key),r)}}function hae(e,t,n){return t&&fae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pae(e,t,n){return t=ih(t),mae(e,ZO()?Reflect.construct(t,n||[],ih(e).constructor):t.apply(e,n))}function mae(e,t){if(t&&(_s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gae(e)}function gae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZO=function(){return!!e})()}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ih(e)}function vae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cy(e,t)}function Cy(e,t){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cy(e,t)}function Ss(e){return xae(e)||bae(e)||e2(e)||yae()}function yae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e2(e,t){if(e){if(typeof e=="string")return Py(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Py(e,t)}}function bae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xae(e){if(Array.isArray(e))return Py(e)}function Py(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(r){ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ce(e,t,n){return t=t2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t2(e){var t=wae(e,"string");return _s(t)=="symbol"?t:t+""}function wae(e,t){if(_s(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ae={xAxis:["bottom","top"],yAxis:["left","right"]},Sae={width:"100%",height:"100%"},n2={x:0,y:0};function nd(e){return e}var Eae=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},kae=function(t,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var a=o.coordinate,s=i.radius;return B(B(B({},i),He(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return B(B(B({},i),He(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return n2},Ap=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Ss(s),Ss(u)):s},[]);return a.length>0?a:t&&t.length&&H(i)&&H(o)?t.slice(i,o+1):[]};function r2(e){return e==="number"?[0,"auto"]:void 0}var Iy=function(t,n,r,i){var o=t.graphicalItems,a=t.tooltipAxis,s=Ap(n,t);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=d===void 0?s:d;h=nf(g,a.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(Ss(l),[FN(u,h)]):l},[])},JE=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},a=Eae(o,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,c=GY(a,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=Iy(t,n,c,d),g=kae(r,s,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:g}}return null},Tae=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,d=t.children,h=t.stackOffset,g=MN(c,o);return r.reduce(function(v,b){var y,w=b.type.defaultProps!==void 0?B(B({},b.type.defaultProps),b.props):b.props,x=w.type,_=w.dataKey,k=w.allowDataOverflow,E=w.allowDuplicatedCategory,S=w.scale,T=w.ticks,A=w.includeHidden,C=w[a];if(v[C])return v;var N=Ap(t.data,{graphicalItems:i.filter(function(G){var oe,pe=a in G.props?G.props[a]:(oe=G.type.defaultProps)===null||oe===void 0?void 0:oe[a];return pe===C}),dataStartIndex:l,dataEndIndex:u}),R=N.length,M,L,$;Qoe(w.domain,k,x)&&(M=Gv(w.domain,null,k),g&&(x==="number"||S!=="auto")&&($=Ll(N,_,"category")));var D=r2(x);if(!M||M.length===0){var U,V=(U=w.domain)!==null&&U!==void 0?U:D;if(_){if(M=Ll(N,_,x),x==="category"&&g){var P=MF(M);E&&P?(L=M,M=Gf(0,R)):E||(M=w1(V,M,b).reduce(function(G,oe){return G.indexOf(oe)>=0?G:[].concat(Ss(G),[oe])},[]))}else if(x==="category")E?M=M.filter(function(G){return G!==""&&!ye(G)}):M=w1(V,M,b).reduce(function(G,oe){return G.indexOf(oe)>=0||oe===""||ye(oe)?G:[].concat(Ss(G),[oe])},[]);else if(x==="number"){var j=YY(N,i.filter(function(G){var oe,pe,xe=a in G.props?G.props[a]:(oe=G.type.defaultProps)===null||oe===void 0?void 0:oe[a],We="hide"in G.props?G.props.hide:(pe=G.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return xe===C&&(A||!We)}),_,o,c);j&&(M=j)}g&&(x==="number"||S!=="auto")&&($=Ll(N,_,"category"))}else g?M=Gf(0,R):s&&s[C]&&s[C].hasStack&&x==="number"?M=h==="expand"?[0,1]:UN(s[C].stackGroups,l,u):M=RN(N,i.filter(function(G){var oe=a in G.props?G.props[a]:G.type.defaultProps[a],pe="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return oe===C&&(A||!pe)}),x,c,!0);if(x==="number")M=Ay(d,M,C,o,T),V&&(M=Gv(V,M,k));else if(x==="category"&&V){var z=V,J=M.every(function(G){return z.indexOf(G)>=0});J&&(M=z)}}return B(B({},v),{},ce({},C,B(B({},w),{},{axisType:o,domain:M,categoricalDomain:$,duplicateDomain:L,originalDomain:(y=w.domain)!==null&&y!==void 0?y:D,isCategorical:g,layout:c})))},{})},Aae=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,d=t.children,h=Ap(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,v=MN(c,o),b=-1;return r.reduce(function(y,w){var x=w.type.defaultProps!==void 0?B(B({},w.type.defaultProps),w.props):w.props,_=x[a],k=r2("number");if(!y[_]){b++;var E;return v?E=Gf(0,g):s&&s[_]&&s[_].hasStack?(E=UN(s[_].stackGroups,l,u),E=Ay(d,E,_,o)):(E=Gv(k,RN(h,r.filter(function(S){var T,A,C=a in S.props?S.props[a]:(T=S.type.defaultProps)===null||T===void 0?void 0:T[a],N="hide"in S.props?S.props.hide:(A=S.type.defaultProps)===null||A===void 0?void 0:A.hide;return C===_&&!N}),"number",c),i.defaultProps.allowDataOverflow),E=Ay(d,E,_,o)),B(B({},y),{},ce({},_,B(B({axisType:o},i.defaultProps),{},{hide:!0,orientation:kn(_ae,"".concat(o,".").concat(b%2),null),domain:E,originalDomain:k,isCategorical:v,layout:c})))}return y},{})},Cae=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.children,d="".concat(i,"Id"),h=Ln(c,o),g={};return h&&h.length?g=Tae(t,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=Aae(t,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},Pae=function(t){var n=bi(t),r=zr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:gb(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Of(n,r)}},YE=function(t){var n=t.children,r=t.defaultShowTooltip,i=bn(n,hs),o=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Iae=function(t){return!t||!t.length?!1:t.some(function(n){var r=qr(n&&n.type);return r&&r.indexOf("Bar")>=0})},XE=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Nae=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,a=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},g=bn(d,hs),v=bn(d,So),b=Object.keys(l).reduce(function(E,S){var T=l[S],A=T.orientation;return!T.mirror&&!T.hide?B(B({},E),{},ce({},A,E[A]+T.width)):E},{left:h.left||0,right:h.right||0}),y=Object.keys(a).reduce(function(E,S){var T=a[S],A=T.orientation;return!T.mirror&&!T.hide?B(B({},E),{},ce({},A,kn(E,"".concat(A))+T.height)):E},{top:h.top||0,bottom:h.bottom||0}),w=B(B({},y),b),x=w.bottom;g&&(w.bottom+=g.props.height||hs.defaultProps.height),v&&n&&(w=KY(w,i,r,n));var _=u-w.left-w.right,k=c-w.top-w.bottom;return B(B({brushBottom:x},w),{},{width:Math.max(_,0),height:Math.max(k,0)})},Oae=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},i2=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,a=t.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=t.axisComponents,u=t.legendContent,c=t.formatAxisMap,d=t.defaultProps,h=function(w,x){var _=x.graphicalItems,k=x.stackGroups,E=x.offset,S=x.updateId,T=x.dataStartIndex,A=x.dataEndIndex,C=w.barSize,N=w.layout,R=w.barGap,M=w.barCategoryGap,L=w.maxBarSize,$=XE(N),D=$.numericAxisName,U=$.cateAxisName,V=Iae(_),P=[];return _.forEach(function(j,z){var J=Ap(w.data,{graphicalItems:[j],dataStartIndex:T,dataEndIndex:A}),G=j.type.defaultProps!==void 0?B(B({},j.type.defaultProps),j.props):j.props,oe=G.dataKey,pe=G.maxBarSize,xe=G["".concat(D,"Id")],We=G["".concat(U,"Id")],Ot={},Ee=l.reduce(function(De,Et){var Wt=x["".concat(Et.axisType,"Map")],Hn=G["".concat(Et.axisType,"Id")];Wt&&Wt[Hn]||Et.axisType==="zAxis"||$o();var Ut=Wt[Hn];return B(B({},De),{},ce(ce({},Et.axisType,Ut),"".concat(Et.axisType,"Ticks"),zr(Ut)))},Ot),X=Ee[U],ue=Ee["".concat(U,"Ticks")],ve=k&&k[xe]&&k[xe].hasStack&&oX(j,k[xe].stackGroups),q=qr(j.type).indexOf("Bar")>=0,Re=Of(X,ue),we=[],Be=V&&HY({barSize:C,stackGroups:k,totalSize:Oae(Ee,U)});if(q){var nt,Ke,rn=ye(pe)?L:pe,hn=(nt=(Ke=Of(X,ue,!0))!==null&&Ke!==void 0?Ke:rn)!==null&&nt!==void 0?nt:0;we=WY({barGap:R,barCategoryGap:M,bandSize:hn!==Re?hn:Re,sizeList:Be[We],maxBarSize:rn}),hn!==Re&&(we=we.map(function(De){return B(B({},De),{},{position:B(B({},De.position),{},{offset:De.position.offset-hn/2})})}))}var fr=j&&j.type&&j.type.getComposedData;fr&&P.push({props:B(B({},fr(B(B({},Ee),{},{displayedData:J,props:w,dataKey:oe,item:j,bandSize:Re,barPosition:we,offset:E,stackedData:ve,layout:N,dataStartIndex:T,dataEndIndex:A}))),{},ce(ce(ce({key:j.key||"item-".concat(z)},D,Ee[D]),U,Ee[U]),"animationId",S)),childIndex:WF(j,w.children),item:j})}),P},g=function(w,x){var _=w.props,k=w.dataStartIndex,E=w.dataEndIndex,S=w.updateId;if(!p_({props:_}))return null;var T=_.children,A=_.layout,C=_.stackOffset,N=_.data,R=_.reverseStackOrder,M=XE(A),L=M.numericAxisName,$=M.cateAxisName,D=Ln(T,r),U=rX(N,D,"".concat(L,"Id"),"".concat($,"Id"),C,R),V=l.reduce(function(G,oe){var pe="".concat(oe.axisType,"Map");return B(B({},G),{},ce({},pe,Cae(_,B(B({},oe),{},{graphicalItems:D,stackGroups:oe.axisType===L&&U,dataStartIndex:k,dataEndIndex:E}))))},{}),P=Nae(B(B({},V),{},{props:_,graphicalItems:D}),x==null?void 0:x.legendBBox);Object.keys(V).forEach(function(G){V[G]=c(_,V[G],P,G.replace("Map",""),n)});var j=V["".concat($,"Map")],z=Pae(j),J=h(_,B(B({},V),{},{dataStartIndex:k,dataEndIndex:E,updateId:S,graphicalItems:D,stackGroups:U,offset:P}));return B(B({formattedGraphicalItems:J,graphicalItems:D,offset:P,stackGroups:U},z),V)},v=function(y){function w(x){var _,k,E;return dae(this,w),E=pae(this,w,[x]),ce(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ce(E,"accessibilityManager",new Xoe),ce(E,"handleLegendBBoxUpdate",function(S){if(S){var T=E.state,A=T.dataStartIndex,C=T.dataEndIndex,N=T.updateId;E.setState(B({legendBBox:S},g({props:E.props,dataStartIndex:A,dataEndIndex:C,updateId:N},B(B({},E.state),{},{legendBBox:S}))))}}),ce(E,"handleReceiveSyncEvent",function(S,T,A){if(E.props.syncId===S){if(A===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(T)}}),ce(E,"handleBrushChange",function(S){var T=S.startIndex,A=S.endIndex;if(T!==E.state.dataStartIndex||A!==E.state.dataEndIndex){var C=E.state.updateId;E.setState(function(){return B({dataStartIndex:T,dataEndIndex:A},g({props:E.props,dataStartIndex:T,dataEndIndex:A,updateId:C},E.state))}),E.triggerSyncEvent({dataStartIndex:T,dataEndIndex:A})}}),ce(E,"handleMouseEnter",function(S){var T=E.getMouseInfo(S);if(T){var A=B(B({},T),{},{isTooltipActive:!0});E.setState(A),E.triggerSyncEvent(A);var C=E.props.onMouseEnter;he(C)&&C(A,S)}}),ce(E,"triggeredAfterMouseMove",function(S){var T=E.getMouseInfo(S),A=T?B(B({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(A),E.triggerSyncEvent(A);var C=E.props.onMouseMove;he(C)&&C(A,S)}),ce(E,"handleItemMouseEnter",function(S){E.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),ce(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ce(E,"handleMouseMove",function(S){S.persist(),E.throttleTriggeredAfterMouseMove(S)}),ce(E,"handleMouseLeave",function(S){E.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var A=E.props.onMouseLeave;he(A)&&A(T,S)}),ce(E,"handleOuterEvent",function(S){var T=HF(S),A=kn(E.props,"".concat(T));if(T&&he(A)){var C,N;/.*touch.*/i.test(T)?N=E.getMouseInfo(S.changedTouches[0]):N=E.getMouseInfo(S),A((C=N)!==null&&C!==void 0?C:{},S)}}),ce(E,"handleClick",function(S){var T=E.getMouseInfo(S);if(T){var A=B(B({},T),{},{isTooltipActive:!0});E.setState(A),E.triggerSyncEvent(A);var C=E.props.onClick;he(C)&&C(A,S)}}),ce(E,"handleMouseDown",function(S){var T=E.props.onMouseDown;if(he(T)){var A=E.getMouseInfo(S);T(A,S)}}),ce(E,"handleMouseUp",function(S){var T=E.props.onMouseUp;if(he(T)){var A=E.getMouseInfo(S);T(A,S)}}),ce(E,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),ce(E,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseDown(S.changedTouches[0])}),ce(E,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&E.handleMouseUp(S.changedTouches[0])}),ce(E,"handleDoubleClick",function(S){var T=E.props.onDoubleClick;if(he(T)){var A=E.getMouseInfo(S);T(A,S)}}),ce(E,"handleContextMenu",function(S){var T=E.props.onContextMenu;if(he(T)){var A=E.getMouseInfo(S);T(A,S)}}),ce(E,"triggerSyncEvent",function(S){E.props.syncId!==void 0&&Vm.emit(qm,E.props.syncId,S,E.eventEmitterSymbol)}),ce(E,"applySyncEvent",function(S){var T=E.props,A=T.layout,C=T.syncMethod,N=E.state.updateId,R=S.dataStartIndex,M=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)E.setState(B({dataStartIndex:R,dataEndIndex:M},g({props:E.props,dataStartIndex:R,dataEndIndex:M,updateId:N},E.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,$=S.chartY,D=S.activeTooltipIndex,U=E.state,V=U.offset,P=U.tooltipTicks;if(!V)return;if(typeof C=="function")D=C(P,S);else if(C==="value"){D=-1;for(var j=0;j<P.length;j++)if(P[j].value===S.activeLabel){D=j;break}}var z=B(B({},V),{},{x:V.left,y:V.top}),J=Math.min(L,z.x+z.width),G=Math.min($,z.y+z.height),oe=P[D]&&P[D].value,pe=Iy(E.state,E.props.data,D),xe=P[D]?{x:A==="horizontal"?P[D].coordinate:J,y:A==="horizontal"?G:P[D].coordinate}:n2;E.setState(B(B({},S),{},{activeLabel:oe,activeCoordinate:xe,activePayload:pe,activeTooltipIndex:D}))}else E.setState(S)}),ce(E,"renderCursor",function(S){var T,A=E.state,C=A.isTooltipActive,N=A.activeCoordinate,R=A.activePayload,M=A.offset,L=A.activeTooltipIndex,$=A.tooltipAxisBandSize,D=E.getTooltipEventType(),U=(T=S.props.active)!==null&&T!==void 0?T:C,V=E.props.layout,P=S.key||"_recharts-cursor";return I.createElement(iae,{key:P,activeCoordinate:N,activePayload:R,activeTooltipIndex:L,chartName:n,element:S,isActive:U,layout:V,offset:M,tooltipAxisBandSize:$,tooltipEventType:D})}),ce(E,"renderPolarAxis",function(S,T,A){var C=kn(S,"type.axisType"),N=kn(E.state,"".concat(C,"Map")),R=S.type.defaultProps,M=R!==void 0?B(B({},R),S.props):S.props,L=N&&N[M["".concat(C,"Id")]];return O.cloneElement(S,B(B({},L),{},{className:be(C,L.className),key:S.key||"".concat(T,"-").concat(A),ticks:zr(L,!0)}))}),ce(E,"renderPolarGrid",function(S){var T=S.props,A=T.radialLines,C=T.polarAngles,N=T.polarRadius,R=E.state,M=R.radiusAxisMap,L=R.angleAxisMap,$=bi(M),D=bi(L),U=D.cx,V=D.cy,P=D.innerRadius,j=D.outerRadius;return O.cloneElement(S,{polarAngles:Array.isArray(C)?C:zr(D,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(N)?N:zr($,!0).map(function(z){return z.coordinate}),cx:U,cy:V,innerRadius:P,outerRadius:j,key:S.key||"polar-grid",radialLines:A})}),ce(E,"renderLegend",function(){var S=E.state.formattedGraphicalItems,T=E.props,A=T.children,C=T.width,N=T.height,R=E.props.margin||{},M=C-(R.left||0)-(R.right||0),L=NN({children:A,formattedGraphicalItems:S,legendWidth:M,legendContent:u});if(!L)return null;var $=L.item,D=WE(L,oae);return O.cloneElement($,B(B({},D),{},{chartWidth:C,chartHeight:N,margin:R,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ce(E,"renderTooltip",function(){var S,T=E.props,A=T.children,C=T.accessibilityLayer,N=bn(A,er);if(!N)return null;var R=E.state,M=R.isTooltipActive,L=R.activeCoordinate,$=R.activePayload,D=R.activeLabel,U=R.offset,V=(S=N.props.active)!==null&&S!==void 0?S:M;return O.cloneElement(N,{viewBox:B(B({},U),{},{x:U.left,y:U.top}),active:V,label:D,payload:V?$:[],coordinate:L,accessibilityLayer:C})}),ce(E,"renderBrush",function(S){var T=E.props,A=T.margin,C=T.data,N=E.state,R=N.offset,M=N.dataStartIndex,L=N.dataEndIndex,$=N.updateId;return O.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Xc(E.handleBrushChange,S.props.onChange),data:C,x:H(S.props.x)?S.props.x:R.left,y:H(S.props.y)?S.props.y:R.top+R.height+R.brushBottom-(A.bottom||0),width:H(S.props.width)?S.props.width:R.width,startIndex:M,endIndex:L,updateId:"brush-".concat($)})}),ce(E,"renderReferenceElement",function(S,T,A){if(!S)return null;var C=E,N=C.clipPathId,R=E.state,M=R.xAxisMap,L=R.yAxisMap,$=R.offset,D=S.type.defaultProps||{},U=S.props,V=U.xAxisId,P=V===void 0?D.xAxisId:V,j=U.yAxisId,z=j===void 0?D.yAxisId:j;return O.cloneElement(S,{key:S.key||"".concat(T,"-").concat(A),xAxis:M[P],yAxis:L[z],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:N})}),ce(E,"renderActivePoints",function(S){var T=S.item,A=S.activePoint,C=S.basePoint,N=S.childIndex,R=S.isRange,M=[],L=T.props.key,$=T.item.type.defaultProps!==void 0?B(B({},T.item.type.defaultProps),T.item.props):T.item.props,D=$.activeDot,U=$.dataKey,V=B(B({index:N,dataKey:U,cx:A.x,cy:A.y,r:4,fill:zb(T.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},ae(D,!1)),rf(D));return M.push(w.renderActiveDot(D,V,"".concat(L,"-activePoint-").concat(N))),C?M.push(w.renderActiveDot(D,B(B({},V),{},{cx:C.x,cy:C.y}),"".concat(L,"-basePoint-").concat(N))):R&&M.push(null),M}),ce(E,"renderGraphicChild",function(S,T,A){var C=E.filterFormatItem(S,T,A);if(!C)return null;var N=E.getTooltipEventType(),R=E.state,M=R.isTooltipActive,L=R.tooltipAxis,$=R.activeTooltipIndex,D=R.activeLabel,U=E.props.children,V=bn(U,er),P=C.props,j=P.points,z=P.isRange,J=P.baseLine,G=C.item.type.defaultProps!==void 0?B(B({},C.item.type.defaultProps),C.item.props):C.item.props,oe=G.activeDot,pe=G.hide,xe=G.activeBar,We=G.activeShape,Ot=!!(!pe&&M&&V&&(oe||xe||We)),Ee={};N!=="axis"&&V&&V.props.trigger==="click"?Ee={onClick:Xc(E.handleItemMouseEnter,S.props.onClick)}:N!=="axis"&&(Ee={onMouseLeave:Xc(E.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Xc(E.handleItemMouseEnter,S.props.onMouseEnter)});var X=O.cloneElement(S,B(B({},C.props),Ee));function ue(Et){return typeof L.dataKey=="function"?L.dataKey(Et.payload):null}if(Ot)if($>=0){var ve,q;if(L.dataKey&&!L.allowDuplicatedCategory){var Re=typeof L.dataKey=="function"?ue:"payload.".concat(L.dataKey.toString());ve=nf(j,Re,D),q=z&&J&&nf(J,Re,D)}else ve=j==null?void 0:j[$],q=z&&J&&J[$];if(We||xe){var we=S.props.activeIndex!==void 0?S.props.activeIndex:$;return[O.cloneElement(S,B(B(B({},C.props),Ee),{},{activeIndex:we})),null,null]}if(!ye(ve))return[X].concat(Ss(E.renderActivePoints({item:C,activePoint:ve,basePoint:q,childIndex:$,isRange:z})))}else{var Be,nt=(Be=E.getItemByXY(E.state.activeCoordinate))!==null&&Be!==void 0?Be:{graphicalItem:X},Ke=nt.graphicalItem,rn=Ke.item,hn=rn===void 0?S:rn,fr=Ke.childIndex,De=B(B(B({},C.props),Ee),{},{activeIndex:fr});return[O.cloneElement(hn,De),null,null]}return z?[X,null,null]:[X,null]}),ce(E,"renderCustomized",function(S,T,A){return O.cloneElement(S,B(B({key:"recharts-customized-".concat(A)},E.props),E.state))}),ce(E,"renderMap",{CartesianGrid:{handler:nd,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:nd},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:nd},YAxis:{handler:nd},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:Ms("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=II(E.triggeredAfterMouseMove,(k=x.throttleDelay)!==null&&k!==void 0?k:1e3/60),E.state={},E}return vae(w,y),hae(w,[{key:"componentDidMount",value:function(){var _,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,k=_.children,E=_.data,S=_.height,T=_.layout,A=bn(k,er);if(A){var C=A.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,R=Iy(this.state,E,C,N),M=this.state.tooltipTicks[C].coordinate,L=(this.state.offset.top+S)/2,$=T==="horizontal",D=$?{x:M,y:L}:{y:M,x:L},U=this.state.formattedGraphicalItems.find(function(P){var j=P.item;return j.type.name==="Scatter"});U&&(D=B(B({},D),U.props.points[C].tooltipPosition),R=U.props.points[C].tooltipPayload);var V={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:N,activePayload:R,activeCoordinate:D};this.setState(V),this.renderCursor(A),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,S;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(_){av([bn(_.children,er)],[bn(this.props.children,er)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=bn(this.props.children,er);if(_&&typeof _.props.shared=="boolean"){var k=_.props.shared?"axis":"item";return s.indexOf(k)>=0?k:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var k=this.container,E=k.getBoundingClientRect(),S=bW(E),T={chartX:Math.round(_.pageX-S.left),chartY:Math.round(_.pageY-S.top)},A=E.width/k.offsetWidth||1,C=this.inRange(T.chartX,T.chartY,A);if(!C)return null;var N=this.state,R=N.xAxisMap,M=N.yAxisMap,L=this.getTooltipEventType(),$=JE(this.state,this.props.data,this.props.layout,C);if(L!=="axis"&&R&&M){var D=bi(R).scale,U=bi(M).scale,V=D&&D.invert?D.invert(T.chartX):null,P=U&&U.invert?U.invert(T.chartY):null;return B(B({},T),{},{xValue:V,yValue:P},$)}return $?B(B({},T),$):null}},{key:"inRange",value:function(_,k){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,T=_/E,A=k/E;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,N=T>=C.left&&T<=C.left+C.width&&A>=C.top&&A<=C.top+C.height;return N?{x:T,y:A}:null}var R=this.state,M=R.angleAxisMap,L=R.radiusAxisMap;if(M&&L){var $=bi(M);return E1({x:T,y:A},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,k=this.getTooltipEventType(),E=bn(_,er),S={};E&&k==="axis"&&(E.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=rf(this.props,this.handleOuterEvent);return B(B({},T),S)}},{key:"addListener",value:function(){Vm.on(qm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Vm.removeListener(qm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,k,E){for(var S=this.state.formattedGraphicalItems,T=0,A=S.length;T<A;T++){var C=S[T];if(C.item===_||C.props.key===_.key||k===qr(C.item.type)&&E===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,k=this.state.offset,E=k.left,S=k.top,T=k.height,A=k.width;return I.createElement("defs",null,I.createElement("clipPath",{id:_},I.createElement("rect",{x:E,y:S,height:T,width:A})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(k,E){var S=HE(E,2),T=S[0],A=S[1];return B(B({},k),{},ce({},T,A.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(k,E){var S=HE(E,2),T=S[0],A=S[1];return B(B({},k),{},ce({},T,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(_){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(_){var k=this.state,E=k.formattedGraphicalItems,S=k.activeItem;if(E&&E.length)for(var T=0,A=E.length;T<A;T++){var C=E[T],N=C.props,R=C.item,M=R.type.defaultProps!==void 0?B(B({},R.type.defaultProps),R.props):R.props,L=qr(R.type);if(L==="Bar"){var $=(N.data||[]).find(function(P){return oee(_,P)});if($)return{graphicalItem:C,payload:$}}else if(L==="RadialBar"){var D=(N.data||[]).find(function(P){return E1(_,P)});if(D)return{graphicalItem:C,payload:D}}else if(yp(C,S)||bp(C,S)||Hu(C,S)){var U=Wte({graphicalItem:C,activeTooltipItem:S,itemData:M.data}),V=M.activeIndex===void 0?U:M.activeIndex;return{graphicalItem:B(B({},C),{},{childIndex:V}),payload:Hu(C,S)?M.data[U]:C.props.data[U]}}}return null}},{key:"render",value:function(){var _=this;if(!p_(this))return null;var k=this.props,E=k.children,S=k.className,T=k.width,A=k.height,C=k.style,N=k.compact,R=k.title,M=k.desc,L=WE(k,aae),$=ae(L,!1);if(N)return I.createElement(PE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(lv,Ca({},$,{width:T,height:A,title:R,desc:M}),this.renderClipPath(),g_(E,this.renderMap)));if(this.props.accessibilityLayer){var D,U;$.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,$.role=(U=this.props.role)!==null&&U!==void 0?U:"application",$.onKeyDown=function(P){_.accessibilityManager.keyboardEvent(P)},$.onFocus=function(){_.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return I.createElement(PE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",Ca({className:be("recharts-wrapper",S),style:B({position:"relative",cursor:"default",width:T,height:A},C)},V,{ref:function(j){_.container=j}}),I.createElement(lv,Ca({},$,{width:T,height:A,title:R,desc:M,style:Sae}),this.renderClipPath(),g_(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);ce(v,"displayName",n),ce(v,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ce(v,"getDerivedStateFromProps",function(y,w){var x=y.dataKey,_=y.data,k=y.children,E=y.width,S=y.height,T=y.layout,A=y.stackOffset,C=y.margin,N=w.dataStartIndex,R=w.dataEndIndex;if(w.updateId===void 0){var M=YE(y);return B(B(B({},M),{},{updateId:0},g(B(B({props:y},M),{},{updateId:0}),w)),{},{prevDataKey:x,prevData:_,prevWidth:E,prevHeight:S,prevLayout:T,prevStackOffset:A,prevMargin:C,prevChildren:k})}if(x!==w.prevDataKey||_!==w.prevData||E!==w.prevWidth||S!==w.prevHeight||T!==w.prevLayout||A!==w.prevStackOffset||!La(C,w.prevMargin)){var L=YE(y),$={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},D=B(B({},JE(w,_,T)),{},{updateId:w.updateId+1}),U=B(B(B({},L),$),D);return B(B(B({},U),g(B({props:y},U),w)),{},{prevDataKey:x,prevData:_,prevWidth:E,prevHeight:S,prevLayout:T,prevStackOffset:A,prevMargin:C,prevChildren:k})}if(!av(k,w.prevChildren)){var V,P,j,z,J=bn(k,hs),G=J&&(V=(P=J.props)===null||P===void 0?void 0:P.startIndex)!==null&&V!==void 0?V:N,oe=J&&(j=(z=J.props)===null||z===void 0?void 0:z.endIndex)!==null&&j!==void 0?j:R,pe=G!==N||oe!==R,xe=!ye(_),We=xe&&!pe?w.updateId:w.updateId+1;return B(B({updateId:We},g(B(B({props:y},w),{},{updateId:We,dataStartIndex:G,dataEndIndex:oe}),w)),{},{prevChildren:k,dataStartIndex:G,dataEndIndex:oe})}return null}),ce(v,"renderActiveDot",function(y,w,x){var _;return O.isValidElement(y)?_=O.cloneElement(y,w):he(y)?_=y(w):_=I.createElement(hp,w),I.createElement(Te,{className:"recharts-active-dot",key:x},_)});var b=O.forwardRef(function(w,x){return I.createElement(v,Ca({},w,{ref:x}))});return b.displayName=v.displayName,b},Rae=i2({chartName:"PieChart",GraphicalChild:ai,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:vp},{axisType:"radiusAxis",AxisComp:mp}],formatAxisMap:mX,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Mae=i2({chartName:"AreaChart",GraphicalChild:qi,axisComponents:[{axisType:"xAxis",AxisComp:kp},{axisType:"yAxis",AxisComp:Tp}],formatAxisMap:kre}),Cp={exports:{}},o2={};function zn(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var $ae=zn;zn.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};zn.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};zn.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};zn.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};zn.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};zn.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};zn.prototype.start=zn.prototype.try;zn.prototype.errors=function(){return this._errors};zn.prototype.attempts=function(){return this._attempts};zn.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=n&&(t=i,n=a)}return t};(function(e){var t=$ae;e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],a=0;a<r.retries;a++)o.push(this.createTimeout(a,r));return n&&n.forever&&!o.length&&o.push(this.createTimeout(a,r)),o.sort(function(s,l){return s-l}),o},e.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,o=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return o=Math.min(o,r.maxTimeout),o},e.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var o in n)typeof n[o]=="function"&&i.push(o)}for(var a=0;a<i.length;a++){var s=i[a],l=n[s];n[s]=(function(c){var d=e.operation(r),h=Array.prototype.slice.call(arguments,1),g=h.pop();h.push(function(v){d.retry(v)||(v&&(arguments[0]=d.mainError()),g.apply(this,arguments))}),d.attempt(function(){c.apply(n,h)})}).bind(n,l),n[s].options=r}}})(o2);var Dae=o2;const jae=Dae,Lae=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class a2 extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const Uae=(e,t,n)=>{const r=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=r,e},Fae=e=>Lae.includes(e),s2=(e,t)=>new Promise((n,r)=>{t={onFailedAttempt:()=>{},retries:10,...t};const i=jae.operation(t);i.attempt(async o=>{try{n(await e(o))}catch(a){if(!(a instanceof Error)){r(new TypeError(`Non-error was thrown: "${a}". You should only throw errors.`));return}if(a instanceof a2)i.stop(),r(a.originalError);else if(a instanceof TypeError&&!Fae(a.message))i.stop(),r(a);else{Uae(a,o,t);try{await t.onFailedAttempt(a)}catch(s){r(s);return}i.retry(a)||r(i.mainError())}}})});Cp.exports=s2;Cp.exports.default=s2;var Bae=Cp.exports.AbortError=a2,zae=Cp.exports;const Vae=Oe(zae);var qae={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Gae,Hae;function Wae(){return{geminiUrl:Gae,vertexUrl:Hae}}function Kae(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const a=Wae();return t?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class si{}function Q(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(e,t,n){for(let o=0;o<t.length-1;o++){const a=t[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[s])){const l=e[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,t.slice(o+1),n[u])}else for(const u of l)p(u,t.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in e||(e[s]=[{}]);const l=e[s];p(l[0],t.slice(o+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function f(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const a=e[o];return Array.isArray(a)?a.map(s=>f(s,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Jae(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}Ny(e,i,o,0,a)}}function Ny(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=e;if(a in s&&Array.isArray(s[a]))for(const l of s[a])Ny(l,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const a=e,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);p(a,d,c)}for(const u of s)delete a[u]}}else{const a=e;o in a&&Ny(a[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zb(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yae(e){const t={},n=f(e,["operationName"]);n!=null&&p(t,["operationName"],n);const r=f(e,["resourceName"]);return r!=null&&p(t,["_url","resourceName"],r),t}function Xae(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response","generateVideoResponse"]);return a!=null&&p(t,["response"],Zae(a)),t}function Qae(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response"]);return a!=null&&p(t,["response"],ese(a)),t}function Zae(e){const t={},n=f(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>tse(a))),p(t,["generatedVideos"],o)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&p(t,["raiMediaFilteredCount"],r);const i=f(e,["raiMediaFilteredReasons"]);return i!=null&&p(t,["raiMediaFilteredReasons"],i),t}function ese(e){const t={},n=f(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>nse(a))),p(t,["generatedVideos"],o)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&p(t,["raiMediaFilteredCount"],r);const i=f(e,["raiMediaFilteredReasons"]);return i!=null&&p(t,["raiMediaFilteredReasons"],i),t}function tse(e){const t={},n=f(e,["video"]);return n!=null&&p(t,["video"],lse(n)),t}function nse(e){const t={},n=f(e,["_self"]);return n!=null&&p(t,["video"],use(n)),t}function rse(e){const t={},n=f(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function ise(e){const t={},n=f(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function ose(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response"]);return a!=null&&p(t,["response"],ase(a)),t}function ase(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["parent"]);r!=null&&p(t,["parent"],r);const i=f(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function l2(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response"]);return a!=null&&p(t,["response"],sse(a)),t}function sse(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["parent"]);r!=null&&p(t,["parent"],r);const i=f(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function lse(e){const t={},n=f(e,["uri"]);n!=null&&p(t,["uri"],n);const r=f(e,["encodedVideo"]);r!=null&&p(t,["videoBytes"],Zb(r));const i=f(e,["encoding"]);return i!=null&&p(t,["mimeType"],i),t}function use(e){const t={},n=f(e,["gcsUri"]);n!=null&&p(t,["uri"],n);const r=f(e,["bytesBase64Encoded"]);r!=null&&p(t,["videoBytes"],Zb(r));const i=f(e,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var QE;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(QE||(QE={}));var ZE;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(ZE||(ZE={}));var ek;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(ek||(ek={}));var Ei;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ei||(Ei={}));var tk;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(tk||(tk={}));var nk;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(nk||(nk={}));var rk;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(rk||(rk={}));var ik;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ik||(ik={}));var ok;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(ok||(ok={}));var ak;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ak||(ak={}));var sk;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(sk||(sk={}));var lk;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(lk||(lk={}));var uk;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(uk||(uk={}));var ck;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(ck||(ck={}));var dk;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(dk||(dk={}));var fk;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(fk||(fk={}));var hk;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(hk||(hk={}));var pk;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(pk||(pk={}));var mk;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(mk||(mk={}));var gk;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(gk||(gk={}));var vk;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(vk||(vk={}));var oh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(oh||(oh={}));var yk;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(yk||(yk={}));var bk;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(bk||(bk={}));var xk;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(xk||(xk={}));var Oy;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Oy||(Oy={}));var wk;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(wk||(wk={}));var _k;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(_k||(_k={}));var Ry;(function(e){e.COLLECTION="COLLECTION"})(Ry||(Ry={}));var Sk;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Sk||(Sk={}));var Ek;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ek||(Ek={}));var ah;(function(e){e.PREDICT="PREDICT",e.EMBED_CONTENT="EMBED_CONTENT"})(ah||(ah={}));var kk;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(kk||(kk={}));var Tk;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Tk||(Tk={}));var Ak;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Ak||(Ak={}));var Ck;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ck||(Ck={}));var Pk;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Pk||(Pk={}));var Ik;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ik||(Ik={}));var Nk;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Nk||(Nk={}));var Ok;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Ok||(Ok={}));var Rk;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Rk||(Rk={}));var Mk;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Mk||(Mk={}));var $k;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})($k||($k={}));var Dk;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(Dk||(Dk={}));var jk;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(jk||(jk={}));var Lk;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Lk||(Lk={}));var Uk;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(Uk||(Uk={}));var Fk;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Fk||(Fk={}));var Bk;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Bk||(Bk={}));var zk;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(zk||(zk={}));var Vk;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(Vk||(Vk={}));var qk;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(qk||(qk={}));var Gk;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Gk||(Gk={}));var Hk;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Hk||(Hk={}));var Wk;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Wk||(Wk={}));var Kk;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Kk||(Kk={}));var Jk;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Jk||(Jk={}));var Pa;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Pa||(Pa={}));class My{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class ml{get text(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&(g!==null||g!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,r,i,o,a,s,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,r,i,o,a,s,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class Yk{}class Xk{}class cse{}class dse{}class fse{}class hse{}class Qk{}class Zk{}class eT{}class pse{}class sh{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new sh;let i;const o=t;return n?i=Qae(o):i=Xae(o),Object.assign(r,i),r}}class tT{}class nT{}class rT{}class iT{}class mse{}class gse{}class vse{}class ex{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new ex,o=ose(t);return Object.assign(r,o),r}}class yse{}class bse{}class xse{}class wse{}class oT{}class _se{get text(){var t,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const a of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Sse{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class tx{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new tx,o=l2(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pe(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function u2(e,t){const n=Pe(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function c2(e){return Array.isArray(e)?e.map(t=>lh(t)):[lh(e)]}function lh(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function d2(e){const t=lh(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function f2(e){const t=lh(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function aT(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function h2(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>aT(t)):[aT(e)]}function $y(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function sT(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function lT(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Ct(e){if(e==null)throw new Error("ContentUnion is required");return $y(e)?e:{role:"user",parts:h2(e)}}function nx(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Ct(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Ct(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ct(n)):[Ct(t)]}function Sn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(sT(e)||lT(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ct(e)]}const t=[],n=[],r=$y(e[0]);for(const i of e){const o=$y(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(sT(i)||lT(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:h2(n)}),t}function Ese(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Ei).includes(n[0].toUpperCase())?n[0].toUpperCase():Ei.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Ei).includes(r.toUpperCase())?r.toUpperCase():Ei.TYPE_UNSPECIFIED})}}function za(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&Ese(e.type,t);for(const[a,s]of Object.entries(e))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(Ei).includes(s.toUpperCase())?s.toUpperCase():Ei.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=za(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){t.nullable=!0;continue}l.push(za(u))}t[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=za(c);t[a]=l}else{if(a==="additionalProperties")continue;t[a]=s}return t}function rx(e){return za(e)}function ix(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function ox(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function zs(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=za(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=za(t.response));return e}function Vs(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function kse(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function li(e,t){if(typeof t!="string")throw new Error("name must be a string");return kse(e,t,"cachedContents")}function p2(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Gi(e){return Zb(e)}function Tse(e){return e!=null&&typeof e=="object"&&"name"in e}function Ase(e){return e!=null&&typeof e=="object"&&"video"in e}function Cse(e){return e!=null&&typeof e=="object"&&"uri"in e}function m2(e){var t;let n;if(Tse(e)&&(n=e.name),!(Cse(e)&&(n=e.uri,n===void 0))&&!(Ase(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function g2(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function v2(e){for(const t of["models","tunedModels","publisherModels"])if(Pse(e,t))return e[t];return[]}function Pse(e,t){return e!==null&&typeof e=="object"&&t in e}function Ise(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function Nse(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=Ise(i,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function y2(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Ose(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function b2(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function qs(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function x2(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function Rse(e){return e.includes("gemini")&&e!=="gemini-embedding-001"||e.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mse(e){const t={},n=f(e,["responsesFile"]);n!=null&&p(t,["fileName"],n);const r=f(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>ple(a))),p(t,["inlinedResponses"],o)}const i=f(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["inlinedEmbedContentResponses"],o)}return t}function $se(e){const t={},n=f(e,["predictionsFormat"]);n!=null&&p(t,["format"],n);const r=f(e,["gcsDestination","outputUriPrefix"]);r!=null&&p(t,["gcsUri"],r);const i=f(e,["bigqueryDestination","outputUri"]);return i!=null&&p(t,["bigqueryUri"],i),t}function Dse(e){const t={},n=f(e,["format"]);n!=null&&p(t,["predictionsFormat"],n);const r=f(e,["gcsUri"]);r!=null&&p(t,["gcsDestination","outputUriPrefix"],r);const i=f(e,["bigqueryUri"]);if(i!=null&&p(t,["bigqueryDestination","outputUri"],i),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Sd(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata","displayName"]);r!=null&&p(t,["displayName"],r);const i=f(e,["metadata","state"]);i!=null&&p(t,["state"],x2(i));const o=f(e,["metadata","createTime"]);o!=null&&p(t,["createTime"],o);const a=f(e,["metadata","endTime"]);a!=null&&p(t,["endTime"],a);const s=f(e,["metadata","updateTime"]);s!=null&&p(t,["updateTime"],s);const l=f(e,["metadata","model"]);l!=null&&p(t,["model"],l);const u=f(e,["metadata","output"]);return u!=null&&p(t,["dest"],Mse(b2(u))),t}function Dy(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["displayName"]);r!=null&&p(t,["displayName"],r);const i=f(e,["state"]);i!=null&&p(t,["state"],x2(i));const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["createTime"]);a!=null&&p(t,["createTime"],a);const s=f(e,["startTime"]);s!=null&&p(t,["startTime"],s);const l=f(e,["endTime"]);l!=null&&p(t,["endTime"],l);const u=f(e,["updateTime"]);u!=null&&p(t,["updateTime"],u);const c=f(e,["model"]);c!=null&&p(t,["model"],c);const d=f(e,["inputConfig"]);d!=null&&p(t,["src"],jse(d));const h=f(e,["outputConfig"]);h!=null&&p(t,["dest"],$se(b2(h)));const g=f(e,["completionStats"]);return g!=null&&p(t,["completionStats"],g),t}function jse(e){const t={},n=f(e,["instancesFormat"]);n!=null&&p(t,["format"],n);const r=f(e,["gcsSource","uris"]);r!=null&&p(t,["gcsUri"],r);const i=f(e,["bigquerySource","inputUri"]);return i!=null&&p(t,["bigqueryUri"],i),t}function Lse(e,t){const n={};if(f(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(t,["fileName"]);r!=null&&p(n,["fileName"],r);const i=f(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>hle(e,a))),p(n,["requests","requests"],o)}return n}function Use(e){const t={},n=f(e,["format"]);n!=null&&p(t,["instancesFormat"],n);const r=f(e,["gcsUri"]);r!=null&&p(t,["gcsSource","uris"],r);const i=f(e,["bigqueryUri"]);if(i!=null&&p(t,["bigquerySource","inputUri"],i),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Fse(e){const t={},n=f(e,["data"]);if(n!=null&&p(t,["data"],n),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function Bse(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],qs(e,r)),n}function zse(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],qs(e,r)),n}function Vse(e){const t={},n=f(e,["content"]);n!=null&&p(t,["content"],n);const r=f(e,["citationMetadata"]);r!=null&&p(t,["citationMetadata"],qse(r));const i=f(e,["tokenCount"]);i!=null&&p(t,["tokenCount"],i);const o=f(e,["finishReason"]);o!=null&&p(t,["finishReason"],o);const a=f(e,["avgLogprobs"]);a!=null&&p(t,["avgLogprobs"],a);const s=f(e,["groundingMetadata"]);s!=null&&p(t,["groundingMetadata"],s);const l=f(e,["index"]);l!=null&&p(t,["index"],l);const u=f(e,["logprobsResult"]);u!=null&&p(t,["logprobsResult"],u);const c=f(e,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(t,["safetyRatings"],h)}const d=f(e,["urlContextMetadata"]);return d!=null&&p(t,["urlContextMetadata"],d),t}function qse(e){const t={},n=f(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(t,["citations"],r)}return t}function w2(e){const t={},n=f(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wle(o))),p(t,["parts"],i)}const r=f(e,["role"]);return r!=null&&p(t,["role"],r),t}function Gse(e,t){const n={},r=f(e,["displayName"]);if(t!==void 0&&r!=null&&p(t,["batch","displayName"],r),f(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Hse(e,t){const n={},r=f(e,["displayName"]);t!==void 0&&r!=null&&p(t,["displayName"],r);const i=f(e,["dest"]);return t!==void 0&&i!=null&&p(t,["outputConfig"],Dse(Ose(i))),n}function uT(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["_url","model"],Pe(e,r));const i=f(t,["src"]);i!=null&&p(n,["batch","inputConfig"],Lse(e,y2(e,i)));const o=f(t,["config"]);return o!=null&&Gse(o,n),n}function Wse(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["model"],Pe(e,r));const i=f(t,["src"]);i!=null&&p(n,["inputConfig"],Use(y2(e,i)));const o=f(t,["config"]);return o!=null&&Hse(o,n),n}function Kse(e,t){const n={},r=f(e,["displayName"]);return t!==void 0&&r!=null&&p(t,["batch","displayName"],r),n}function Jse(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["_url","model"],Pe(e,r));const i=f(t,["src"]);i!=null&&p(n,["batch","inputConfig"],nle(e,i));const o=f(t,["config"]);return o!=null&&Kse(o,n),n}function Yse(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],qs(e,r)),n}function Xse(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],qs(e,r)),n}function Qse(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["name"]);r!=null&&p(t,["name"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);return o!=null&&p(t,["error"],o),t}function Zse(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["name"]);r!=null&&p(t,["name"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);return o!=null&&p(t,["error"],o),t}function ele(e,t){const n={},r=f(t,["contents"]);if(r!=null){let o=nx(e,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=f(t,["config"]);return i!=null&&(p(n,["_self"],tle(i,n)),Jae(n,{"requests[].*":"requests[].request.*"})),n}function tle(e,t){const n={},r=f(e,["taskType"]);t!==void 0&&r!=null&&p(t,["requests[]","taskType"],r);const i=f(e,["title"]);t!==void 0&&i!=null&&p(t,["requests[]","title"],i);const o=f(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&p(t,["requests[]","outputDimensionality"],o),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function nle(e,t){const n={},r=f(t,["fileName"]);r!=null&&p(n,["file_name"],r);const i=f(t,["inlinedRequests"]);return i!=null&&p(n,["requests"],ele(e,i)),n}function rle(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function ile(e){const t={},n=f(e,["id"]);n!=null&&p(t,["id"],n);const r=f(e,["args"]);r!=null&&p(t,["args"],r);const i=f(e,["name"]);if(i!=null&&p(t,["name"],i),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ole(e){const t={},n=f(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const r=f(e,["mode"]);if(r!=null&&p(t,["mode"],r),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function ale(e,t,n){const r={},i=f(t,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],w2(Ct(i)));const o=f(t,["temperature"]);o!=null&&p(r,["temperature"],o);const a=f(t,["topP"]);a!=null&&p(r,["topP"],a);const s=f(t,["topK"]);s!=null&&p(r,["topK"],s);const l=f(t,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=f(t,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=f(t,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const d=f(t,["responseLogprobs"]);d!=null&&p(r,["responseLogprobs"],d);const h=f(t,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=f(t,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const v=f(t,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const b=f(t,["seed"]);b!=null&&p(r,["seed"],b);const y=f(t,["responseMimeType"]);y!=null&&p(r,["responseMimeType"],y);const w=f(t,["responseSchema"]);w!=null&&p(r,["responseSchema"],rx(w));const x=f(t,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(t,["safetySettings"]);if(n!==void 0&&_!=null){let L=_;Array.isArray(L)&&(L=L.map($=>_le($))),p(n,["safetySettings"],L)}const k=f(t,["tools"]);if(n!==void 0&&k!=null){let L=Vs(k);Array.isArray(L)&&(L=L.map($=>Ele(zs($)))),p(n,["tools"],L)}const E=f(t,["toolConfig"]);if(n!==void 0&&E!=null&&p(n,["toolConfig"],Sle(E)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=f(t,["cachedContent"]);n!==void 0&&S!=null&&p(n,["cachedContent"],li(e,S));const T=f(t,["responseModalities"]);T!=null&&p(r,["responseModalities"],T);const A=f(t,["mediaResolution"]);A!=null&&p(r,["mediaResolution"],A);const C=f(t,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],ix(C)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=f(t,["thinkingConfig"]);N!=null&&p(r,["thinkingConfig"],N);const R=f(t,["imageConfig"]);R!=null&&p(r,["imageConfig"],fle(R));const M=f(t,["enableEnhancedCivicAnswers"]);if(M!=null&&p(r,["enableEnhancedCivicAnswers"],M),f(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function sle(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Vse(u))),p(t,["candidates"],l)}const i=f(e,["modelVersion"]);i!=null&&p(t,["modelVersion"],i);const o=f(e,["promptFeedback"]);o!=null&&p(t,["promptFeedback"],o);const a=f(e,["responseId"]);a!=null&&p(t,["responseId"],a);const s=f(e,["usageMetadata"]);return s!=null&&p(t,["usageMetadata"],s),t}function lle(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],qs(e,r)),n}function ule(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],qs(e,r)),n}function cle(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function dle(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function fle(e){const t={},n=f(e,["aspectRatio"]);n!=null&&p(t,["aspectRatio"],n);const r=f(e,["imageSize"]);if(r!=null&&p(t,["imageSize"],r),f(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function hle(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["request","model"],Pe(e,r));const i=f(t,["contents"]);if(i!=null){let s=Sn(i);Array.isArray(s)&&(s=s.map(l=>w2(l))),p(n,["request","contents"],s)}const o=f(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(t,["config"]);return a!=null&&p(n,["request","generationConfig"],ale(e,a,f(n,["request"],{}))),n}function ple(e){const t={},n=f(e,["response"]);n!=null&&p(t,["response"],sle(n));const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["error"]);return i!=null&&p(t,["error"],i),t}function mle(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);if(t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),f(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function gle(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);t!==void 0&&i!=null&&p(t,["_query","pageToken"],i);const o=f(e,["filter"]);return t!==void 0&&o!=null&&p(t,["_query","filter"],o),n}function vle(e){const t={},n=f(e,["config"]);return n!=null&&mle(n,t),t}function yle(e){const t={},n=f(e,["config"]);return n!=null&&gle(n,t),t}function ble(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Sd(a))),p(t,["batchJobs"],o)}return t}function xle(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Dy(a))),p(t,["batchJobs"],o)}return t}function wle(e){const t={},n=f(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=f(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=f(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=f(e,["fileData"]);o!=null&&p(t,["fileData"],rle(o));const a=f(e,["functionCall"]);a!=null&&p(t,["functionCall"],ile(a));const s=f(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=f(e,["inlineData"]);l!=null&&p(t,["inlineData"],Fse(l));const u=f(e,["text"]);u!=null&&p(t,["text"],u);const c=f(e,["thought"]);c!=null&&p(t,["thought"],c);const d=f(e,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const h=f(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function _le(e){const t={},n=f(e,["category"]);if(n!=null&&p(t,["category"],n),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(e,["threshold"]);return r!=null&&p(t,["threshold"],r),t}function Sle(e){const t={},n=f(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const r=f(e,["functionCallingConfig"]);return r!=null&&p(t,["functionCallingConfig"],ole(r)),t}function Ele(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=f(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=f(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["functionDeclarations"],c)}const a=f(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],cle(a));const s=f(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],dle(s));const l=f(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=f(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ei;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ei||(ei={}));class qo{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kle extends si{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new qo(ei.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=uT(this.apiClient,t),r=n._url,i=Q("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const g=d.request;g.systemInstruction=h,d.request=g}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),a=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Wse(this.apiClient,t);return s=Q("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Dy(c))}else{const u=uT(this.apiClient,t);return s=Q("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Sd(c))}}async createEmbeddingsInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Jse(this.apiClient,t);return o=Q("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Sd(l))}}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ule(this.apiClient,t);return s=Q("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Dy(c))}else{const u=lle(this.apiClient,t);return s=Q("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Sd(c))}}async cancel(t){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=zse(this.apiClient,t);a=Q("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Bse(this.apiClient,t);a=Q("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=yle(t);return s=Q("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=xle(c),h=new oT;return Object.assign(h,d),h})}else{const u=vle(t);return s=Q("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=ble(c),h=new oT;return Object.assign(h,d),h})}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Xse(this.apiClient,t);return s=Q("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Zse(c))}else{const u=Yse(this.apiClient,t);return s=Q("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Qse(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tle(e){const t={},n=f(e,["data"]);if(n!=null&&p(t,["data"],n),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function cT(e){const t={},n=f(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Jle(o))),p(t,["parts"],i)}const r=f(e,["role"]);return r!=null&&p(t,["role"],r),t}function Ale(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=f(e,["expireTime"]);t!==void 0&&i!=null&&p(t,["expireTime"],i);const o=f(e,["displayName"]);t!==void 0&&o!=null&&p(t,["displayName"],o);const a=f(e,["contents"]);if(t!==void 0&&a!=null){let c=Sn(a);Array.isArray(c)&&(c=c.map(d=>cT(d))),p(t,["contents"],c)}const s=f(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],cT(Ct(s)));const l=f(e,["tools"]);if(t!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Xle(d))),p(t,["tools"],c)}const u=f(e,["toolConfig"]);if(t!==void 0&&u!=null&&p(t,["toolConfig"],Yle(u)),f(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Cle(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=f(e,["expireTime"]);t!==void 0&&i!=null&&p(t,["expireTime"],i);const o=f(e,["displayName"]);t!==void 0&&o!=null&&p(t,["displayName"],o);const a=f(e,["contents"]);if(t!==void 0&&a!=null){let d=Sn(a);Array.isArray(d)&&(d=d.map(h=>h)),p(t,["contents"],d)}const s=f(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],Ct(s));const l=f(e,["tools"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Qle(h))),p(t,["tools"],d)}const u=f(e,["toolConfig"]);t!==void 0&&u!=null&&p(t,["toolConfig"],u);const c=f(e,["kmsKeyName"]);return t!==void 0&&c!=null&&p(t,["encryption_spec","kmsKeyName"],c),n}function Ple(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["model"],u2(e,r));const i=f(t,["config"]);return i!=null&&Ale(i,n),n}function Ile(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["model"],u2(e,r));const i=f(t,["config"]);return i!=null&&Cle(i,n),n}function Nle(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],li(e,r)),n}function Ole(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],li(e,r)),n}function Rle(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function Mle(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function $le(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function Dle(e){const t={},n=f(e,["id"]);n!=null&&p(t,["id"],n);const r=f(e,["args"]);r!=null&&p(t,["args"],r);const i=f(e,["name"]);if(i!=null&&p(t,["name"],i),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jle(e){const t={},n=f(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const r=f(e,["mode"]);if(r!=null&&p(t,["mode"],r),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Lle(e){const t={},n=f(e,["description"]);n!=null&&p(t,["description"],n);const r=f(e,["name"]);r!=null&&p(t,["name"],r);const i=f(e,["parameters"]);i!=null&&p(t,["parameters"],i);const o=f(e,["parametersJsonSchema"]);o!=null&&p(t,["parametersJsonSchema"],o);const a=f(e,["response"]);a!=null&&p(t,["response"],a);const s=f(e,["responseJsonSchema"]);if(s!=null&&p(t,["responseJsonSchema"],s),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Ule(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],li(e,r)),n}function Fle(e,t){const n={},r=f(t,["name"]);return r!=null&&p(n,["_url","name"],li(e,r)),n}function Ble(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function zle(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function Vle(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function qle(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function Gle(e){const t={},n=f(e,["config"]);return n!=null&&Vle(n,t),t}function Hle(e){const t={},n=f(e,["config"]);return n!=null&&qle(n,t),t}function Wle(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["cachedContents"],o)}return t}function Kle(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["cachedContents"],o)}return t}function Jle(e){const t={},n=f(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=f(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=f(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=f(e,["fileData"]);o!=null&&p(t,["fileData"],$le(o));const a=f(e,["functionCall"]);a!=null&&p(t,["functionCall"],Dle(a));const s=f(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=f(e,["inlineData"]);l!=null&&p(t,["inlineData"],Tle(l));const u=f(e,["text"]);u!=null&&p(t,["text"],u);const c=f(e,["thought"]);c!=null&&p(t,["thought"],c);const d=f(e,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const h=f(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function Yle(e){const t={},n=f(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const r=f(e,["functionCallingConfig"]);return r!=null&&p(t,["functionCallingConfig"],jle(r)),t}function Xle(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=f(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=f(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["functionDeclarations"],c)}const a=f(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],Ble(a));const s=f(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],zle(s));const l=f(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=f(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}function Qle(e){const t={},n=f(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const r=f(e,["computerUse"]);if(r!=null&&p(t,["computerUse"],r),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(e,["codeExecution"]);i!=null&&p(t,["codeExecution"],i);const o=f(e,["enterpriseWebSearch"]);o!=null&&p(t,["enterpriseWebSearch"],o);const a=f(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>Lle(h))),p(t,["functionDeclarations"],d)}const s=f(e,["googleMaps"]);s!=null&&p(t,["googleMaps"],s);const l=f(e,["googleSearch"]);l!=null&&p(t,["googleSearch"],l);const u=f(e,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const c=f(e,["urlContext"]);return c!=null&&p(t,["urlContext"],c),t}function Zle(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=f(e,["expireTime"]);return t!==void 0&&i!=null&&p(t,["expireTime"],i),n}function eue(e,t){const n={},r=f(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=f(e,["expireTime"]);return t!==void 0&&i!=null&&p(t,["expireTime"],i),n}function tue(e,t){const n={},r=f(t,["name"]);r!=null&&p(n,["_url","name"],li(e,r));const i=f(t,["config"]);return i!=null&&Zle(i,n),n}function nue(e,t){const n={},r=f(t,["name"]);r!=null&&p(n,["_url","name"],li(e,r));const i=f(t,["config"]);return i!=null&&eue(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rue extends si{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new qo(ei.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ile(this.apiClient,t);return s=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Ple(this.apiClient,t);return s=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Fle(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=Ule(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ole(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Mle(c),h=new rT;return Object.assign(h,d),h})}else{const u=Nle(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Rle(c),h=new rT;return Object.assign(h,d),h})}}async update(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=nue(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=tue(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Hle(t);return s=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Kle(c),h=new iT;return Object.assign(h,d),h})}else{const u=Gle(t);return s=Q("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Wle(c),h=new iT;return Object.assign(h,d),h})}}}function uh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function dT(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ge(e){return this instanceof ge?(this.v=e,this):new ge(e)}function sr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,d)}}function s(g,v){r[g]&&(i[g]=function(b){return new Promise(function(y,w){o.push([g,b,y,w])>1||l(g,b)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(b){h(o[0][3],b)}}function u(g){g.value instanceof ge?Promise.resolve(g.value.v).then(c,d):h(o[0][2],g)}function c(g){l("next",g)}function d(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function lr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof dT=="function"?dT(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iue(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:_2(n)}function _2(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function oue(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function fT(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!_2(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class aue{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new sue(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class sue{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),oue(o)}async sendMessage(t){var n;await this.sendPromise;const r=Ct(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=Ct(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?fT(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return sr(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var d=!0,h=lr(t),g;g=yield ge(h.next()),i=g.done,!i;d=!0){s=g.value,d=!1;const v=s;if(iue(v)){const b=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;b!==void 0&&c.push(b)}yield yield ge(v)}}catch(v){o={error:v}}finally{try{!d&&!i&&(a=h.return)&&(yield ge(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...fT(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zu extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Zu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lue(e){const t={},n=f(e,["file"]);return n!=null&&p(t,["file"],n),t}function uue(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function cue(e){const t={},n=f(e,["name"]);return n!=null&&p(t,["_url","file"],m2(n)),t}function due(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function fue(e){const t={},n=f(e,["name"]);return n!=null&&p(t,["_url","file"],m2(n)),t}function hue(e){const t={},n=f(e,["uris"]);return n!=null&&p(t,["uris"],n),t}function pue(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function mue(e){const t={},n=f(e,["config"]);return n!=null&&pue(n,t),t}function gue(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["files"],o)}return t}function vue(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yue extends si{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new qo(ei.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=mue(t);return o=Q("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=gue(l),c=new yse;return Object.assign(c,u),c})}}async createInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=lue(t);return o=Q("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=uue(l),c=new bse;return Object.assign(c,u),c})}}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=fue(t);return o=Q("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=cue(t);return o=Q("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=due(l),c=new xse;return Object.assign(c,u),c})}}async registerFilesInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=hue(t);return o=Q("files:register",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=vue(l),c=new wse;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ed(e){const t={},n=f(e,["data"]);if(n!=null&&p(t,["data"],n),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function bue(e){const t={},n=f(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$ue(o))),p(t,["parts"],i)}const r=f(e,["role"]);return r!=null&&p(t,["role"],r),t}function xue(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function wue(e){const t={},n=f(e,["id"]);n!=null&&p(t,["id"],n);const r=f(e,["args"]);r!=null&&p(t,["args"],r);const i=f(e,["name"]);if(i!=null&&p(t,["name"],i),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function _ue(e){const t={},n=f(e,["description"]);n!=null&&p(t,["description"],n);const r=f(e,["name"]);r!=null&&p(t,["name"],r);const i=f(e,["parameters"]);i!=null&&p(t,["parameters"],i);const o=f(e,["parametersJsonSchema"]);o!=null&&p(t,["parametersJsonSchema"],o);const a=f(e,["response"]);a!=null&&p(t,["response"],a);const s=f(e,["responseJsonSchema"]);if(s!=null&&p(t,["responseJsonSchema"],s),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Sue(e){const t={},n=f(e,["modelSelectionConfig"]);n!=null&&p(t,["modelConfig"],n);const r=f(e,["responseJsonSchema"]);r!=null&&p(t,["responseJsonSchema"],r);const i=f(e,["audioTimestamp"]);i!=null&&p(t,["audioTimestamp"],i);const o=f(e,["candidateCount"]);o!=null&&p(t,["candidateCount"],o);const a=f(e,["enableAffectiveDialog"]);a!=null&&p(t,["enableAffectiveDialog"],a);const s=f(e,["frequencyPenalty"]);s!=null&&p(t,["frequencyPenalty"],s);const l=f(e,["logprobs"]);l!=null&&p(t,["logprobs"],l);const u=f(e,["maxOutputTokens"]);u!=null&&p(t,["maxOutputTokens"],u);const c=f(e,["mediaResolution"]);c!=null&&p(t,["mediaResolution"],c);const d=f(e,["presencePenalty"]);d!=null&&p(t,["presencePenalty"],d);const h=f(e,["responseLogprobs"]);h!=null&&p(t,["responseLogprobs"],h);const g=f(e,["responseMimeType"]);g!=null&&p(t,["responseMimeType"],g);const v=f(e,["responseModalities"]);v!=null&&p(t,["responseModalities"],v);const b=f(e,["responseSchema"]);b!=null&&p(t,["responseSchema"],b);const y=f(e,["routingConfig"]);y!=null&&p(t,["routingConfig"],y);const w=f(e,["seed"]);w!=null&&p(t,["seed"],w);const x=f(e,["speechConfig"]);x!=null&&p(t,["speechConfig"],x);const _=f(e,["stopSequences"]);_!=null&&p(t,["stopSequences"],_);const k=f(e,["temperature"]);k!=null&&p(t,["temperature"],k);const E=f(e,["thinkingConfig"]);E!=null&&p(t,["thinkingConfig"],E);const S=f(e,["topK"]);S!=null&&p(t,["topK"],S);const T=f(e,["topP"]);if(T!=null&&p(t,["topP"],T),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Eue(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function kue(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function Tue(e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],r);const i=f(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=f(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=f(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=f(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=f(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=f(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const d=f(e,["speechConfig"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","speechConfig"],ox(d));const h=f(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const g=f(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(e,["systemInstruction"]);t!==void 0&&v!=null&&p(t,["setup","systemInstruction"],bue(Ct(v)));const b=f(e,["tools"]);if(t!==void 0&&b!=null){let S=Vs(b);Array.isArray(S)&&(S=S.map(T=>jue(zs(T)))),p(t,["setup","tools"],S)}const y=f(e,["sessionResumption"]);t!==void 0&&y!=null&&p(t,["setup","sessionResumption"],Due(y));const w=f(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&p(t,["setup","inputAudioTranscription"],w);const x=f(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&p(t,["setup","outputAudioTranscription"],x);const _=f(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&p(t,["setup","realtimeInputConfig"],_);const k=f(e,["contextWindowCompression"]);t!==void 0&&k!=null&&p(t,["setup","contextWindowCompression"],k);const E=f(e,["proactivity"]);if(t!==void 0&&E!=null&&p(t,["setup","proactivity"],E),f(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Aue(e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],Sue(r));const i=f(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=f(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=f(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=f(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=f(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=f(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const d=f(e,["speechConfig"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","speechConfig"],ox(d));const h=f(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const g=f(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(e,["systemInstruction"]);t!==void 0&&v!=null&&p(t,["setup","systemInstruction"],Ct(v));const b=f(e,["tools"]);if(t!==void 0&&b!=null){let T=Vs(b);Array.isArray(T)&&(T=T.map(A=>Lue(zs(A)))),p(t,["setup","tools"],T)}const y=f(e,["sessionResumption"]);t!==void 0&&y!=null&&p(t,["setup","sessionResumption"],y);const w=f(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&p(t,["setup","inputAudioTranscription"],w);const x=f(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&p(t,["setup","outputAudioTranscription"],x);const _=f(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&p(t,["setup","realtimeInputConfig"],_);const k=f(e,["contextWindowCompression"]);t!==void 0&&k!=null&&p(t,["setup","contextWindowCompression"],k);const E=f(e,["proactivity"]);t!==void 0&&E!=null&&p(t,["setup","proactivity"],E);const S=f(e,["explicitVadSignal"]);return t!==void 0&&S!=null&&p(t,["setup","explicitVadSignal"],S),n}function Cue(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["setup","model"],Pe(e,r));const i=f(t,["config"]);return i!=null&&p(n,["config"],Tue(i,n)),n}function Pue(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["setup","model"],Pe(e,r));const i=f(t,["config"]);return i!=null&&p(n,["config"],Aue(i,n)),n}function Iue(e){const t={},n=f(e,["musicGenerationConfig"]);return n!=null&&p(t,["musicGenerationConfig"],n),t}function Nue(e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(t,["weightedPrompts"],r)}return t}function Oue(e){const t={},n=f(e,["media"]);if(n!=null){let u=c2(n);Array.isArray(u)&&(u=u.map(c=>Ed(c))),p(t,["mediaChunks"],u)}const r=f(e,["audio"]);r!=null&&p(t,["audio"],Ed(f2(r)));const i=f(e,["audioStreamEnd"]);i!=null&&p(t,["audioStreamEnd"],i);const o=f(e,["video"]);o!=null&&p(t,["video"],Ed(d2(o)));const a=f(e,["text"]);a!=null&&p(t,["text"],a);const s=f(e,["activityStart"]);s!=null&&p(t,["activityStart"],s);const l=f(e,["activityEnd"]);return l!=null&&p(t,["activityEnd"],l),t}function Rue(e){const t={},n=f(e,["media"]);if(n!=null){let u=c2(n);Array.isArray(u)&&(u=u.map(c=>c)),p(t,["mediaChunks"],u)}const r=f(e,["audio"]);r!=null&&p(t,["audio"],f2(r));const i=f(e,["audioStreamEnd"]);i!=null&&p(t,["audioStreamEnd"],i);const o=f(e,["video"]);o!=null&&p(t,["video"],d2(o));const a=f(e,["text"]);a!=null&&p(t,["text"],a);const s=f(e,["activityStart"]);s!=null&&p(t,["activityStart"],s);const l=f(e,["activityEnd"]);return l!=null&&p(t,["activityEnd"],l),t}function Mue(e){const t={},n=f(e,["setupComplete"]);n!=null&&p(t,["setupComplete"],n);const r=f(e,["serverContent"]);r!=null&&p(t,["serverContent"],r);const i=f(e,["toolCall"]);i!=null&&p(t,["toolCall"],i);const o=f(e,["toolCallCancellation"]);o!=null&&p(t,["toolCallCancellation"],o);const a=f(e,["usageMetadata"]);a!=null&&p(t,["usageMetadata"],Uue(a));const s=f(e,["goAway"]);s!=null&&p(t,["goAway"],s);const l=f(e,["sessionResumptionUpdate"]);l!=null&&p(t,["sessionResumptionUpdate"],l);const u=f(e,["voiceActivityDetectionSignal"]);u!=null&&p(t,["voiceActivityDetectionSignal"],u);const c=f(e,["voiceActivity"]);return c!=null&&p(t,["voiceActivity"],Fue(c)),t}function $ue(e){const t={},n=f(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=f(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=f(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=f(e,["fileData"]);o!=null&&p(t,["fileData"],xue(o));const a=f(e,["functionCall"]);a!=null&&p(t,["functionCall"],wue(a));const s=f(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=f(e,["inlineData"]);l!=null&&p(t,["inlineData"],Ed(l));const u=f(e,["text"]);u!=null&&p(t,["text"],u);const c=f(e,["thought"]);c!=null&&p(t,["thought"],c);const d=f(e,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const h=f(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function Due(e){const t={},n=f(e,["handle"]);if(n!=null&&p(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function jue(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=f(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=f(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["functionDeclarations"],c)}const a=f(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],Eue(a));const s=f(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],kue(s));const l=f(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=f(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}function Lue(e){const t={},n=f(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const r=f(e,["computerUse"]);if(r!=null&&p(t,["computerUse"],r),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(e,["codeExecution"]);i!=null&&p(t,["codeExecution"],i);const o=f(e,["enterpriseWebSearch"]);o!=null&&p(t,["enterpriseWebSearch"],o);const a=f(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>_ue(h))),p(t,["functionDeclarations"],d)}const s=f(e,["googleMaps"]);s!=null&&p(t,["googleMaps"],s);const l=f(e,["googleSearch"]);l!=null&&p(t,["googleSearch"],l);const u=f(e,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const c=f(e,["urlContext"]);return c!=null&&p(t,["urlContext"],c),t}function Uue(e){const t={},n=f(e,["promptTokenCount"]);n!=null&&p(t,["promptTokenCount"],n);const r=f(e,["cachedContentTokenCount"]);r!=null&&p(t,["cachedContentTokenCount"],r);const i=f(e,["candidatesTokenCount"]);i!=null&&p(t,["responseTokenCount"],i);const o=f(e,["toolUsePromptTokenCount"]);o!=null&&p(t,["toolUsePromptTokenCount"],o);const a=f(e,["thoughtsTokenCount"]);a!=null&&p(t,["thoughtsTokenCount"],a);const s=f(e,["totalTokenCount"]);s!=null&&p(t,["totalTokenCount"],s);const l=f(e,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),p(t,["promptTokensDetails"],g)}const u=f(e,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),p(t,["cacheTokensDetails"],g)}const c=f(e,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),p(t,["responseTokensDetails"],g)}const d=f(e,["toolUsePromptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),p(t,["toolUsePromptTokensDetails"],g)}const h=f(e,["trafficType"]);return h!=null&&p(t,["trafficType"],h),t}function Fue(e){const t={},n=f(e,["type"]);return n!=null&&p(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bue(e,t){const n={},r=f(e,["data"]);if(r!=null&&p(n,["data"],r),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function zue(e,t){const n={},r=f(e,["content"]);r!=null&&p(n,["content"],r);const i=f(e,["citationMetadata"]);i!=null&&p(n,["citationMetadata"],Vue(i));const o=f(e,["tokenCount"]);o!=null&&p(n,["tokenCount"],o);const a=f(e,["finishReason"]);a!=null&&p(n,["finishReason"],a);const s=f(e,["avgLogprobs"]);s!=null&&p(n,["avgLogprobs"],s);const l=f(e,["groundingMetadata"]);l!=null&&p(n,["groundingMetadata"],l);const u=f(e,["index"]);u!=null&&p(n,["index"],u);const c=f(e,["logprobsResult"]);c!=null&&p(n,["logprobsResult"],c);const d=f(e,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),p(n,["safetyRatings"],g)}const h=f(e,["urlContextMetadata"]);return h!=null&&p(n,["urlContextMetadata"],h),n}function Vue(e,t){const n={},r=f(e,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["citations"],i)}return n}function que(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["contents"]);if(o!=null){let a=Sn(o);Array.isArray(a)&&(a=a.map(s=>s)),p(r,["contents"],a)}return r}function Gue(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(n,["tokensInfo"],o)}return n}function Hue(e,t){const n={},r=f(e,["values"]);r!=null&&p(n,["values"],r);const i=f(e,["statistics"]);return i!=null&&p(n,["statistics"],Wue(i)),n}function Wue(e,t){const n={},r=f(e,["truncated"]);r!=null&&p(n,["truncated"],r);const i=f(e,["token_count"]);return i!=null&&p(n,["tokenCount"],i),n}function hc(e,t){const n={},r=f(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>nde(a))),p(n,["parts"],o)}const i=f(e,["role"]);return i!=null&&p(n,["role"],i),n}function Kue(e,t){const n={},r=f(e,["controlType"]);r!=null&&p(n,["controlType"],r);const i=f(e,["enableControlImageComputation"]);return i!=null&&p(n,["computeControl"],i),n}function Jue(e,t){const n={};if(f(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Yue(e,t,n){const r={},i=f(e,["systemInstruction"]);t!==void 0&&i!=null&&p(t,["systemInstruction"],Ct(i));const o=f(e,["tools"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>T2(l))),p(t,["tools"],s)}const a=f(e,["generationConfig"]);return t!==void 0&&a!=null&&p(t,["generationConfig"],Bce(a)),r}function Xue(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["contents"]);if(o!=null){let s=Sn(o);Array.isArray(s)&&(s=s.map(l=>hc(l))),p(r,["contents"],s)}const a=f(t,["config"]);return a!=null&&Jue(a),r}function Que(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["contents"]);if(o!=null){let s=Sn(o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["contents"],s)}const a=f(t,["config"]);return a!=null&&Yue(a,r),r}function Zue(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["totalTokens"]);i!=null&&p(n,["totalTokens"],i);const o=f(e,["cachedContentTokenCount"]);return o!=null&&p(n,["cachedContentTokenCount"],o),n}function ece(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["totalTokens"]);return i!=null&&p(n,["totalTokens"],i),n}function tce(e,t,n){const r={},i=f(t,["model"]);return i!=null&&p(r,["_url","name"],Pe(e,i)),r}function nce(e,t,n){const r={},i=f(t,["model"]);return i!=null&&p(r,["_url","name"],Pe(e,i)),r}function rce(e,t){const n={},r=f(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function ice(e,t){const n={},r=f(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function oce(e,t,n){const r={},i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=f(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const a=f(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const s=f(e,["aspectRatio"]);t!==void 0&&s!=null&&p(t,["parameters","aspectRatio"],s);const l=f(e,["guidanceScale"]);t!==void 0&&l!=null&&p(t,["parameters","guidanceScale"],l);const u=f(e,["seed"]);t!==void 0&&u!=null&&p(t,["parameters","seed"],u);const c=f(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&p(t,["parameters","safetySetting"],c);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&p(t,["parameters","personGeneration"],d);const h=f(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&p(t,["parameters","includeSafetyAttributes"],h);const g=f(e,["includeRaiReason"]);t!==void 0&&g!=null&&p(t,["parameters","includeRaiReason"],g);const v=f(e,["language"]);t!==void 0&&v!=null&&p(t,["parameters","language"],v);const b=f(e,["outputMimeType"]);t!==void 0&&b!=null&&p(t,["parameters","outputOptions","mimeType"],b);const y=f(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&p(t,["parameters","outputOptions","compressionQuality"],y);const w=f(e,["addWatermark"]);t!==void 0&&w!=null&&p(t,["parameters","addWatermark"],w);const x=f(e,["labels"]);t!==void 0&&x!=null&&p(t,["labels"],x);const _=f(e,["editMode"]);t!==void 0&&_!=null&&p(t,["parameters","editMode"],_);const k=f(e,["baseSteps"]);return t!==void 0&&k!=null&&p(t,["parameters","editConfig","baseSteps"],k),r}function ace(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>lde(u))),p(r,["instances[0]","referenceImages"],l)}const s=f(t,["config"]);return s!=null&&oce(s,r),r}function sce(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Pp(a))),p(n,["generatedImages"],o)}return n}function lce(e,t,n){const r={},i=f(e,["taskType"]);t!==void 0&&i!=null&&p(t,["requests[]","taskType"],i);const o=f(e,["title"]);t!==void 0&&o!=null&&p(t,["requests[]","title"],o);const a=f(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&p(t,["requests[]","outputDimensionality"],a),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function uce(e,t,n){const r={};let i=f(n,["embeddingApiType"]);if(i===void 0&&(i="PREDICT"),i==="PREDICT"){const u=f(e,["taskType"]);t!==void 0&&u!=null&&p(t,["instances[]","task_type"],u)}else if(i==="EMBED_CONTENT"){const u=f(e,["taskType"]);t!==void 0&&u!=null&&p(t,["taskType"],u)}let o=f(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const u=f(e,["title"]);t!==void 0&&u!=null&&p(t,["instances[]","title"],u)}else if(o==="EMBED_CONTENT"){const u=f(e,["title"]);t!==void 0&&u!=null&&p(t,["title"],u)}let a=f(n,["embeddingApiType"]);if(a===void 0&&(a="PREDICT"),a==="PREDICT"){const u=f(e,["outputDimensionality"]);t!==void 0&&u!=null&&p(t,["parameters","outputDimensionality"],u)}else if(a==="EMBED_CONTENT"){const u=f(e,["outputDimensionality"]);t!==void 0&&u!=null&&p(t,["outputDimensionality"],u)}let s=f(n,["embeddingApiType"]);if(s===void 0&&(s="PREDICT"),s==="PREDICT"){const u=f(e,["mimeType"]);t!==void 0&&u!=null&&p(t,["instances[]","mimeType"],u)}let l=f(n,["embeddingApiType"]);if(l===void 0&&(l="PREDICT"),l==="PREDICT"){const u=f(e,["autoTruncate"]);t!==void 0&&u!=null&&p(t,["parameters","autoTruncate"],u)}else if(l==="EMBED_CONTENT"){const u=f(e,["autoTruncate"]);t!==void 0&&u!=null&&p(t,["autoTruncate"],u)}return r}function cce(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["contents"]);if(o!=null){let u=nx(e,o);Array.isArray(u)&&(u=u.map(c=>c)),p(r,["requests[]","content"],u)}const a=f(t,["content"]);a!=null&&hc(Ct(a));const s=f(t,["config"]);s!=null&&lce(s,r);const l=f(t,["model"]);return l!==void 0&&p(r,["requests[]","model"],Pe(e,l)),r}function dce(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));let o=f(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const l=f(t,["contents"]);if(l!=null){let u=nx(e,l);Array.isArray(u)&&(u=u.map(c=>c)),p(r,["instances[]","content"],u)}}let a=f(n,["embeddingApiType"]);if(a===void 0&&(a="PREDICT"),a==="EMBED_CONTENT"){const l=f(t,["content"]);l!=null&&p(r,["content"],Ct(l))}const s=f(t,["config"]);return s!=null&&uce(s,r,n),r}function fce(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),p(n,["embeddings"],a)}const o=f(e,["metadata"]);return o!=null&&p(n,["metadata"],o),n}function hce(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Hue(s))),p(n,["embeddings"],a)}const o=f(e,["metadata"]);if(o!=null&&p(n,["metadata"],o),t&&f(t,["embeddingApiType"])==="EMBED_CONTENT"){const a=f(e,["embedding"]),s=f(e,["usageMetadata"]),l=f(e,["truncated"]);if(a){const u={};s&&s.promptTokenCount&&(u.tokenCount=s.promptTokenCount),l&&(u.truncated=l),a.statistics=u,p(n,["embeddings"],[a])}}return n}function pce(e,t){const n={},r=f(e,["endpoint"]);r!=null&&p(n,["name"],r);const i=f(e,["deployedModelId"]);return i!=null&&p(n,["deployedModelId"],i),n}function mce(e,t){const n={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["fileUri"]);r!=null&&p(n,["fileUri"],r);const i=f(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function gce(e,t){const n={},r=f(e,["id"]);r!=null&&p(n,["id"],r);const i=f(e,["args"]);i!=null&&p(n,["args"],i);const o=f(e,["name"]);if(o!=null&&p(n,["name"],o),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function vce(e,t){const n={},r=f(e,["allowedFunctionNames"]);r!=null&&p(n,["allowedFunctionNames"],r);const i=f(e,["mode"]);if(i!=null&&p(n,["mode"],i),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function yce(e,t){const n={},r=f(e,["description"]);r!=null&&p(n,["description"],r);const i=f(e,["name"]);i!=null&&p(n,["name"],i);const o=f(e,["parameters"]);o!=null&&p(n,["parameters"],o);const a=f(e,["parametersJsonSchema"]);a!=null&&p(n,["parametersJsonSchema"],a);const s=f(e,["response"]);s!=null&&p(n,["response"],s);const l=f(e,["responseJsonSchema"]);if(l!=null&&p(n,["responseJsonSchema"],l),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function bce(e,t,n,r){const i={},o=f(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],hc(Ct(o)));const a=f(t,["temperature"]);a!=null&&p(i,["temperature"],a);const s=f(t,["topP"]);s!=null&&p(i,["topP"],s);const l=f(t,["topK"]);l!=null&&p(i,["topK"],l);const u=f(t,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=f(t,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const d=f(t,["stopSequences"]);d!=null&&p(i,["stopSequences"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const g=f(t,["logprobs"]);g!=null&&p(i,["logprobs"],g);const v=f(t,["presencePenalty"]);v!=null&&p(i,["presencePenalty"],v);const b=f(t,["frequencyPenalty"]);b!=null&&p(i,["frequencyPenalty"],b);const y=f(t,["seed"]);y!=null&&p(i,["seed"],y);const w=f(t,["responseMimeType"]);w!=null&&p(i,["responseMimeType"],w);const x=f(t,["responseSchema"]);x!=null&&p(i,["responseSchema"],rx(x));const _=f(t,["responseJsonSchema"]);if(_!=null&&p(i,["responseJsonSchema"],_),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=f(t,["safetySettings"]);if(n!==void 0&&k!=null){let $=k;Array.isArray($)&&($=$.map(D=>ude(D))),p(n,["safetySettings"],$)}const E=f(t,["tools"]);if(n!==void 0&&E!=null){let $=Vs(E);Array.isArray($)&&($=$.map(D=>gde(zs(D)))),p(n,["tools"],$)}const S=f(t,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],mde(S)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=f(t,["cachedContent"]);n!==void 0&&T!=null&&p(n,["cachedContent"],li(e,T));const A=f(t,["responseModalities"]);A!=null&&p(i,["responseModalities"],A);const C=f(t,["mediaResolution"]);C!=null&&p(i,["mediaResolution"],C);const N=f(t,["speechConfig"]);if(N!=null&&p(i,["speechConfig"],ix(N)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=f(t,["thinkingConfig"]);R!=null&&p(i,["thinkingConfig"],R);const M=f(t,["imageConfig"]);M!=null&&p(i,["imageConfig"],Hce(M));const L=f(t,["enableEnhancedCivicAnswers"]);if(L!=null&&p(i,["enableEnhancedCivicAnswers"],L),f(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function xce(e,t,n,r){const i={},o=f(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],Ct(o));const a=f(t,["temperature"]);a!=null&&p(i,["temperature"],a);const s=f(t,["topP"]);s!=null&&p(i,["topP"],s);const l=f(t,["topK"]);l!=null&&p(i,["topK"],l);const u=f(t,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=f(t,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const d=f(t,["stopSequences"]);d!=null&&p(i,["stopSequences"],d);const h=f(t,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const g=f(t,["logprobs"]);g!=null&&p(i,["logprobs"],g);const v=f(t,["presencePenalty"]);v!=null&&p(i,["presencePenalty"],v);const b=f(t,["frequencyPenalty"]);b!=null&&p(i,["frequencyPenalty"],b);const y=f(t,["seed"]);y!=null&&p(i,["seed"],y);const w=f(t,["responseMimeType"]);w!=null&&p(i,["responseMimeType"],w);const x=f(t,["responseSchema"]);x!=null&&p(i,["responseSchema"],rx(x));const _=f(t,["responseJsonSchema"]);_!=null&&p(i,["responseJsonSchema"],_);const k=f(t,["routingConfig"]);k!=null&&p(i,["routingConfig"],k);const E=f(t,["modelSelectionConfig"]);E!=null&&p(i,["modelConfig"],E);const S=f(t,["safetySettings"]);if(n!==void 0&&S!=null){let P=S;Array.isArray(P)&&(P=P.map(j=>j)),p(n,["safetySettings"],P)}const T=f(t,["tools"]);if(n!==void 0&&T!=null){let P=Vs(T);Array.isArray(P)&&(P=P.map(j=>T2(zs(j)))),p(n,["tools"],P)}const A=f(t,["toolConfig"]);n!==void 0&&A!=null&&p(n,["toolConfig"],A);const C=f(t,["labels"]);n!==void 0&&C!=null&&p(n,["labels"],C);const N=f(t,["cachedContent"]);n!==void 0&&N!=null&&p(n,["cachedContent"],li(e,N));const R=f(t,["responseModalities"]);R!=null&&p(i,["responseModalities"],R);const M=f(t,["mediaResolution"]);M!=null&&p(i,["mediaResolution"],M);const L=f(t,["speechConfig"]);L!=null&&p(i,["speechConfig"],ix(L));const $=f(t,["audioTimestamp"]);$!=null&&p(i,["audioTimestamp"],$);const D=f(t,["thinkingConfig"]);D!=null&&p(i,["thinkingConfig"],D);const U=f(t,["imageConfig"]);if(U!=null&&p(i,["imageConfig"],Wce(U)),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const V=f(t,["modelArmorConfig"]);return n!==void 0&&V!=null&&p(n,["modelArmorConfig"],V),i}function hT(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["contents"]);if(o!=null){let s=Sn(o);Array.isArray(s)&&(s=s.map(l=>hc(l))),p(r,["contents"],s)}const a=f(t,["config"]);return a!=null&&p(r,["generationConfig"],bce(e,a,r)),r}function pT(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["contents"]);if(o!=null){let s=Sn(o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["contents"],s)}const a=f(t,["config"]);return a!=null&&p(r,["generationConfig"],xce(e,a,r)),r}function mT(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>zue(c))),p(n,["candidates"],u)}const o=f(e,["modelVersion"]);o!=null&&p(n,["modelVersion"],o);const a=f(e,["promptFeedback"]);a!=null&&p(n,["promptFeedback"],a);const s=f(e,["responseId"]);s!=null&&p(n,["responseId"],s);const l=f(e,["usageMetadata"]);return l!=null&&p(n,["usageMetadata"],l),n}function gT(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>d)),p(n,["candidates"],c)}const o=f(e,["createTime"]);o!=null&&p(n,["createTime"],o);const a=f(e,["modelVersion"]);a!=null&&p(n,["modelVersion"],a);const s=f(e,["promptFeedback"]);s!=null&&p(n,["promptFeedback"],s);const l=f(e,["responseId"]);l!=null&&p(n,["responseId"],l);const u=f(e,["usageMetadata"]);return u!=null&&p(n,["usageMetadata"],u),n}function wce(e,t,n){const r={};if(f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=f(e,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=f(e,["aspectRatio"]);t!==void 0&&o!=null&&p(t,["parameters","aspectRatio"],o);const a=f(e,["guidanceScale"]);if(t!==void 0&&a!=null&&p(t,["parameters","guidanceScale"],a),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=f(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&p(t,["parameters","safetySetting"],s);const l=f(e,["personGeneration"]);t!==void 0&&l!=null&&p(t,["parameters","personGeneration"],l);const u=f(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&p(t,["parameters","includeSafetyAttributes"],u);const c=f(e,["includeRaiReason"]);t!==void 0&&c!=null&&p(t,["parameters","includeRaiReason"],c);const d=f(e,["language"]);t!==void 0&&d!=null&&p(t,["parameters","language"],d);const h=f(e,["outputMimeType"]);t!==void 0&&h!=null&&p(t,["parameters","outputOptions","mimeType"],h);const g=f(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&p(t,["parameters","outputOptions","compressionQuality"],g),f(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=f(e,["imageSize"]);if(t!==void 0&&v!=null&&p(t,["parameters","sampleImageSize"],v),f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function _ce(e,t,n){const r={},i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=f(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const a=f(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const s=f(e,["aspectRatio"]);t!==void 0&&s!=null&&p(t,["parameters","aspectRatio"],s);const l=f(e,["guidanceScale"]);t!==void 0&&l!=null&&p(t,["parameters","guidanceScale"],l);const u=f(e,["seed"]);t!==void 0&&u!=null&&p(t,["parameters","seed"],u);const c=f(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&p(t,["parameters","safetySetting"],c);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&p(t,["parameters","personGeneration"],d);const h=f(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&p(t,["parameters","includeSafetyAttributes"],h);const g=f(e,["includeRaiReason"]);t!==void 0&&g!=null&&p(t,["parameters","includeRaiReason"],g);const v=f(e,["language"]);t!==void 0&&v!=null&&p(t,["parameters","language"],v);const b=f(e,["outputMimeType"]);t!==void 0&&b!=null&&p(t,["parameters","outputOptions","mimeType"],b);const y=f(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&p(t,["parameters","outputOptions","compressionQuality"],y);const w=f(e,["addWatermark"]);t!==void 0&&w!=null&&p(t,["parameters","addWatermark"],w);const x=f(e,["labels"]);t!==void 0&&x!=null&&p(t,["labels"],x);const _=f(e,["imageSize"]);t!==void 0&&_!=null&&p(t,["parameters","sampleImageSize"],_);const k=f(e,["enhancePrompt"]);return t!==void 0&&k!=null&&p(t,["parameters","enhancePrompt"],k),r}function Sce(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["config"]);return a!=null&&wce(a,r),r}function Ece(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["config"]);return a!=null&&_ce(a,r),r}function kce(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>jce(s))),p(n,["generatedImages"],a)}const o=f(e,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],E2(o)),n}function Tce(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Pp(s))),p(n,["generatedImages"],a)}const o=f(e,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],k2(o)),n}function Ace(e,t,n){const r={},i=f(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i),f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=f(e,["durationSeconds"]);if(t!==void 0&&o!=null&&p(t,["parameters","durationSeconds"],o),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(e,["aspectRatio"]);t!==void 0&&a!=null&&p(t,["parameters","aspectRatio"],a);const s=f(e,["resolution"]);t!==void 0&&s!=null&&p(t,["parameters","resolution"],s);const l=f(e,["personGeneration"]);if(t!==void 0&&l!=null&&p(t,["parameters","personGeneration"],l),f(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=f(e,["negativePrompt"]);t!==void 0&&u!=null&&p(t,["parameters","negativePrompt"],u);const c=f(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&p(t,["parameters","enhancePrompt"],c),f(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=f(e,["lastFrame"]);t!==void 0&&d!=null&&p(t,["instances[0]","lastFrame"],Ip(d));const h=f(e,["referenceImages"]);if(t!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>Pde(v))),p(t,["instances[0]","referenceImages"],g)}if(f(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function Cce(e,t,n){const r={},i=f(e,["numberOfVideos"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=f(e,["outputGcsUri"]);t!==void 0&&o!=null&&p(t,["parameters","storageUri"],o);const a=f(e,["fps"]);t!==void 0&&a!=null&&p(t,["parameters","fps"],a);const s=f(e,["durationSeconds"]);t!==void 0&&s!=null&&p(t,["parameters","durationSeconds"],s);const l=f(e,["seed"]);t!==void 0&&l!=null&&p(t,["parameters","seed"],l);const u=f(e,["aspectRatio"]);t!==void 0&&u!=null&&p(t,["parameters","aspectRatio"],u);const c=f(e,["resolution"]);t!==void 0&&c!=null&&p(t,["parameters","resolution"],c);const d=f(e,["personGeneration"]);t!==void 0&&d!=null&&p(t,["parameters","personGeneration"],d);const h=f(e,["pubsubTopic"]);t!==void 0&&h!=null&&p(t,["parameters","pubsubTopic"],h);const g=f(e,["negativePrompt"]);t!==void 0&&g!=null&&p(t,["parameters","negativePrompt"],g);const v=f(e,["enhancePrompt"]);t!==void 0&&v!=null&&p(t,["parameters","enhancePrompt"],v);const b=f(e,["generateAudio"]);t!==void 0&&b!=null&&p(t,["parameters","generateAudio"],b);const y=f(e,["lastFrame"]);t!==void 0&&y!=null&&p(t,["instances[0]","lastFrame"],dr(y));const w=f(e,["referenceImages"]);if(t!==void 0&&w!=null){let k=w;Array.isArray(k)&&(k=k.map(E=>Ide(E))),p(t,["instances[0]","referenceImages"],k)}const x=f(e,["mask"]);t!==void 0&&x!=null&&p(t,["instances[0]","mask"],Cde(x));const _=f(e,["compressionQuality"]);return t!==void 0&&_!=null&&p(t,["parameters","compressionQuality"],_),r}function Pce(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["name"],r);const i=f(e,["metadata"]);i!=null&&p(n,["metadata"],i);const o=f(e,["done"]);o!=null&&p(n,["done"],o);const a=f(e,["error"]);a!=null&&p(n,["error"],a);const s=f(e,["response","generateVideoResponse"]);return s!=null&&p(n,["response"],Rce(s)),n}function Ice(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["name"],r);const i=f(e,["metadata"]);i!=null&&p(n,["metadata"],i);const o=f(e,["done"]);o!=null&&p(n,["done"],o);const a=f(e,["error"]);a!=null&&p(n,["error"],a);const s=f(e,["response"]);return s!=null&&p(n,["response"],Mce(s)),n}function Nce(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["image"]);a!=null&&p(r,["instances[0]","image"],Ip(a));const s=f(t,["video"]);s!=null&&p(r,["instances[0]","video"],A2(s));const l=f(t,["source"]);l!=null&&$ce(l,r);const u=f(t,["config"]);return u!=null&&Ace(u,r),r}function Oce(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=f(t,["image"]);a!=null&&p(r,["instances[0]","image"],dr(a));const s=f(t,["video"]);s!=null&&p(r,["instances[0]","video"],C2(s));const l=f(t,["source"]);l!=null&&Dce(l,r);const u=f(t,["config"]);return u!=null&&Cce(u,r),r}function Rce(e,t){const n={},r=f(e,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Uce(s))),p(n,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=f(e,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function Mce(e,t){const n={},r=f(e,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Fce(s))),p(n,["generatedVideos"],a)}const i=f(e,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=f(e,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function $ce(e,t,n){const r={},i=f(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=f(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],Ip(o));const a=f(e,["video"]);return t!==void 0&&a!=null&&p(t,["instances[0]","video"],A2(a)),r}function Dce(e,t,n){const r={},i=f(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=f(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],dr(o));const a=f(e,["video"]);return t!==void 0&&a!=null&&p(t,["instances[0]","video"],C2(a)),r}function jce(e,t){const n={},r=f(e,["_self"]);r!=null&&p(n,["image"],Kce(r));const i=f(e,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=f(e,["_self"]);return o!=null&&p(n,["safetyAttributes"],E2(o)),n}function Pp(e,t){const n={},r=f(e,["_self"]);r!=null&&p(n,["image"],S2(r));const i=f(e,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=f(e,["_self"]);o!=null&&p(n,["safetyAttributes"],k2(o));const a=f(e,["prompt"]);return a!=null&&p(n,["enhancedPrompt"],a),n}function Lce(e,t){const n={},r=f(e,["_self"]);r!=null&&p(n,["mask"],S2(r));const i=f(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(n,["labels"],o)}return n}function Uce(e,t){const n={},r=f(e,["video"]);return r!=null&&p(n,["video"],Tde(r)),n}function Fce(e,t){const n={},r=f(e,["_self"]);return r!=null&&p(n,["video"],Ade(r)),n}function Bce(e,t){const n={},r=f(e,["modelSelectionConfig"]);r!=null&&p(n,["modelConfig"],r);const i=f(e,["responseJsonSchema"]);i!=null&&p(n,["responseJsonSchema"],i);const o=f(e,["audioTimestamp"]);o!=null&&p(n,["audioTimestamp"],o);const a=f(e,["candidateCount"]);a!=null&&p(n,["candidateCount"],a);const s=f(e,["enableAffectiveDialog"]);s!=null&&p(n,["enableAffectiveDialog"],s);const l=f(e,["frequencyPenalty"]);l!=null&&p(n,["frequencyPenalty"],l);const u=f(e,["logprobs"]);u!=null&&p(n,["logprobs"],u);const c=f(e,["maxOutputTokens"]);c!=null&&p(n,["maxOutputTokens"],c);const d=f(e,["mediaResolution"]);d!=null&&p(n,["mediaResolution"],d);const h=f(e,["presencePenalty"]);h!=null&&p(n,["presencePenalty"],h);const g=f(e,["responseLogprobs"]);g!=null&&p(n,["responseLogprobs"],g);const v=f(e,["responseMimeType"]);v!=null&&p(n,["responseMimeType"],v);const b=f(e,["responseModalities"]);b!=null&&p(n,["responseModalities"],b);const y=f(e,["responseSchema"]);y!=null&&p(n,["responseSchema"],y);const w=f(e,["routingConfig"]);w!=null&&p(n,["routingConfig"],w);const x=f(e,["seed"]);x!=null&&p(n,["seed"],x);const _=f(e,["speechConfig"]);_!=null&&p(n,["speechConfig"],_);const k=f(e,["stopSequences"]);k!=null&&p(n,["stopSequences"],k);const E=f(e,["temperature"]);E!=null&&p(n,["temperature"],E);const S=f(e,["thinkingConfig"]);S!=null&&p(n,["thinkingConfig"],S);const T=f(e,["topK"]);T!=null&&p(n,["topK"],T);const A=f(e,["topP"]);if(A!=null&&p(n,["topP"],A),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function zce(e,t,n){const r={},i=f(t,["model"]);return i!=null&&p(r,["_url","name"],Pe(e,i)),r}function Vce(e,t,n){const r={},i=f(t,["model"]);return i!=null&&p(r,["_url","name"],Pe(e,i)),r}function qce(e,t){const n={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=f(e,["enableWidget"]);return r!=null&&p(n,["enableWidget"],r),n}function Gce(e,t){const n={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=f(e,["timeRangeFilter"]);return r!=null&&p(n,["timeRangeFilter"],r),n}function Hce(e,t){const n={},r=f(e,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=f(e,["imageSize"]);if(i!=null&&p(n,["imageSize"],i),f(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function Wce(e,t){const n={},r=f(e,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=f(e,["imageSize"]);i!=null&&p(n,["imageSize"],i);const o=f(e,["personGeneration"]);o!=null&&p(n,["personGeneration"],o);const a=f(e,["outputMimeType"]);a!=null&&p(n,["imageOutputOptions","mimeType"],a);const s=f(e,["outputCompressionQuality"]);return s!=null&&p(n,["imageOutputOptions","compressionQuality"],s),n}function Kce(e,t){const n={},r=f(e,["bytesBase64Encoded"]);r!=null&&p(n,["imageBytes"],Gi(r));const i=f(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function S2(e,t){const n={},r=f(e,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=f(e,["bytesBase64Encoded"]);i!=null&&p(n,["imageBytes"],Gi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function Ip(e,t){const n={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=f(e,["imageBytes"]);r!=null&&p(n,["bytesBase64Encoded"],Gi(r));const i=f(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function dr(e,t){const n={},r=f(e,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=f(e,["imageBytes"]);i!=null&&p(n,["bytesBase64Encoded"],Gi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function Jce(e,t,n,r){const i={},o=f(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=f(t,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const s=f(t,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const l=f(t,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],g2(e,l)),i}function Yce(e,t,n,r){const i={},o=f(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=f(t,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const s=f(t,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const l=f(t,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],g2(e,l)),i}function Xce(e,t,n){const r={},i=f(t,["config"]);return i!=null&&Jce(e,i,r),r}function Qce(e,t,n){const r={},i=f(t,["config"]);return i!=null&&Yce(e,i,r),r}function Zce(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(e,["_self"]);if(o!=null){let a=v2(o);Array.isArray(a)&&(a=a.map(s=>jy(s))),p(n,["models"],a)}return n}function ede(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(e,["_self"]);if(o!=null){let a=v2(o);Array.isArray(a)&&(a=a.map(s=>Ly(s))),p(n,["models"],a)}return n}function tde(e,t){const n={},r=f(e,["maskMode"]);r!=null&&p(n,["maskMode"],r);const i=f(e,["segmentationClasses"]);i!=null&&p(n,["maskClasses"],i);const o=f(e,["maskDilation"]);return o!=null&&p(n,["dilation"],o),n}function jy(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["name"],r);const i=f(e,["displayName"]);i!=null&&p(n,["displayName"],i);const o=f(e,["description"]);o!=null&&p(n,["description"],o);const a=f(e,["version"]);a!=null&&p(n,["version"],a);const s=f(e,["_self"]);s!=null&&p(n,["tunedModelInfo"],vde(s));const l=f(e,["inputTokenLimit"]);l!=null&&p(n,["inputTokenLimit"],l);const u=f(e,["outputTokenLimit"]);u!=null&&p(n,["outputTokenLimit"],u);const c=f(e,["supportedGenerationMethods"]);c!=null&&p(n,["supportedActions"],c);const d=f(e,["temperature"]);d!=null&&p(n,["temperature"],d);const h=f(e,["maxTemperature"]);h!=null&&p(n,["maxTemperature"],h);const g=f(e,["topP"]);g!=null&&p(n,["topP"],g);const v=f(e,["topK"]);v!=null&&p(n,["topK"],v);const b=f(e,["thinking"]);return b!=null&&p(n,["thinking"],b),n}function Ly(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["name"],r);const i=f(e,["displayName"]);i!=null&&p(n,["displayName"],i);const o=f(e,["description"]);o!=null&&p(n,["description"],o);const a=f(e,["versionId"]);a!=null&&p(n,["version"],a);const s=f(e,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>pce(g))),p(n,["endpoints"],h)}const l=f(e,["labels"]);l!=null&&p(n,["labels"],l);const u=f(e,["_self"]);u!=null&&p(n,["tunedModelInfo"],yde(u));const c=f(e,["defaultCheckpointId"]);c!=null&&p(n,["defaultCheckpointId"],c);const d=f(e,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),p(n,["checkpoints"],h)}return n}function nde(e,t){const n={},r=f(e,["mediaResolution"]);r!=null&&p(n,["mediaResolution"],r);const i=f(e,["codeExecutionResult"]);i!=null&&p(n,["codeExecutionResult"],i);const o=f(e,["executableCode"]);o!=null&&p(n,["executableCode"],o);const a=f(e,["fileData"]);a!=null&&p(n,["fileData"],mce(a));const s=f(e,["functionCall"]);s!=null&&p(n,["functionCall"],gce(s));const l=f(e,["functionResponse"]);l!=null&&p(n,["functionResponse"],l);const u=f(e,["inlineData"]);u!=null&&p(n,["inlineData"],Bue(u));const c=f(e,["text"]);c!=null&&p(n,["text"],c);const d=f(e,["thought"]);d!=null&&p(n,["thought"],d);const h=f(e,["thoughtSignature"]);h!=null&&p(n,["thoughtSignature"],h);const g=f(e,["videoMetadata"]);return g!=null&&p(n,["videoMetadata"],g),n}function rde(e,t){const n={},r=f(e,["productImage"]);return r!=null&&p(n,["image"],dr(r)),n}function ide(e,t,n){const r={},i=f(e,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=f(e,["baseSteps"]);t!==void 0&&o!=null&&p(t,["parameters","baseSteps"],o);const a=f(e,["outputGcsUri"]);t!==void 0&&a!=null&&p(t,["parameters","storageUri"],a);const s=f(e,["seed"]);t!==void 0&&s!=null&&p(t,["parameters","seed"],s);const l=f(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&p(t,["parameters","safetySetting"],l);const u=f(e,["personGeneration"]);t!==void 0&&u!=null&&p(t,["parameters","personGeneration"],u);const c=f(e,["addWatermark"]);t!==void 0&&c!=null&&p(t,["parameters","addWatermark"],c);const d=f(e,["outputMimeType"]);t!==void 0&&d!=null&&p(t,["parameters","outputOptions","mimeType"],d);const h=f(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&p(t,["parameters","outputOptions","compressionQuality"],h);const g=f(e,["enhancePrompt"]);t!==void 0&&g!=null&&p(t,["parameters","enhancePrompt"],g);const v=f(e,["labels"]);return t!==void 0&&v!=null&&p(t,["labels"],v),r}function ode(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["source"]);o!=null&&sde(o,r);const a=f(t,["config"]);return a!=null&&ide(a,r),r}function ade(e,t){const n={},r=f(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Pp(o))),p(n,["generatedImages"],i)}return n}function sde(e,t,n){const r={},i=f(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=f(e,["personImage"]);t!==void 0&&o!=null&&p(t,["instances[0]","personImage","image"],dr(o));const a=f(e,["productImages"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>rde(l))),p(t,["instances[0]","productImages"],s)}return r}function lde(e,t){const n={},r=f(e,["referenceImage"]);r!=null&&p(n,["referenceImage"],dr(r));const i=f(e,["referenceId"]);i!=null&&p(n,["referenceId"],i);const o=f(e,["referenceType"]);o!=null&&p(n,["referenceType"],o);const a=f(e,["maskImageConfig"]);a!=null&&p(n,["maskImageConfig"],tde(a));const s=f(e,["controlImageConfig"]);s!=null&&p(n,["controlImageConfig"],Kue(s));const l=f(e,["styleImageConfig"]);l!=null&&p(n,["styleImageConfig"],l);const u=f(e,["subjectImageConfig"]);return u!=null&&p(n,["subjectImageConfig"],u),n}function E2(e,t){const n={},r=f(e,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=f(e,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=f(e,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function k2(e,t){const n={},r=f(e,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=f(e,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=f(e,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function ude(e,t){const n={},r=f(e,["category"]);if(r!=null&&p(n,["category"],r),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=f(e,["threshold"]);return i!=null&&p(n,["threshold"],i),n}function cde(e,t){const n={},r=f(e,["image"]);return r!=null&&p(n,["image"],dr(r)),n}function dde(e,t,n){const r={},i=f(e,["mode"]);t!==void 0&&i!=null&&p(t,["parameters","mode"],i);const o=f(e,["maxPredictions"]);t!==void 0&&o!=null&&p(t,["parameters","maxPredictions"],o);const a=f(e,["confidenceThreshold"]);t!==void 0&&a!=null&&p(t,["parameters","confidenceThreshold"],a);const s=f(e,["maskDilation"]);t!==void 0&&s!=null&&p(t,["parameters","maskDilation"],s);const l=f(e,["binaryColorThreshold"]);t!==void 0&&l!=null&&p(t,["parameters","binaryColorThreshold"],l);const u=f(e,["labels"]);return t!==void 0&&u!=null&&p(t,["labels"],u),r}function fde(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["source"]);o!=null&&pde(o,r);const a=f(t,["config"]);return a!=null&&dde(a,r),r}function hde(e,t){const n={},r=f(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Lce(o))),p(n,["generatedMasks"],i)}return n}function pde(e,t,n){const r={},i=f(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=f(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],dr(o));const a=f(e,["scribbleImage"]);return t!==void 0&&a!=null&&p(t,["instances[0]","scribble"],cde(a)),r}function mde(e,t){const n={},r=f(e,["retrievalConfig"]);r!=null&&p(n,["retrievalConfig"],r);const i=f(e,["functionCallingConfig"]);return i!=null&&p(n,["functionCallingConfig"],vce(i)),n}function gde(e,t){const n={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["computerUse"]);r!=null&&p(n,["computerUse"],r);const i=f(e,["fileSearch"]);i!=null&&p(n,["fileSearch"],i);const o=f(e,["codeExecution"]);if(o!=null&&p(n,["codeExecution"],o),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>h)),p(n,["functionDeclarations"],d)}const s=f(e,["googleMaps"]);s!=null&&p(n,["googleMaps"],qce(s));const l=f(e,["googleSearch"]);l!=null&&p(n,["googleSearch"],Gce(l));const u=f(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],u);const c=f(e,["urlContext"]);return c!=null&&p(n,["urlContext"],c),n}function T2(e,t){const n={},r=f(e,["retrieval"]);r!=null&&p(n,["retrieval"],r);const i=f(e,["computerUse"]);if(i!=null&&p(n,["computerUse"],i),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=f(e,["codeExecution"]);o!=null&&p(n,["codeExecution"],o);const a=f(e,["enterpriseWebSearch"]);a!=null&&p(n,["enterpriseWebSearch"],a);const s=f(e,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>yce(g))),p(n,["functionDeclarations"],h)}const l=f(e,["googleMaps"]);l!=null&&p(n,["googleMaps"],l);const u=f(e,["googleSearch"]);u!=null&&p(n,["googleSearch"],u);const c=f(e,["googleSearchRetrieval"]);c!=null&&p(n,["googleSearchRetrieval"],c);const d=f(e,["urlContext"]);return d!=null&&p(n,["urlContext"],d),n}function vde(e,t){const n={},r=f(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(e,["createTime"]);i!=null&&p(n,["createTime"],i);const o=f(e,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function yde(e,t){const n={},r=f(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&p(n,["baseModel"],r);const i=f(e,["createTime"]);i!=null&&p(n,["createTime"],i);const o=f(e,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function bde(e,t,n){const r={},i=f(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=f(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const a=f(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&p(t,["defaultCheckpointId"],a),r}function xde(e,t,n){const r={},i=f(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=f(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const a=f(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&p(t,["defaultCheckpointId"],a),r}function wde(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","name"],Pe(e,i));const o=f(t,["config"]);return o!=null&&bde(o,r),r}function _de(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["config"]);return o!=null&&xde(o,r),r}function Sde(e,t,n){const r={},i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=f(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&p(t,["parameters","safetySetting"],o);const a=f(e,["personGeneration"]);t!==void 0&&a!=null&&p(t,["parameters","personGeneration"],a);const s=f(e,["includeRaiReason"]);t!==void 0&&s!=null&&p(t,["parameters","includeRaiReason"],s);const l=f(e,["outputMimeType"]);t!==void 0&&l!=null&&p(t,["parameters","outputOptions","mimeType"],l);const u=f(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&p(t,["parameters","outputOptions","compressionQuality"],u);const c=f(e,["enhanceInputImage"]);t!==void 0&&c!=null&&p(t,["parameters","upscaleConfig","enhanceInputImage"],c);const d=f(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&p(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=f(e,["labels"]);t!==void 0&&h!=null&&p(t,["labels"],h);const g=f(e,["numberOfImages"]);t!==void 0&&g!=null&&p(t,["parameters","sampleCount"],g);const v=f(e,["mode"]);return t!==void 0&&v!=null&&p(t,["parameters","mode"],v),r}function Ede(e,t,n){const r={},i=f(t,["model"]);i!=null&&p(r,["_url","model"],Pe(e,i));const o=f(t,["image"]);o!=null&&p(r,["instances[0]","image"],dr(o));const a=f(t,["upscaleFactor"]);a!=null&&p(r,["parameters","upscaleConfig","upscaleFactor"],a);const s=f(t,["config"]);return s!=null&&Sde(s,r),r}function kde(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Pp(a))),p(n,["generatedImages"],o)}return n}function Tde(e,t){const n={},r=f(e,["uri"]);r!=null&&p(n,["uri"],r);const i=f(e,["encodedVideo"]);i!=null&&p(n,["videoBytes"],Gi(i));const o=f(e,["encoding"]);return o!=null&&p(n,["mimeType"],o),n}function Ade(e,t){const n={},r=f(e,["gcsUri"]);r!=null&&p(n,["uri"],r);const i=f(e,["bytesBase64Encoded"]);i!=null&&p(n,["videoBytes"],Gi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function Cde(e,t){const n={},r=f(e,["image"]);r!=null&&p(n,["_self"],dr(r));const i=f(e,["maskMode"]);return i!=null&&p(n,["maskMode"],i),n}function Pde(e,t){const n={},r=f(e,["image"]);r!=null&&p(n,["image"],Ip(r));const i=f(e,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function Ide(e,t){const n={},r=f(e,["image"]);r!=null&&p(n,["image"],dr(r));const i=f(e,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function A2(e,t){const n={},r=f(e,["uri"]);r!=null&&p(n,["uri"],r);const i=f(e,["videoBytes"]);i!=null&&p(n,["encodedVideo"],Gi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["encoding"],o),n}function C2(e,t){const n={},r=f(e,["uri"]);r!=null&&p(n,["gcsUri"],r);const i=f(e,["videoBytes"]);i!=null&&p(n,["bytesBase64Encoded"],Gi(i));const o=f(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nde(e,t){const n={},r=f(e,["displayName"]);return t!==void 0&&r!=null&&p(t,["displayName"],r),n}function Ode(e){const t={},n=f(e,["config"]);return n!=null&&Nde(n,t),t}function Rde(e,t){const n={},r=f(e,["force"]);return t!==void 0&&r!=null&&p(t,["_query","force"],r),n}function Mde(e){const t={},n=f(e,["name"]);n!=null&&p(t,["_url","name"],n);const r=f(e,["config"]);return r!=null&&Rde(r,t),t}function $de(e){const t={},n=f(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function Dde(e,t){const n={},r=f(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["customMetadata"],o)}const i=f(e,["chunkingConfig"]);return t!==void 0&&i!=null&&p(t,["chunkingConfig"],i),n}function jde(e){const t={},n=f(e,["name"]);n!=null&&p(t,["name"],n);const r=f(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=f(e,["done"]);i!=null&&p(t,["done"],i);const o=f(e,["error"]);o!=null&&p(t,["error"],o);const a=f(e,["response"]);return a!=null&&p(t,["response"],Ude(a)),t}function Lde(e){const t={},n=f(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const r=f(e,["fileName"]);r!=null&&p(t,["fileName"],r);const i=f(e,["config"]);return i!=null&&Dde(i,t),t}function Ude(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["parent"]);r!=null&&p(t,["parent"],r);const i=f(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function Fde(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function Bde(e){const t={},n=f(e,["config"]);return n!=null&&Fde(n,t),t}function zde(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["fileSearchStores"],o)}return t}function P2(e,t){const n={},r=f(e,["mimeType"]);t!==void 0&&r!=null&&p(t,["mimeType"],r);const i=f(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=f(e,["customMetadata"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(t,["customMetadata"],s)}const a=f(e,["chunkingConfig"]);return t!==void 0&&a!=null&&p(t,["chunkingConfig"],a),n}function Vde(e){const t={},n=f(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const r=f(e,["config"]);return r!=null&&P2(r,t),t}function qde(e){const t={},n=f(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gde="Content-Type",Hde="X-Server-Timeout",Wde="User-Agent",Uy="x-goog-api-client",Kde="1.42.0",Jde=`google-genai-sdk/${Kde}`,Yde="v1beta1",Xde="v1beta",Qde=5,Zde=[408,429,500,502,503,504];class efe{constructor(t){var n,r,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const s=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!s?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Yde}else{if(!this.clientOptions.apiKey)throw new Zu({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Xde,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===Ry.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[a,s]of Object.entries(t.queryParams))i.searchParams.append(a,String(s));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=a}return n&&n.extraBody!==null&&tfe(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await vT(i),new My(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await vT(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return sr(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield ge(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const v=JSON.parse(d);if("error"in v){const b=JSON.parse(JSON.stringify(v.error)),y=b.status,w=b.code,x=`got status: ${y}. ${JSON.stringify(v)}`;if(w>=400&&w<600)throw new Zu({message:x,status:w})}}catch(v){if(v.name==="ApiError")throw v}a+=d;let h=-1,g=0;for(;;){h=-1,g=0;for(const y of l){const w=a.indexOf(y);w!==-1&&(h===-1||w<h)&&(h=w,g=y.length)}if(h===-1)break;const v=a.substring(0,h);a=a.substring(h+g);const b=v.trim();if(b.startsWith(s)){const y=b.substring(s.length).trim();try{const w=new Response(y,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ge(new My(w))}catch(w){throw new Error(`exception parsing stream chunk ${y}. ${w}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,n);const i=this.clientOptions.httpOptions.retryOptions;return Vae(async()=>{const a=await fetch(t,n);if(a.ok)return a;throw Zde.includes(a.status)?new Error(`Retryable HTTP Error: ${a.statusText}`):new Bae(`Non-retryable exception ${a.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:Qde)-1})}getDefaultHeaders(){const t={},n=Jde+" "+this.clientOptions.userAgentExtra;return t[Wde]=n,t[Uy]=n,t[Gde]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(Hde,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(t);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(t),c=Q("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(t,d,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&P2(r,d);const h=await this.fetchUploadUrl(u,s,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function vT(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Zu({message:i,status:n}):new Error(i)}}function tfe(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nfe="mcp_used/unknown";let rfe=!1;function I2(e){for(const t of e)if(ife(t)||typeof t=="object"&&"inputSchema"in t)return!0;return rfe}function N2(e){var t;const n=(t=e[Uy])!==null&&t!==void 0?t:"";e[Uy]=(n+` ${nfe}`).trimStart()}function ife(e){return e!==null&&typeof e=="object"&&e instanceof ax}function ofe(e){return sr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield ge(n.listTools({cursor:i}));for(const s of a.tools)yield yield ge(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class ax{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new ax(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,lr(ofe(c))),u;u=await l.next(),t=u.done,!t;s=!0){i=u.value,s=!1;const d=i;a.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!s&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Nse(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function afe(e,t,n){const r=new Sse;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class sfe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=cfe(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(_=>{u=_}),d=t.callbacks,h=function(){u({})},g=this.apiClient,v={onopen:h,onmessage:_=>{afe(g,d.onmessage,_)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(_){}},b=this.webSocketFactory.create(l,ufe(a),v);b.connect(),await c;const x={setup:{model:Pe(this.apiClient,t.model)}};return b.send(JSON.stringify(x)),new lfe(b,this.apiClient)}}class lfe{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Nue(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Iue(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Pa.PLAY)}pause(){this.sendPlaybackControl(Pa.PAUSE)}stop(){this.sendPlaybackControl(Pa.STOP)}resetContext(){this.sendPlaybackControl(Pa.RESET_CONTEXT)}close(){this.conn.close()}}function ufe(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function cfe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dfe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ffe(e,t,n){const r=new _se;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const a=Mue(o);Object.assign(r,a)}else Object.assign(r,o);t(r)}class hfe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new sfe(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,a,s;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();t.config&&t.config.tools&&I2(t.config.tools)&&N2(d);const h=vfe(d);if(this.apiClient.isVertexAI()){const C=this.apiClient.getProject(),N=this.apiClient.getLocation(),R=this.apiClient.getApiKey(),M=!!C&&!!N||!!R;this.apiClient.getCustomBaseUrl()&&!M?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const C=this.apiClient.getApiKey();let N="BidiGenerateContent",R="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",R="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${N}?${R}=${C}`}let g=()=>{};const v=new Promise(C=>{g=C}),b=t.callbacks,y=function(){var C;(C=b==null?void 0:b.onopen)===null||C===void 0||C.call(b),g({})},w=this.apiClient,x={onopen:y,onmessage:C=>{ffe(w,b.onmessage,C)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(C){}},_=this.webSocketFactory.create(c,gfe(h),x);_.connect(),await v;let k=Pe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const C=this.apiClient.getProject(),N=this.apiClient.getLocation();C&&N&&(k=`projects/${C}/locations/${N}/`+k)}let E={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[oh.AUDIO]}:t.config.responseModalities=[oh.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const S=(s=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],T=[];for(const C of S)if(this.isCallableTool(C)){const N=C;T.push(await N.tool())}else T.push(C);T.length>0&&(t.config.tools=T);const A={model:k,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?E=Pue(this.apiClient,A):E=Cue(this.apiClient,A),delete E.config,_.send(JSON.stringify(E)),new mfe(_,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const pfe={turnComplete:!0};class mfe{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Sn(n.turns),t.isVertexAI()||(r=r.map(i=>hc(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(dfe)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},pfe),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Rue(t)}:n={realtimeInput:Oue(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function gfe(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function vfe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yT=10;function bT(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const a of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Va(a)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Va(e){return"callTool"in e&&typeof e.callTool=="function"}function yfe(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Va(i)))!==null&&r!==void 0?r:!1}function xT(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Va(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function wT(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bfe extends si{constructor(t){super(),this.apiClient=t,this.embedContent=async n=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(n);if(n.model.includes("gemini")&&n.model!=="gemini-embedding-001"||n.model.includes("maas")){const i=Sn(n.contents);if(i.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const o=Object.assign(Object.assign({},n),{content:i[0],embeddingApiType:ah.EMBED_CONTENT});return await this.embedContentInternal(o)}else{const i=Object.assign(Object.assign({},n),{embeddingApiType:ah.PREDICT});return await this.embedContentInternal(i)}},this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!yfe(n)||bT(n.config))return await this.generateContentInternal(l);const u=xT(n);if(u.length>0){const b=u.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let c,d;const h=Sn(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:yT;let v=0;for(;v<g&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const b=c.candidates[0].content,y=[];for(const w of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Va(w)){const _=await w.callTool(c.functionCalls);y.push(..._)}v++,d={role:"user",parts:y},l.contents=Sn(l.contents),l.contents.push(b),l.contents.push(d),wT(l.config)&&(h.push(b),h.push(d))}return wT(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),bT(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=xT(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new qo(ei.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const a=await Promise.all(o.map(async l=>Va(l)?await l.tool():l)),s={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(s.config.tools=a,t.config&&t.config.tools&&I2(t.config.tools)){const l=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),N2(u),s.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const a of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Va(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:yT;let a=!1,s=0;const l=await this.initAfcToolsMap(t);return function(u,c,d){return sr(this,arguments,function*(){for(var h,g,v,b,y,w;s<o;){a&&(s++,a=!1);const E=yield ge(u.processParamsMaybeAddMcpUsage(d)),S=yield ge(u.generateContentStreamInternal(E)),T=[],A=[];try{for(var x=!0,_=(g=void 0,lr(S)),k;k=yield ge(_.next()),h=k.done,!h;x=!0){b=k.value,x=!1;const C=b;if(yield yield ge(C),C.candidates&&(!((y=C.candidates[0])===null||y===void 0)&&y.content)){A.push(C.candidates[0].content);for(const N of(w=C.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(s<o&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(N.functionCall.name)){const R=yield ge(c.get(N.functionCall.name).callTool([N.functionCall]));T.push(...R)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(C){g={error:C}}finally{try{!x&&!h&&(v=_.return)&&(yield ge(v.call(_)))}finally{if(g)throw g.error}}if(T.length>0){a=!0;const C=new ml;C.candidates=[{content:{role:"user",parts:T}}],yield yield ge(C);const N=[];N.push(...A),N.push({role:"user",parts:T});const R=Sn(d.contents).concat(N);d.contents=R}else break}})}(this,l,t)}async generateContentInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=pT(this.apiClient,t);return s=Q("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=gT(c),h=new ml;return Object.assign(h,d),h})}else{const u=hT(this.apiClient,t);return s=Q("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=mT(c),h=new ml;return Object.assign(h,d),h})}}async generateContentStreamInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=pT(this.apiClient,t);return s=Q("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(d){return sr(this,arguments,function*(){var h,g,v,b;try{for(var y=!0,w=lr(d),x;x=yield ge(w.next()),h=x.done,!h;y=!0){b=x.value,y=!1;const _=b,k=gT(yield ge(_.json()),t);k.sdkHttpResponse={headers:_.headers};const E=new ml;Object.assign(E,k),yield yield ge(E)}}catch(_){g={error:_}}finally{try{!y&&!h&&(v=w.return)&&(yield ge(v.call(w)))}finally{if(g)throw g.error}}})})}else{const u=hT(this.apiClient,t);return s=Q("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(d){return sr(this,arguments,function*(){var h,g,v,b;try{for(var y=!0,w=lr(d),x;x=yield ge(w.next()),h=x.done,!h;y=!0){b=x.value,y=!1;const _=b,k=mT(yield ge(_.json()),t);k.sdkHttpResponse={headers:_.headers};const E=new ml;Object.assign(E,k),yield yield ge(E)}}catch(_){g={error:_}}finally{try{!y&&!h&&(v=w.return)&&(yield ge(v.call(w)))}finally{if(g)throw g.error}}})})}}async embedContentInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=dce(this.apiClient,t,t),c=Rse(t.model)?"{model}:embedContent":"{model}:predict";return s=Q(c,u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=hce(d,t),g=new Yk;return Object.assign(g,h),g})}else{const u=cce(this.apiClient,t);return s=Q("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=fce(c),h=new Yk;return Object.assign(h,d),h})}}async generateImagesInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ece(this.apiClient,t);return s=Q("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Tce(c),h=new Xk;return Object.assign(h,d),h})}else{const u=Sce(this.apiClient,t);return s=Q("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=kce(c),h=new Xk;return Object.assign(h,d),h})}}async editImageInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=ace(this.apiClient,t);return o=Q("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=sce(l),c=new cse;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Ede(this.apiClient,t);return o=Q("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=kde(l),c=new dse;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=ode(this.apiClient,t);return o=Q("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=ade(l),c=new fse;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=fde(this.apiClient,t);return o=Q("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=hde(l),c=new hse;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Vce(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Ly(c))}else{const u=zce(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>jy(c))}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Qce(this.apiClient,t);return s=Q("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=ede(c),h=new Qk;return Object.assign(h,d),h})}else{const u=Xce(this.apiClient,t);return s=Q("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Zce(c),h=new Qk;return Object.assign(h,d),h})}}async update(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=_de(this.apiClient,t);return s=Q("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Ly(c))}else{const u=wde(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>jy(c))}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=nce(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=ice(c),h=new Zk;return Object.assign(h,d),h})}else{const u=tce(this.apiClient,t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=rce(c),h=new Zk;return Object.assign(h,d),h})}}async countTokens(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Que(this.apiClient,t);return s=Q("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=ece(c),h=new eT;return Object.assign(h,d),h})}else{const u=Xue(this.apiClient,t);return s=Q("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Zue(c),h=new eT;return Object.assign(h,d),h})}}async computeTokens(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=que(this.apiClient,t);return o=Q("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Gue(l),c=new pse;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Oce(this.apiClient,t);return s=Q("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const d=Ice(c),h=new sh;return Object.assign(h,d),h})}else{const u=Nce(this.apiClient,t);return s=Q("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const d=Pce(c),h=new sh;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xfe extends si{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ise(t);return s=Q("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=rse(t);return s=Q("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Yae(t);return o=Q("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wfe(e){const t={},n=f(e,["data"]);if(n!=null&&p(t,["data"],n),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function _fe(e){const t={},n=f(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Nfe(o))),p(t,["parts"],i)}const r=f(e,["role"]);return r!=null&&p(t,["role"],r),t}function Sfe(e,t,n){const r={},i=f(t,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=f(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=f(t,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=f(t,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],Ife(e,s));const l=f(t,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function Efe(e,t){const n={},r=f(t,["config"]);return r!=null&&p(n,["config"],Sfe(e,r,n)),n}function kfe(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function Tfe(e){const t={},n=f(e,["id"]);n!=null&&p(t,["id"],n);const r=f(e,["args"]);r!=null&&p(t,["args"],r);const i=f(e,["name"]);if(i!=null&&p(t,["name"],i),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Afe(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function Cfe(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function Pfe(e,t){const n={},r=f(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],r);const i=f(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=f(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=f(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=f(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=f(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=f(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const d=f(e,["speechConfig"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","speechConfig"],ox(d));const h=f(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const g=f(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(e,["systemInstruction"]);t!==void 0&&v!=null&&p(t,["setup","systemInstruction"],_fe(Ct(v)));const b=f(e,["tools"]);if(t!==void 0&&b!=null){let S=Vs(b);Array.isArray(S)&&(S=S.map(T=>Rfe(zs(T)))),p(t,["setup","tools"],S)}const y=f(e,["sessionResumption"]);t!==void 0&&y!=null&&p(t,["setup","sessionResumption"],Ofe(y));const w=f(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&p(t,["setup","inputAudioTranscription"],w);const x=f(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&p(t,["setup","outputAudioTranscription"],x);const _=f(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&p(t,["setup","realtimeInputConfig"],_);const k=f(e,["contextWindowCompression"]);t!==void 0&&k!=null&&p(t,["setup","contextWindowCompression"],k);const E=f(e,["proactivity"]);if(t!==void 0&&E!=null&&p(t,["setup","proactivity"],E),f(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Ife(e,t){const n={},r=f(t,["model"]);r!=null&&p(n,["setup","model"],Pe(e,r));const i=f(t,["config"]);return i!=null&&p(n,["config"],Pfe(i,n)),n}function Nfe(e){const t={},n=f(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=f(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=f(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=f(e,["fileData"]);o!=null&&p(t,["fileData"],kfe(o));const a=f(e,["functionCall"]);a!=null&&p(t,["functionCall"],Tfe(a));const s=f(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=f(e,["inlineData"]);l!=null&&p(t,["inlineData"],wfe(l));const u=f(e,["text"]);u!=null&&p(t,["text"],u);const c=f(e,["thought"]);c!=null&&p(t,["thought"],c);const d=f(e,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const h=f(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function Ofe(e){const t={},n=f(e,["handle"]);if(n!=null&&p(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Rfe(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=f(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=f(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),p(t,["functionDeclarations"],c)}const a=f(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],Afe(a));const s=f(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],Cfe(s));const l=f(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=f(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mfe(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function $fe(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=Mfe(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Dfe extends si{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=Efe(this.apiClient,t);o=Q("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=$fe(s,t.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jfe(e,t){const n={},r=f(e,["force"]);return t!==void 0&&r!=null&&p(t,["_query","force"],r),n}function Lfe(e){const t={},n=f(e,["name"]);n!=null&&p(t,["_url","name"],n);const r=f(e,["config"]);return r!=null&&jfe(r,t),t}function Ufe(e){const t={},n=f(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function Ffe(e,t){const n={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=f(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function Bfe(e){const t={},n=f(e,["parent"]);n!=null&&p(t,["_url","parent"],n);const r=f(e,["config"]);return r!=null&&Ffe(r,t),t}function zfe(e){const t={},n=f(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=f(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=f(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vfe extends si{constructor(t){super(),this.apiClient=t,this.list=async n=>new qo(ei.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ufe(t);return o=Q("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Lfe(t);i=Q("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Bfe(t);return o=Q("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=zfe(l),c=new mse;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qfe extends si{constructor(t,n=new Vfe(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new qo(ei.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ode(t);return o=Q("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=$de(t);return o=Q("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Mde(t);i=Q("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Bde(t);return o=Q("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=zde(l),c=new gse;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Vde(t);return o=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=qde(l),c=new vse;return Object.assign(c,u),c})}}async importFile(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Lde(t);return o=Q("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=jde(l),c=new ex;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let O2=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return O2=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Gfe=()=>O2();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fy(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const By=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vn extends Error{}class en extends Vn{constructor(t,n,r,i){super(`${en.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Np({message:r,cause:By(n)});const o=n;return t===400?new M2(t,o,r,i):t===401?new $2(t,o,r,i):t===403?new D2(t,o,r,i):t===404?new j2(t,o,r,i):t===409?new L2(t,o,r,i):t===422?new U2(t,o,r,i):t===429?new F2(t,o,r,i):t>=500?new B2(t,o,r,i):new en(t,o,r,i)}}class zy extends en{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Np extends en{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class R2 extends Np{constructor({message:t}={}){super({message:t??"Request timed out."})}}class M2 extends en{}class $2 extends en{}class D2 extends en{}class j2 extends en{}class L2 extends en{}class U2 extends en{}class F2 extends en{}class B2 extends en{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hfe=/^[a-z][a-z0-9+.-]*:/i,Wfe=e=>Hfe.test(e);let Vy=e=>(Vy=Array.isArray,Vy(e));const Kfe=Vy;let Jfe=Kfe;const _T=Jfe;function Yfe(e){if(!e)return!0;for(const t in e)return!1;return!0}function Xfe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Qfe=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Vn(`${e} must be an integer`);if(t<0)throw new Vn(`${e} must be a positive integer`);return t},Zfe=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ehe=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ua="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function the(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const nhe=()=>{var e,t,n,r,i;const o=the();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ua,"X-Stainless-OS":ET(Deno.build.os),"X-Stainless-Arch":ST(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ua,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ua,"X-Stainless-OS":ET((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":ST((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=rhe();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ua,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ua,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function rhe(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${o}.${a}`}}}return null}const ST=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",ET=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let rd;const ihe=()=>rd??(rd=nhe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ohe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function z2(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function ahe(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return z2({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function V2(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function she(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lhe=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q2=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Hm(e,t,n){return q2(),new File(e,t??"unknown_file",n)}function uhe(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const che=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G2=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",dhe=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&G2(e),fhe=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function hhe(e,t,n){if(q2(),e=await e,dhe(e))return e instanceof File?e:Hm([await e.arrayBuffer()],e.name);if(fhe(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Hm(await qy(i),t,n)}const r=await qy(e);if(t||(t=uhe(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Hm(r,t,n)}async function qy(e){var t,n,r,i,o;let a=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)a.push(e);else if(G2(e))a.push(e instanceof Blob?e:await e.arrayBuffer());else if(che(e))try{for(var s=!0,l=lr(e),u;u=await l.next(),t=u.done,!t;s=!0){i=u.value,s=!1;const c=i;a.push(...await qy(c))}}catch(c){n={error:c}}finally{try{!s&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${c?`; constructor: ${c}`:""}${phe(e)}`)}return a}function phe(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H2{constructor(t){this._client=t}}H2._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W2(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const kT=Object.freeze(Object.create(null)),mhe=(e=W2)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,d,h)=>{var g,v,b;/[?#]/.test(d)&&(i=!0);const y=r[h];let w=(i?encodeURIComponent:e)(""+y);return h!==r.length&&(y==null||typeof y=="object"&&y.toString===((b=Object.getPrototypeOf((v=Object.getPrototypeOf((g=y.hasOwnProperty)!==null&&g!==void 0?g:kT))!==null&&v!==void 0?v:kT))===null||b===void 0?void 0:b.toString))&&(w=y+"",o.push({start:c.length+d.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":w)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((h,g)=>{const v=" ".repeat(g.start-c),b="^".repeat(g.length);return c=g.start+g.length,h+v+b},"");throw new Vn(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${d}`)}return a},id=mhe(W2);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K2 extends H2{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=uh(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new Vn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Vn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(id`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(id`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(id`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=uh(o,["api_version"]);return this._client.get(id`/${a}/interactions/${t}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}K2._key=Object.freeze(["interactions"]);class J2 extends K2{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ghe(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let od;function sx(e){let t;return(od??(t=new globalThis.TextEncoder,od=t.encode.bind(t)))(e)}let ad;function TT(e){let t;return(ad??(t=new globalThis.TextDecoder,ad=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Op{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?sx(t):t;this.buffer=ghe([this.buffer,n]);const r=[];let i;for(;(i=vhe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(TT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=TT(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Op.NEWLINE_CHARS=new Set([`
`,"\r"]);Op.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function vhe(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function yhe(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ch={off:0,error:200,warn:300,info:400,debug:500},AT=(e,t,n)=>{if(e){if(Xfe(ch,e))return e;Kt(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(ch))}`)}};function Sl(){}function sd(e,t,n){return!t||ch[e]>ch[n]?Sl:t[e].bind(t)}const bhe={error:Sl,warn:Sl,info:Sl,debug:Sl};let CT=new WeakMap;function Kt(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return bhe;const i=CT.get(n);if(i&&i[0]===r)return i[1];const o={error:sd("error",n,r),warn:sd("warn",n,r),info:sd("info",n,r),debug:sd("debug",n,r)};return CT.set(n,[r,o]),o}const so=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ia{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?Kt(r):console;function a(){return sr(this,arguments,function*(){var l,u,c,d;if(i)throw new Vn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,v=lr(xhe(t,n)),b;b=yield ge(v.next()),l=b.done,!l;g=!0){d=b.value,g=!1;const y=d;if(!h)if(y.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield ge(JSON.parse(y.data))}catch(w){throw o.error("Could not parse message into JSON:",y.data),o.error("From chunk:",y.raw),w}}}catch(y){u={error:y}}finally{try{!g&&!l&&(c=v.return)&&(yield ge(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(y){if(Fy(y))return yield ge(void 0);throw y}finally{h||n.abort()}})}return new Ia(a,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return sr(this,arguments,function*(){var l,u,c,d;const h=new Op,g=V2(t);try{for(var v=!0,b=lr(g),y;y=yield ge(b.next()),l=y.done,!l;v=!0){d=y.value,v=!1;const w=d;for(const x of h.decode(w))yield yield ge(x)}}catch(w){u={error:w}}finally{try{!v&&!l&&(c=b.return)&&(yield ge(c.call(b)))}finally{if(u)throw u.error}}for(const w of h.flush())yield yield ge(w)})}function a(){return sr(this,arguments,function*(){var l,u,c,d;if(i)throw new Vn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,v=lr(o()),b;b=yield ge(v.next()),l=b.done,!l;g=!0){d=b.value,g=!1;const y=d;h||y&&(yield yield ge(JSON.parse(y)))}}catch(y){u={error:y}}finally{try{!g&&!l&&(c=v.return)&&(yield ge(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(y){if(Fy(y))return yield ge(void 0);throw y}finally{h||n.abort()}})}return new Ia(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();t.push(a),n.push(a)}return o.shift()}});return[new Ia(()=>i(t),this.controller,this.client),new Ia(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return z2({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=sx(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function xhe(e,t){return sr(this,arguments,function*(){var r,i,o,a;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Vn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Vn("Attempted to iterate over a response with no body");const s=new _he,l=new Op,u=V2(e.body);try{for(var c=!0,d=lr(whe(u)),h;h=yield ge(d.next()),r=h.done,!r;c=!0){a=h.value,c=!1;const g=a;for(const v of l.decode(g)){const b=s.decode(v);b&&(yield yield ge(b))}}}catch(g){i={error:g}}finally{try{!c&&!r&&(o=d.return)&&(yield ge(o.call(d)))}finally{if(i)throw i.error}}for(const g of l.flush()){const v=s.decode(g);v&&(yield yield ge(v))}})}function whe(e){return sr(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=lr(e),u;u=yield ge(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?sx(c):c;let h=new Uint8Array(a.length+d.length);h.set(a),h.set(d,a.length),a=h;let g;for(;(g=yhe(a))!==-1;)yield yield ge(a.slice(0,g)),a=a.slice(g)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield ge(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield ge(a))})}class _he{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=She(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function She(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ehe(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,a=await(async()=>{var s;if(t.options.stream)return Kt(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ia.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Kt(e).debug(`[${r}] response parsed`,so({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lx extends Promise{constructor(t,n,r=Ehe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new lx(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y2=Symbol("brand.privateNullableHeaders");function*khe(e){if(!e)return;if(Y2 in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():_T(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=_T(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const gl=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,a]of khe(r)){const s=o.toLowerCase();i.has(s)||(t.delete(o),i.add(s)),a===null?(t.delete(o),n.add(s)):(t.append(o,a),n.delete(s))}}return{[Y2]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wm=e=>{var t,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(t=qae)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var X2;class Rp{constructor(t){var n,r,i,o,a,s,l,{baseURL:u=Wm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Wm("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=t,h=uh(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:c,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:Rp.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(a=(o=AT(g.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:AT(Wm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:v,this.fetchOptions=g.fetchOptions,this.maxRetries=(s=g.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:ohe(),this.encoder=lhe,this._options=g,this.apiKey=c,this.apiVersion=d,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=gl([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return gl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return gl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Vn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ua}`}defaultIdempotencyKey(){return`stainless-node-retry-${Gfe()}`}makeStatusError(t,n,r,i){return en.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Wfe(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return Yfe(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new lx(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,a;const s=await t,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:d}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(Kt(this).debug(`[${h}] sending request`,so({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new zy;const b=new AbortController,y=await this.fetchWithTimeout(c,u,d,b).catch(By),w=Date.now();if(y instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new zy;const k=Fy(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(n)return Kt(this).info(`[${h}] connection ${k?"timed out":"failed"} - ${_}`),Kt(this).debug(`[${h}] connection ${k?"timed out":"failed"} (${_})`,so({retryOfRequestLogID:r,url:c,durationMs:w-v,message:y.message})),this.retryRequest(s,n,r??h);throw Kt(this).info(`[${h}] connection ${k?"timed out":"failed"} - error; no more retries left`),Kt(this).debug(`[${h}] connection ${k?"timed out":"failed"} (error; no more retries left)`,so({retryOfRequestLogID:r,url:c,durationMs:w-v,message:y.message})),k?new R2:new Np({cause:y})}const x=`[${h}${g}] ${u.method} ${c} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${w-v}ms`;if(!y.ok){const _=await this.shouldRetry(y);if(n&&_){const C=`retrying, ${n} attempts remaining`;return await she(y.body),Kt(this).info(`${x} - ${C}`),Kt(this).debug(`[${h}] response error (${C})`,so({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:w-v})),this.retryRequest(s,n,r??h,y.headers)}const k=_?"error; no more retries left":"error; not retryable";Kt(this).info(`${x} - ${k}`);const E=await y.text().catch(C=>By(C).message),S=Zfe(E),T=S?void 0:E;throw Kt(this).debug(`[${h}] response error (${k})`,so({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,message:T,durationMs:Date.now()-v})),this.makeStatusError(y.status,S,T,y.headers)}return Kt(this).info(x),Kt(this).debug(`[${h}] response start`,so({retryOfRequestLogID:r,url:y.url,status:y.status,headers:y.headers,durationMs:w-v})),{response:y,options:s,controller:b,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:a,method:s}=o,l=uh(o,["signal","method"]),u=this._makeAbort(i);a&&a.addEventListener("abort",u,{once:!0});const c=setTimeout(u,r),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);s&&(h.method=s.toUpperCase());try{return await this.fetch.call(void 0,t,h)}finally{clearTimeout(c)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await ehe(a),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},t),{method:s,path:l,query:u,defaultBaseURL:c}=a,d=this.buildURL(l,u,c);"timeout"in a&&Qfe("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:a}),v=await this.buildHeaders({options:t,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:v},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:a.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const a=await this.authHeaders(t);let s=gl([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),ihe()),this._options.defaultHeaders,r,t.headers,a]);return this.validateHeaders(s),s.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=gl([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:ahe(t)}:typeof t=="object"&&r.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(t)}:this.encoder({body:t,headers:r})}}Rp.DEFAULT_TIMEOUT=6e4;class Nt extends Rp{constructor(){super(...arguments),this.interactions=new J2(this)}}X2=Nt;Nt.GeminiNextGenAPIClient=X2;Nt.GeminiNextGenAPIClientError=Vn;Nt.APIError=en;Nt.APIConnectionError=Np;Nt.APIConnectionTimeoutError=R2;Nt.APIUserAbortError=zy;Nt.NotFoundError=j2;Nt.ConflictError=L2;Nt.RateLimitError=F2;Nt.BadRequestError=M2;Nt.AuthenticationError=$2;Nt.InternalServerError=B2;Nt.PermissionDeniedError=D2;Nt.UnprocessableEntityError=U2;Nt.toFile=hhe;Nt.Interactions=J2;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function The(e,t){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function Ahe(e,t){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function Che(e,t){const n={},r=f(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function Phe(e,t){const n={},r=f(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function Ihe(e,t,n){const r={};if(f(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&p(t,["displayName"],i),f(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(e,["epochCount"]);t!==void 0&&o!=null&&p(t,["tuningTask","hyperparameters","epochCount"],o);const a=f(e,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(f(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(f(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const s=f(e,["batchSize"]);t!==void 0&&s!=null&&p(t,["tuningTask","hyperparameters","batchSize"],s);const l=f(e,["learningRate"]);if(t!==void 0&&l!=null&&p(t,["tuningTask","hyperparameters","learningRate"],l),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(f(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(f(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(f(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(f(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(f(e,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function Nhe(e,t,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const S=f(e,["validationDataset"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec"],Km(S))}else if(i==="PREFERENCE_TUNING"){const S=f(e,["validationDataset"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec"],Km(S))}else if(i==="DISTILLATION"){const S=f(e,["validationDataset"]);t!==void 0&&S!=null&&p(t,["distillationSpec"],Km(S))}const o=f(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&p(t,["tunedModelDisplayName"],o);const a=f(e,["description"]);t!==void 0&&a!=null&&p(t,["description"],a);let s=f(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const S=f(e,["epochCount"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(s==="PREFERENCE_TUNING"){const S=f(e,["epochCount"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}else if(s==="DISTILLATION"){const S=f(e,["epochCount"]);t!==void 0&&S!=null&&p(t,["distillationSpec","hyperParameters","epochCount"],S)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const S=f(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(l==="PREFERENCE_TUNING"){const S=f(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}else if(l==="DISTILLATION"){const S=f(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&p(t,["distillationSpec","hyperParameters","learningRateMultiplier"],S)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const S=f(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(u==="PREFERENCE_TUNING"){const S=f(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}else if(u==="DISTILLATION"){const S=f(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&p(t,["distillationSpec","exportLastCheckpointOnly"],S)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const S=f(e,["adapterSize"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(c==="PREFERENCE_TUNING"){const S=f(e,["adapterSize"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}else if(c==="DISTILLATION"){const S=f(e,["adapterSize"]);t!==void 0&&S!=null&&p(t,["distillationSpec","hyperParameters","adapterSize"],S)}let d=f(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const S=f(e,["tuningMode"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","tuningMode"],S)}const h=f(e,["customBaseModel"]);t!==void 0&&h!=null&&p(t,["customBaseModel"],h);let g=f(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const S=f(e,["batchSize"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","batchSize"],S)}let v=f(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const S=f(e,["learningRate"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRate"],S)}const b=f(e,["labels"]);t!==void 0&&b!=null&&p(t,["labels"],b);const y=f(e,["beta"]);t!==void 0&&y!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","beta"],y);const w=f(e,["baseTeacherModel"]);t!==void 0&&w!=null&&p(t,["distillationSpec","baseTeacherModel"],w);const x=f(e,["tunedTeacherModelSource"]);t!==void 0&&x!=null&&p(t,["distillationSpec","tunedTeacherModelSource"],x);const _=f(e,["sftLossWeightMultiplier"]);t!==void 0&&_!=null&&p(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],_);const k=f(e,["outputUri"]);t!==void 0&&k!=null&&p(t,["outputUri"],k);const E=f(e,["encryptionSpec"]);return t!==void 0&&E!=null&&p(t,["encryptionSpec"],E),r}function Ohe(e,t){const n={},r=f(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(e,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(e,["trainingDataset"]);o!=null&&Vhe(o);const a=f(e,["config"]);return a!=null&&Ihe(a,n),n}function Rhe(e,t){const n={},r=f(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=f(e,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=f(e,["trainingDataset"]);o!=null&&qhe(o,n,t);const a=f(e,["config"]);return a!=null&&Nhe(a,n,t),n}function Mhe(e,t){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function $he(e,t){const n={},r=f(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function Dhe(e,t,n){const r={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const o=f(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const a=f(e,["filter"]);return t!==void 0&&a!=null&&p(t,["_query","filter"],a),r}function jhe(e,t,n){const r={},i=f(e,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const o=f(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const a=f(e,["filter"]);return t!==void 0&&a!=null&&p(t,["_query","filter"],a),r}function Lhe(e,t){const n={},r=f(e,["config"]);return r!=null&&Dhe(r,n),n}function Uhe(e,t){const n={},r=f(e,["config"]);return r!=null&&jhe(r,n),n}function Fhe(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(e,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Q2(s))),p(n,["tuningJobs"],a)}return n}function Bhe(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=f(e,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Gy(s))),p(n,["tuningJobs"],a)}return n}function zhe(e,t){const n={},r=f(e,["name"]);r!=null&&p(n,["model"],r);const i=f(e,["name"]);return i!=null&&p(n,["endpoint"],i),n}function Vhe(e,t){const n={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function qhe(e,t,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=f(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=f(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(i==="DISTILLATION"){const a=f(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["distillationSpec","promptDatasetUri"],a)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=f(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=f(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(o==="DISTILLATION"){const a=f(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["distillationSpec","promptDatasetUri"],a)}if(f(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Q2(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["name"]);i!=null&&p(n,["name"],i);const o=f(e,["state"]);o!=null&&p(n,["state"],p2(o));const a=f(e,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(e,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=f(e,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=f(e,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(e,["description"]);c!=null&&p(n,["description"],c);const d=f(e,["baseModel"]);d!=null&&p(n,["baseModel"],d);const h=f(e,["_self"]);return h!=null&&p(n,["tunedModel"],zhe(h)),n}function Gy(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["name"]);i!=null&&p(n,["name"],i);const o=f(e,["state"]);o!=null&&p(n,["state"],p2(o));const a=f(e,["createTime"]);a!=null&&p(n,["createTime"],a);const s=f(e,["startTime"]);s!=null&&p(n,["startTime"],s);const l=f(e,["endTime"]);l!=null&&p(n,["endTime"],l);const u=f(e,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=f(e,["error"]);c!=null&&p(n,["error"],c);const d=f(e,["description"]);d!=null&&p(n,["description"],d);const h=f(e,["baseModel"]);h!=null&&p(n,["baseModel"],h);const g=f(e,["tunedModel"]);g!=null&&p(n,["tunedModel"],g);const v=f(e,["preTunedModel"]);v!=null&&p(n,["preTunedModel"],v);const b=f(e,["supervisedTuningSpec"]);b!=null&&p(n,["supervisedTuningSpec"],b);const y=f(e,["preferenceOptimizationSpec"]);y!=null&&p(n,["preferenceOptimizationSpec"],y);const w=f(e,["distillationSpec"]);w!=null&&p(n,["distillationSpec"],w);const x=f(e,["tuningDataStats"]);x!=null&&p(n,["tuningDataStats"],x);const _=f(e,["encryptionSpec"]);_!=null&&p(n,["encryptionSpec"],_);const k=f(e,["partnerModelTuningSpec"]);k!=null&&p(n,["partnerModelTuningSpec"],k);const E=f(e,["customBaseModel"]);E!=null&&p(n,["customBaseModel"],E);const S=f(e,["experiment"]);S!=null&&p(n,["experiment"],S);const T=f(e,["labels"]);T!=null&&p(n,["labels"],T);const A=f(e,["outputUri"]);A!=null&&p(n,["outputUri"],A);const C=f(e,["pipelineJob"]);C!=null&&p(n,["pipelineJob"],C);const N=f(e,["serviceAccount"]);N!=null&&p(n,["serviceAccount"],N);const R=f(e,["tunedModelDisplayName"]);R!=null&&p(n,["tunedModelDisplayName"],R);const M=f(e,["veoTuningSpec"]);return M!=null&&p(n,["veoTuningSpec"],M),n}function Ghe(e,t){const n={},r=f(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=f(e,["name"]);i!=null&&p(n,["name"],i);const o=f(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=f(e,["done"]);a!=null&&p(n,["done"],a);const s=f(e,["error"]);return s!=null&&p(n,["error"],s),n}function Km(e,t){const n={},r=f(e,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=f(e,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hhe extends si{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new qo(ei.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Oy.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=$he(t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Gy(c))}else{const u=Mhe(t);return s=Q("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Q2(c))}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Uhe(t);return s=Q("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Bhe(c),h=new tT;return Object.assign(h,d),h})}else{const u=Lhe(t);return s=Q("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Fhe(c),h=new tT;return Object.assign(h,d),h})}}async cancel(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ahe(t);return s=Q("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Phe(c),h=new nT;return Object.assign(h,d),h})}else{const u=The(t);return s=Q("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const d=Che(c),h=new nT;return Object.assign(h,d),h})}}async tuneInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Rhe(t,t);return o=Q("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Gy(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ohe(t);return o=Q("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Ghe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Whe{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Khe=1024*1024*8,Jhe=3,Yhe=1e3,Xhe=2,dh="x-goog-upload-status";async function Qhe(e,t,n){var r;const i=await Z2(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[dh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Zhe(e,t,n){var r;const i=await Z2(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[dh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=l2(o),s=new tx;return Object.assign(s,a),s}async function Z2(e,t,n){var r,i;let o=0,a=0,s=new My(new Response),l="upload";for(o=e.size;a<o;){const u=Math.min(Khe,o-a),c=e.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=Yhe;for(;d<Jhe&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[dh]));)d++,await tpe(h),h=h*Xhe;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[dh])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function epe(e){return{size:e.size,type:e.type}}function tpe(e){return new Promise(t=>setTimeout(t,e))}class npe{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Qhe(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Zhe(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await epe(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rpe{create(t,n,r){return new ipe(t,n,r)}}class ipe{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PT="x-goog-api-key";class ope{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(PT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(PT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ape="gl-node/";class spe{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new Nt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(t=n==null?void 0:n.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=r.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=Kae(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new ope(this.apiKey);this.apiClient=new efe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ape+"web",uploader:new npe,downloader:new Whe}),this.models=new bfe(this.apiClient),this.live=new hfe(this.apiClient,i,new rpe),this.batches=new kle(this.apiClient),this.chats=new aue(this.models,this.apiClient),this.caches=new rue(this.apiClient),this.files=new yue(this.apiClient),this.operations=new xfe(this.apiClient),this.authTokens=new Dfe(this.apiClient),this.tunings=new Hhe(this.apiClient),this.fileSearchStores=new qfe(this.apiClient)}}var IT={};const NT=IT.API_KEY||IT.VITE_API_KEY,OT=NT?new spe({apiKey:NT}):null,lpe=async e=>{if(!OT)return console.warn("Gemini API key not configured"),"Insights indisponveis - configure a chave de API do Gemini.";try{return(await OT.models.generateContent({model:"gemini-3-flash-preview",contents:`Analise as seguintes mtricas do SaaS BOOKI e fornea um resumo executivo de 3 frases com recomendaes: ${JSON.stringify(e)}`,config:{systemInstruction:"Voc  um consultor de negcios snior especializado em SaaS. Responda em Portugus do Brasil."}})).text}catch(t){return console.error("Erro ao obter insights do Gemini:",t),"No foi possvel gerar insights no momento. Verifique sua conexo ou chave de API."}},upe=({theme:e})=>{const[t,n]=O.useState({companies:0,professionals:0,bookings:0,revenue:0}),[r,i]=O.useState("Analisando o ecossistema..."),[o,a]=O.useState(!1);O.useEffect(()=>{(async()=>{const{count:u}=await re.from("companies").select("*",{count:"exact",head:!0}),{count:c}=await re.from("profiles").select("*",{count:"exact",head:!0}).eq("role","PROFESSIONAL"),{count:d}=await re.from("bookings").select("*",{count:"exact",head:!0}),h={companies:u||0,professionals:c||0,bookings:d||0,revenue:(u||0)*49.9};n(h);const g=await lpe(h);i(g||"Insights indisponveis no momento."),setTimeout(()=>a(!0),100)})()},[]);const s=({title:l,value:u,icon:c,color:d})=>m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 md:p-8 rounded-[2rem] shadow-sm border border-slate-200 dark:border-slate-800 hover:shadow-xl dark:hover:shadow-indigo-900/10 transition-all duration-300",children:[m.jsx("div",{className:`p-4 rounded-2xl ${d} w-fit mb-6`,children:m.jsx(c,{size:24,className:"text-white"})}),m.jsx("h3",{className:"text-slate-400 dark:text-slate-500 text-[10px] font-black uppercase tracking-[0.2em]",children:l}),m.jsx("p",{className:"text-3xl font-black text-black dark:text-white mt-1 tracking-tighter",children:u})]});return m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 md:gap-6",children:[m.jsx(s,{title:"Empresas SaaS",value:t.companies,icon:HC,color:"bg-indigo-600"}),m.jsx(s,{title:"Profissionais",value:t.professionals,icon:_a,color:"bg-violet-600"}),m.jsx(s,{title:"Agendamentos",value:t.bookings,icon:Q$,color:"bg-purple-600"}),m.jsx(s,{title:"MRR Estimado",value:`R$ ${t.revenue.toFixed(2)}`,icon:XC,color:"bg-fuchsia-600"})]}),m.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 lg:gap-8",children:[m.jsxs("div",{className:"xl:col-span-2 bg-white dark:bg-slate-900 p-6 md:p-10 rounded-[2.5rem] shadow-sm border border-slate-200 dark:border-slate-800 min-h-[450px] flex flex-col transition-colors",children:[m.jsx("h2",{className:"text-xl font-black text-black dark:text-white mb-8 tracking-tighter",children:"Fluxo Global"}),m.jsx("div",{className:"flex-1 w-full min-h-[300px] relative",children:o?m.jsx(NI,{width:"100%",height:300,children:m.jsxs(Mae,{data:[{name:"Ago",v:2400},{name:"Set",v:3e3},{name:"Out",v:2800},{name:"Nov",v:3900},{name:"Dez",v:4800},{name:"Jan",v:t.bookings||5e3}],margin:{top:10,right:10,left:-20,bottom:0},children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"colorV",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#6366F1",stopOpacity:.2}),m.jsx("stop",{offset:"95%",stopColor:"#6366F1",stopOpacity:0})]})}),m.jsx(UO,{strokeDasharray:"3 3",vertical:!1,stroke:e==="dark"?"#1e293b":"#f1f5f9"}),m.jsx(kp,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:800}}),m.jsx(Tp,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:800}}),m.jsx(er,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",fontWeight:900,backgroundColor:e==="dark"?"#0f172a":"#fff",color:e==="dark"?"#fff":"#000"},cursor:{stroke:"#6366F1",strokeWidth:2}}),m.jsx(qi,{type:"monotone",dataKey:"v",stroke:"#6366F1",fillOpacity:1,fill:"url(#colorV)",strokeWidth:4,animationDuration:1500})]})}):m.jsx("div",{className:"w-full h-[300px] bg-slate-50 dark:bg-slate-800 rounded-3xl animate-pulse flex items-center justify-center",children:m.jsx("p",{className:"text-[10px] font-black text-slate-300 dark:text-slate-600 uppercase tracking-widest",children:"Preparando Grfico..."})})})]}),m.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-800 dark:from-indigo-800 dark:to-slate-900 p-8 rounded-[2.5rem] text-white relative overflow-hidden flex flex-col justify-between shadow-2xl transition-colors",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6 bg-white/10 w-fit px-4 py-1.5 rounded-full backdrop-blur-md border border-white/10",children:[m.jsx(yD,{size:16}),m.jsx("h3",{className:"font-black text-[10px] uppercase tracking-widest",children:"IA Insight Master"})]}),m.jsxs("p",{className:"text-indigo-50 text-xl font-bold leading-tight italic",children:['"',r,'"']})]}),m.jsxs("div",{className:"bg-black/20 p-6 rounded-3xl backdrop-blur-md border border-white/10 relative z-10 mt-8",children:[m.jsx("p",{className:"text-[10px] uppercase font-black text-indigo-200 tracking-[0.2em] mb-2",children:"Recomendao"}),m.jsx("p",{className:"text-sm font-bold",children:"Considere implementar uma campanha de upgrade para empresas com alta densidade de agendamentos."})]}),m.jsx(QC,{className:"absolute -right-16 -bottom-16 opacity-10",size:300})]})]})]})},cpe=()=>{const[e,t]=O.useState(""),[n,r]=O.useState([]),[i,o]=O.useState([]),[a,s]=O.useState(!0),[l,u]=O.useState(!1),[c,d]=O.useState(!1),[h,g]=O.useState(!1),[v,b]=O.useState(null),[y,w]=O.useState(null),[x,_]=O.useState({name:"",responsible_name:"",phone:"",address:"",owner_email:"",access_password:"",category:"Barbearia",plan:"",logo_url:""}),[k,E]=O.useState(null),[S,T]=O.useState(!1);O.useEffect(()=>{R(),N()},[]);const A=P=>{const j=P.target.value;_({...x,logo_url:j}),E(j||null)},C=P=>{P&&E(P)},N=async()=>{const{data:P}=await re.from("plans").select("name").eq("status","ACTIVE");P&&o(P)},R=async()=>{s(!0);const{data:P,error:j}=await re.from("companies").select("*").order("created_at",{ascending:!1});j?console.error("Erro ao buscar empresas:",j.message):P&&r(P),s(!1)},M=()=>{g(!1),b(null),_({name:"",responsible_name:"",phone:"",address:"",owner_email:"",access_password:"",category:"Barbearia",plan:i.length>0?i[0].name:"",logo_url:""}),E(null),u(!0)},L=P=>{g(!0),b(P.id),_({name:P.name||"",responsible_name:P.responsible_name||"",phone:P.phone||"",address:P.address||"",owner_email:P.owner_email||"",access_password:P.access_password||"",category:P.category||"Barbearia",plan:P.plan||"",logo_url:P.logo_url||""}),E(P.logo_url||null),u(!0)},$=P=>{w(P),d(!0)},D=async P=>{if(P.preventDefault(),!/^(?=.*[a-zA-Z])(?=.*[0-9]).{8,}$/.test(x.access_password)){alert("Segurana: A senha deve ter no mnimo 8 caracteres e conter pelo menos uma letra e um nmero.");return}if(!x.plan&&i.length>0){alert("Por favor, selecione um plano para a empresa.");return}T(!0);try{const z={name:x.name,responsible_name:x.responsible_name,phone:x.phone,address:x.address,owner_email:x.owner_email,access_password:x.access_password,category:x.category,plan:x.plan,logo_url:x.logo_url||null,status:h?void 0:"ACTIVE"};let J;if(h&&v){const{error:G}=await re.from("companies").update(z).eq("id",v);J=G}else{const{error:G}=await re.from("companies").insert([z]);J=G}if(J)throw J;u(!1),E(null),await R()}catch(z){alert("Erro ao processar: "+z.message)}finally{T(!1)}},U=async(P,j)=>{const z=j==="ACTIVE"?"INACTIVE":"ACTIVE",{error:J}=await re.from("companies").update({status:z}).eq("id",P);J?alert("Erro ao alterar status: "+J.message):R()},V=async()=>{if(!y)return;T(!0);const{error:P}=await re.from("companies").delete().eq("id",y.id);P?alert("Erro ao excluir: "+P.message):(d(!1),w(null),R()),T(!1)};return m.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[m.jsxs("div",{className:"relative flex-1 group",children:[m.jsx(mD,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"Buscar por nome ou e-mail...",value:e,onChange:P=>t(P.target.value),className:"w-full pl-11 pr-4 py-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[1.25rem] outline-none focus:ring-4 focus:ring-indigo-50 dark:focus:ring-indigo-900/20 font-medium text-sm transition-all shadow-sm dark:text-white dark:placeholder:text-slate-700"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:R,className:"p-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-[1.25rem] hover:bg-slate-50 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-all flex items-center justify-center shadow-sm",children:m.jsx(lu,{size:20,className:a?"animate-spin":""})}),m.jsxs("button",{onClick:M,className:"flex items-center justify-center gap-2 px-8 py-4 bg-indigo-600 text-white rounded-[1.25rem] hover:bg-indigo-700 active:scale-95 transition-all text-sm font-black shadow-lg shadow-indigo-100 dark:shadow-none w-full md:w-auto",children:[m.jsx(Ch,{size:20})," Nova Empresa"]})]})]}),m.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden transition-colors",children:m.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:m.jsxs("table",{className:"w-full text-left min-w-[900px]",children:[m.jsx("thead",{className:"bg-slate-50/50 dark:bg-slate-800/50 border-b border-slate-100 dark:border-slate-800",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-8 py-6 text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em]",children:"Empresa & Responsvel"}),m.jsx("th",{className:"px-8 py-6 text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em]",children:"Segmento"}),m.jsx("th",{className:"px-8 py-6 text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em]",children:"Status SaaS"}),m.jsx("th",{className:"px-8 py-6 text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.15em] text-right",children:"Controle"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800",children:[n.filter(P=>{var j;return P.name.toLowerCase().includes(e.toLowerCase())||((j=P.owner_email)==null?void 0:j.toLowerCase().includes(e.toLowerCase()))}).map(P=>{var j;return m.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/30 transition-colors group",children:[m.jsx("td",{className:"px-8 py-6",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center font-black text-lg shadow-inner group-hover:scale-110 transition-transform overflow-hidden ${P.status==="INACTIVE"?"bg-slate-100 dark:bg-slate-800 text-slate-400":"bg-indigo-50 dark:bg-indigo-950 text-indigo-600 dark:text-indigo-400"}`,children:P.logo_url?m.jsx("img",{src:P.logo_url,alt:P.name,className:"w-full h-full object-cover"}):((j=P.name)==null?void 0:j.charAt(0))||"B"}),m.jsxs("div",{children:[m.jsx("p",{className:`text-sm font-black leading-none mb-1 ${P.status==="INACTIVE"?"text-slate-400 dark:text-slate-600 line-through":"text-slate-900 dark:text-white"}`,children:P.name}),m.jsxs("p",{className:"text-[11px] text-slate-400 dark:text-slate-500 font-bold uppercase tracking-tight flex items-center gap-1",children:[m.jsx(Qd,{size:10})," ",P.responsible_name||"Admin","  ",m.jsx(Ri,{size:10,className:"ml-1"})," ",P.plan||"Sem Plano"]})]})]})}),m.jsx("td",{className:"px-8 py-6",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-2 h-2 rounded-full ${P.status==="INACTIVE"?"bg-slate-300 dark:bg-slate-700":"bg-indigo-400"}`}),m.jsx("span",{className:`text-xs font-black uppercase ${P.status==="INACTIVE"?"text-slate-400 dark:text-slate-600":"text-slate-600 dark:text-slate-300"}`,children:P.category})]})}),m.jsx("td",{className:"px-8 py-6",children:m.jsxs("button",{onClick:()=>U(P.id,P.status),className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[10px] font-black uppercase tracking-wider transition-all hover:scale-105 active:scale-95 ${P.status==="ACTIVE"?"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900/50":"bg-rose-50 dark:bg-rose-950/30 text-rose-600 dark:text-rose-400 border border-rose-100 dark:border-rose-900/50"}`,children:[P.status==="ACTIVE"?m.jsx(jr,{size:12}):m.jsx(fD,{size:12}),P.status||"Ativo"]})}),m.jsx("td",{className:"px-8 py-6 text-right",children:m.jsxs("div",{className:"flex items-center justify-end gap-1",children:[m.jsx("button",{onClick:()=>L(P),className:"p-2.5 text-slate-400 dark:text-slate-500 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-xl transition-all",title:"Editar Informaes",children:m.jsx(Hg,{size:18})}),m.jsx("button",{onClick:()=>U(P.id,P.status),className:`p-2.5 rounded-xl transition-all ${P.status==="ACTIVE"?"text-slate-400 dark:text-slate-500 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-950/30":"text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/30"}`,title:P.status==="ACTIVE"?"Inativar Empresa":"Ativar Empresa",children:m.jsx(hD,{size:18})}),m.jsx("button",{onClick:()=>$(P),className:"p-2.5 text-slate-300 dark:text-slate-600 hover:text-rose-600 hover:bg-rose-100 dark:hover:bg-rose-950/50 rounded-xl transition-all",title:"Excluir Permanentemente",children:m.jsx(ED,{size:18})})]})})]},P.id)}),n.length===0&&!a&&m.jsx("tr",{children:m.jsx("td",{colSpan:4,className:"py-20 text-center text-slate-400 dark:text-slate-600 font-bold uppercase text-xs tracking-widest",children:"Nenhuma empresa encontrada."})})]})]})})}),c&&m.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsx("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] shadow-2xl animate-in zoom-in-95 duration-300 overflow-hidden border border-white/20 dark:border-slate-800",children:m.jsxs("div",{className:"p-10 text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-950/50 text-rose-500 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-rose-100/50 dark:shadow-none",children:m.jsx(B0,{size:40})}),m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter mb-2",children:"Confirmar Excluso?"}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium leading-relaxed px-4",children:["Voc est prestes a excluir ",m.jsxs("span",{className:"text-slate-900 dark:text-slate-200 font-black",children:['"',y==null?void 0:y.name,'"']}),". Esta ao  irreversvel e remover todos os dados vinculados."]}),m.jsxs("div",{className:"mt-10 flex flex-col gap-3",children:[m.jsx("button",{onClick:V,disabled:S,className:"w-full bg-rose-600 text-white py-4 rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-rose-700 transition-all shadow-xl shadow-rose-100 dark:shadow-none flex items-center justify-center gap-2",children:S?m.jsx(lu,{className:"animate-spin",size:18}):m.jsxs(m.Fragment,{children:["Sim, Excluir Agora ",m.jsx(cu,{size:18})]})}),m.jsx("button",{onClick:()=>d(!1),className:"w-full bg-slate-50 dark:bg-slate-800 text-slate-400 dark:text-slate-500 py-4 rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-slate-100 dark:hover:bg-slate-750 transition-all",children:"Cancelar"})]})]})})}),l&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-6 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-xl rounded-[2.5rem] shadow-2xl animate-in zoom-in-95 slide-in-from-bottom-4 duration-300 overflow-hidden flex flex-col border border-white/20 dark:border-slate-800",children:[m.jsxs("div",{className:"relative p-8 pb-4 flex justify-between items-start",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-white shadow-xl ${h?"bg-amber-500 shadow-amber-100":"bg-indigo-600 shadow-indigo-100"} dark:shadow-none`,children:h?m.jsx(Hg,{size:28}):m.jsx(Sw,{size:28})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter",children:h?"Editar Empresa":"Nova Empresa"}),m.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm font-bold uppercase tracking-widest mt-1",children:"Configurao do SaaS"})]})]}),m.jsx("button",{onClick:()=>u(!1),className:"p-3 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-all text-slate-400 hover:text-slate-900 dark:hover:text-white",children:m.jsx(Rr,{size:24})})]}),m.jsxs("form",{onSubmit:D,className:"p-8 pt-4 space-y-6 overflow-y-auto max-h-[75vh]",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Nome da Empresa"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Sw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.name,onChange:P=>_({...x,name:P.target.value}),placeholder:"Ex: Barber Shop Pro"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Responsvel"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Qd,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.responsible_name,onChange:P=>_({...x,responsible_name:P.target.value}),placeholder:"Nome do Dono"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"URL da Logomarca"}),m.jsxs("div",{className:"relative group",children:[k&&m.jsxs("div",{className:"mb-4 flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700",children:[m.jsx("img",{src:k,alt:"Logo Preview",className:"w-16 h-16 object-contain rounded-lg bg-white dark:bg-slate-900 p-2"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:"Preview da Logo"}),m.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 truncate mt-1 font-mono",children:k})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Z$,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{type:"url",className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.logo_url,onChange:A,onBlur:P=>C(P.target.value),placeholder:"https://exemplo.com/logo.png"})]}),m.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-600 font-medium mt-2",children:"Cole aqui a URL da logomarca (recomendado: PNG ou JPG)"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"E-mail de Acesso"}),m.jsxs("div",{className:"relative group",children:[m.jsx(JC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,type:"email",className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.owner_email,onChange:P=>_({...x,owner_email:P.target.value}),placeholder:"email@acesso.com"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Senha de Acesso"}),m.jsxs("div",{className:"relative group",children:[m.jsx(au,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,type:"password",className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.access_password,onChange:P=>_({...x,access_password:P.target.value}),placeholder:"Mn. 8 chars, letras e nmeros"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Telefone / WhatsApp"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Xd,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.phone,onChange:P=>_({...x,phone:P.target.value}),placeholder:"(00) 00000-0000"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Segmento"}),m.jsxs("div",{className:"relative",children:[m.jsx(aD,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600",size:18}),m.jsxs("select",{className:"w-full pl-11 pr-10 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all appearance-none cursor-pointer dark:text-white",value:x.category,onChange:P=>_({...x,category:P.target.value}),children:[m.jsx("option",{children:"Barbearia"}),m.jsx("option",{children:"Salo de Beleza"}),m.jsx("option",{children:"Esttica"}),m.jsx("option",{children:"Esmalteria"})]}),m.jsx(Jd,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600 pointer-events-none",size:18})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Plano SaaS Associado"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Ri,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("select",{required:!0,className:"w-full pl-11 pr-10 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all appearance-none cursor-pointer disabled:opacity-50 dark:text-white",value:x.plan,onChange:P=>_({...x,plan:P.target.value}),disabled:i.length===0,children:i.length>0?m.jsxs(m.Fragment,{children:[m.jsx("option",{value:"",disabled:!0,children:"Selecione um plano"}),i.map((P,j)=>m.jsx("option",{value:P.name,children:P.name},j))]}):m.jsx("option",{value:"",children:"Nenhum plano ativo cadastrado"})}),m.jsx(Jd,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-600 pointer-events-none",size:18})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Endereo Completo"}),m.jsxs("div",{className:"relative group",children:[m.jsx(cD,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:x.address,onChange:P=>_({...x,address:P.target.value}),placeholder:"Rua, Nmero, Bairro, Cidade - UF"})]})]}),m.jsxs("div",{className:"pt-4",children:[m.jsx("button",{type:"submit",disabled:S,className:`w-full text-white py-5 rounded-[1.5rem] font-black text-lg active:scale-[0.98] transition-all shadow-2xl flex items-center justify-center gap-3 disabled:opacity-50 ${h?"bg-amber-500 hover:bg-amber-600 shadow-amber-100 dark:shadow-none":"bg-black dark:bg-indigo-600 hover:bg-indigo-600 shadow-indigo-100 dark:shadow-none"}`,children:S?m.jsx("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[h?"Salvar Alteraes":"Registrar Empresa"," ",m.jsx(z0,{size:22})]})}),m.jsxs("p",{className:"text-center text-[10px] text-slate-400 dark:text-slate-500 font-bold uppercase tracking-widest mt-4",children:[m.jsx(Xa,{size:12,className:"inline mr-1 mb-0.5"})," Segurana BOOKI Ativada"]})]})]})]})})]})},dpe=()=>{const[e,t]=O.useState([]),[n,r]=O.useState(!0),[i,o]=O.useState(!1),[a,s]=O.useState(!1),[l,u]=O.useState(!1),[c,d]=O.useState(!1),[h,g]=O.useState(null),[v,b]=O.useState(null),[y,w]=O.useState({name:"",price:"",status:"ACTIVE",features:""});O.useEffect(()=>{x()},[]);const x=async()=>{r(!0);const{data:A}=await re.from("plans").select("*").order("price",{ascending:!0});A&&t(A),r(!1)},_=()=>{d(!1),g(null),w({name:"",price:"",status:"ACTIVE",features:""}),o(!0)},k=A=>{d(!0),g(A.id),w({name:A.name,price:A.price.toString(),status:A.status,features:A.features?A.features.join(", "):""}),o(!0)},E=A=>{b(A),s(!0)},S=async()=>{if(!v)return;u(!0);const{error:A}=await re.from("plans").delete().eq("id",v.id);A?alert("Erro ao excluir: "+A.message):(s(!1),b(null),x()),u(!1)},T=async A=>{A.preventDefault(),u(!0);const C=y.features.split(",").map(R=>R.trim()).filter(R=>R!==""),N={name:y.name,price:parseFloat(y.price),status:y.status,features:C};try{if(c&&h){const{error:R}=await re.from("plans").update(N).eq("id",h);if(R)throw R}else{const{error:R}=await re.from("plans").insert([N]);if(R)throw R}o(!1),x()}catch(R){alert("Erro ao salvar plano: "+R.message)}finally{u(!1)}};return m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-10",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-black text-black dark:text-white tracking-tighter",children:"Planos SaaS"}),m.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 font-bold uppercase tracking-widest mt-1",children:"Gerencie os pacotes de assinatura BOOKI"})]}),m.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-8 py-4 bg-indigo-600 text-white rounded-[1.25rem] hover:bg-indigo-700 active:scale-95 transition-all text-sm font-black shadow-lg shadow-indigo-100 dark:shadow-none",children:[m.jsx(Ch,{size:20})," Novo Plano"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?[1,2,3].map(A=>m.jsx("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] border border-slate-100 dark:border-slate-800 animate-pulse h-80"},A)):e.map(A=>{var C;return m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] shadow-sm border border-slate-200 dark:border-slate-800 relative overflow-hidden group hover:shadow-xl dark:hover:shadow-indigo-900/10 transition-all border-b-4 border-b-transparent hover:border-b-indigo-500",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsx("div",{className:`p-4 rounded-2xl transition-transform group-hover:rotate-6 ${A.status==="ACTIVE"?"bg-indigo-50 dark:bg-indigo-950 text-indigo-600 dark:text-indigo-400":"bg-slate-100 dark:bg-slate-800 text-slate-400"}`,children:m.jsx(Ri,{size:24})}),m.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0",children:[m.jsx("button",{onClick:()=>k(A),className:"p-2.5 bg-indigo-50 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-300 hover:bg-indigo-600 hover:text-white rounded-xl transition-all",title:"Editar Plano",children:m.jsx(Aw,{size:16})}),m.jsx("button",{onClick:()=>E(A),className:"p-2.5 bg-rose-50 dark:bg-rose-900 text-rose-600 dark:text-rose-300 hover:bg-rose-600 hover:text-white rounded-xl transition-all",title:"Excluir Plano",children:m.jsx(cu,{size:16})})]})]}),m.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-1",children:A.name}),m.jsxs("div",{className:"flex items-baseline gap-1 mb-6 text-slate-900 dark:text-white",children:[m.jsx("span",{className:"text-sm font-black text-slate-400 dark:text-slate-500",children:"R$"}),m.jsx("span",{className:"text-4xl font-black text-indigo-600 dark:text-indigo-400 tracking-tighter",children:A.price.toFixed(2)}),m.jsx("span",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase",children:"/ ms"})]}),m.jsx("div",{className:"space-y-3 mb-8 min-h-[120px]",children:(C=A.features)==null?void 0:C.map((N,R)=>m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-5 h-5 bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600 dark:text-emerald-400 rounded-full flex items-center justify-center shrink-0",children:m.jsx(eD,{size:12,strokeWidth:4})}),m.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 line-clamp-1",children:N})]},R))}),m.jsx("button",{className:"w-full py-4 bg-slate-900 dark:bg-slate-800 text-white rounded-2xl font-black text-[10px] hover:bg-indigo-600 transition-all uppercase tracking-[0.2em]",children:"Gerenciar Assinantes"}),m.jsx("div",{className:"absolute top-0 right-0 p-4",children:m.jsx("span",{className:`text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-widest ${A.status==="ACTIVE"?"bg-emerald-50 dark:bg-emerald-950 text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900":"bg-rose-50 dark:bg-rose-950 text-rose-600 dark:text-rose-400 border border-rose-100 dark:border-rose-900"}`,children:A.status==="ACTIVE"?"Ativo":"Pausado"})})]},A.id)})}),a&&m.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsx("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] shadow-2xl animate-in zoom-in-95 duration-300 overflow-hidden border border-white/20 dark:border-slate-800",children:m.jsxs("div",{className:"p-10 text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-950/50 text-rose-500 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-rose-100/50 dark:shadow-none",children:m.jsx(B0,{size:40})}),m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter mb-2",children:"Excluir Plano?"}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium leading-relaxed px-4",children:["Voc tem certeza que deseja excluir o plano ",m.jsxs("span",{className:"text-slate-900 dark:text-slate-200 font-black",children:['"',v==null?void 0:v.name,'"']}),"? Esta ao pode impactar empresas que utilizam este plano."]}),m.jsxs("div",{className:"mt-10 flex flex-col gap-3",children:[m.jsx("button",{onClick:S,disabled:l,className:"w-full bg-rose-600 text-white py-4 rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-rose-700 transition-all shadow-xl shadow-rose-100 dark:shadow-none flex items-center justify-center gap-2",children:l?m.jsx(lu,{className:"animate-spin",size:18}):m.jsxs(m.Fragment,{children:["Sim, Excluir Plano ",m.jsx(cu,{size:18})]})}),m.jsx("button",{onClick:()=>s(!1),className:"w-full bg-slate-50 dark:bg-slate-800 text-slate-400 dark:text-slate-500 py-4 rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-slate-100 dark:hover:bg-slate-750 transition-all",children:"Cancelar"})]})]})})}),i&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-xl rounded-[2.5rem] shadow-2xl animate-in zoom-in-95 duration-300 overflow-hidden flex flex-col border border-white/20 dark:border-slate-800",children:[m.jsxs("div",{className:"p-8 pb-4 flex justify-between items-start",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-white shadow-xl ${c?"bg-amber-500 shadow-amber-100":"bg-indigo-600 shadow-indigo-100"} dark:shadow-none`,children:c?m.jsx(Aw,{size:28}):m.jsx(Ri,{size:28})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter",children:c?"Editar Plano":"Novo Plano SaaS"}),m.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs font-bold uppercase tracking-widest mt-1",children:"Configurao de Cobrana"})]})]}),m.jsx("button",{onClick:()=>o(!1),className:"p-3 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-all text-slate-400",children:m.jsx(Rr,{size:24})})]}),m.jsxs("form",{onSubmit:T,className:"p-8 pt-4 space-y-5",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Nome do Plano"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Ri,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:y.name,onChange:A=>w({...y,name:A.target.value}),placeholder:"Ex: Pro Plus"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Preo Mensal (R$)"}),m.jsxs("div",{className:"relative group",children:[m.jsx(ou,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("input",{required:!0,type:"number",step:"0.01",className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all dark:text-white dark:placeholder:text-slate-700",value:y.price,onChange:A=>w({...y,price:A.target.value}),placeholder:"99.90"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Funcionalidades (separadas por vrgula)"}),m.jsxs("div",{className:"relative group",children:[m.jsx(uD,{className:"absolute left-4 top-4 text-slate-300 dark:text-slate-600 group-focus-within:text-indigo-600 transition-colors",size:18}),m.jsx("textarea",{required:!0,rows:3,className:"w-full pl-11 pr-4 py-4 rounded-2xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 focus:border-indigo-500 dark:focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 outline-none font-bold text-sm transition-all resize-none dark:text-white dark:placeholder:text-slate-700",value:y.features,onChange:A=>w({...y,features:A.target.value}),placeholder:"Suporte 24h, Relatrios, Usurios ilimitados..."})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Status do Plano"}),m.jsx("div",{className:"flex gap-2",children:["ACTIVE","INACTIVE"].map(A=>m.jsx("button",{type:"button",onClick:()=>w({...y,status:A}),className:`flex-1 py-3 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all border ${y.status===A?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-100 dark:shadow-none":"bg-slate-50 dark:bg-slate-800 text-slate-400 dark:text-slate-500 border-slate-100 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-750"}`,children:A==="ACTIVE"?"Ativo (Vender)":"Pausado (Ocultar)"},A))})]}),m.jsxs("div",{className:"pt-4",children:[m.jsx("button",{type:"submit",disabled:l,className:`w-full text-white py-5 rounded-[1.5rem] font-black text-lg active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3 ${c?"bg-amber-500 shadow-amber-100 dark:shadow-none":"bg-black dark:bg-indigo-600 hover:bg-indigo-600 shadow-indigo-100 dark:shadow-none"}`,children:l?m.jsx("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[c?"Salvar Alteraes":"Criar Plano Agora"," ",m.jsx(z0,{size:22})]})}),m.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:[m.jsx(Xa,{size:12,className:"text-indigo-500"})," Processamento Seguro Master"]})]})]})]})})]})},fpe=()=>{const[e,t]=O.useState(!0),[n,r]=O.useState({totalMRR:0,activeCompanies:0,arpu:0,planDistribution:[]});O.useEffect(()=>{i()},[]);const i=async()=>{t(!0);try{const{data:s}=await re.from("companies").select("plan, status").eq("status","ACTIVE"),{data:l}=await re.from("plans").select("name, price");if(s&&l){const u=(l==null?void 0:l.reduce((g,v)=>({...g,[v.name]:v.price}),{}))||{};let c=0;const d={};s.forEach(g=>{const v=g.plan||"No Definido",b=u[v]||0;c+=b,d[v]||(d[v]={count:0,revenue:0}),d[v].count+=1,d[v].revenue+=b});const h=Object.entries(d).map(([g,v])=>({name:g,value:v.revenue,count:v.count}));r({totalMRR:c,activeCompanies:s.length,arpu:s.length>0?c/s.length:0,planDistribution:h})}}catch(s){console.error("Erro ao carregar dados financeiros:",s)}finally{t(!1)}},o=["#6366F1","#8B5CF6","#D946EF","#EC4899","#F43F5E"],a=({title:s,value:l,subtitle:u,icon:c,trend:d})=>m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] shadow-sm border border-slate-200 dark:border-slate-800 hover:shadow-xl dark:hover:shadow-indigo-900/10 transition-all duration-300 flex flex-col justify-between h-full",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsx("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-950 text-indigo-600 dark:text-indigo-400 rounded-2xl",children:m.jsx(c,{size:24})}),d&&m.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${d>0?"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600 dark:text-emerald-400":"bg-rose-50 dark:bg-rose-950/30 text-rose-600 dark:text-rose-400"}`,children:[d>0?m.jsx(Y$,{size:14}):m.jsx(J$,{size:14}),Math.abs(d),"%"]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-400 dark:text-slate-500 text-[10px] font-black uppercase tracking-[0.2em] mb-1",children:s}),m.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter",children:l}),m.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-bold uppercase tracking-tight mt-2",children:u})]})]});return m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{onClick:i,className:"p-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl hover:bg-slate-50 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-all shadow-sm flex items-center gap-2 text-[10px] font-black uppercase tracking-widest",children:[m.jsx(lu,{size:14,className:e?"animate-spin":""}),"Atualizar Dados"]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(a,{title:"Faturamento Mensal (MRR)",value:`R$ ${n.totalMRR.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,subtitle:"Receita recorrente global",icon:ou,trend:12.4}),m.jsx(a,{title:"Empresas Ativas",value:n.activeCompanies,subtitle:"Assinaturas pagas agora",icon:_a,trend:8.1}),m.jsx(a,{title:"ARPU (Ticket Mdio)",value:`R$ ${n.arpu.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,subtitle:"Receita mdia por empresa",icon:q0,trend:2.3})]}),m.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-10 rounded-[2.5rem] shadow-sm border border-slate-200 dark:border-slate-800 min-h-[500px] flex flex-col transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[m.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-100 dark:shadow-none",children:m.jsx(dD,{size:20})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-black text-slate-900 dark:text-white tracking-tighter",children:"Receita por Plano"}),m.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-bold uppercase tracking-widest",children:"Distribuio percentual do MRR"})]})]}),m.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:e?m.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[m.jsx("div",{className:"w-64 h-64 bg-slate-50 dark:bg-slate-800 rounded-full mb-4"}),m.jsx("div",{className:"h-4 w-32 bg-slate-50 dark:bg-slate-800 rounded-full"})]}):n.planDistribution.length>0?m.jsx(NI,{width:"100%",height:320,children:m.jsxs(Rae,{children:[m.jsx(ai,{data:n.planDistribution,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:8,dataKey:"value",children:n.planDistribution.map((s,l)=>m.jsx(tp,{fill:o[l%o.length],stroke:"none"},`cell-${l}`))}),m.jsx(er,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",fontWeight:900,backgroundColor:"#0f172a",color:"#fff"},formatter:s=>[`R$ ${s.toFixed(2)}`,"Receita"]}),m.jsx(So,{verticalAlign:"bottom",height:36,iconType:"circle"})]})}):m.jsxs("div",{className:"text-center py-20",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-300 dark:text-slate-700",children:m.jsx(ou,{size:32})}),m.jsx("p",{className:"text-slate-400 dark:text-slate-600 font-black text-xs uppercase tracking-widest",children:"Sem dados financeiros"})]})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-10 rounded-[2.5rem] shadow-sm border border-slate-200 dark:border-slate-800 h-full transition-colors",children:[m.jsxs("div",{className:"flex items-center justify-between mb-10",children:[m.jsx("h2",{className:"text-xl font-black text-slate-900 dark:text-white tracking-tighter",children:"Ranking de Assinaturas"}),m.jsxs("span",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-950 px-3 py-1.5 rounded-full uppercase tracking-widest",children:["Total: ",n.activeCompanies," empresas"]})]}),m.jsxs("div",{className:"space-y-4",children:[n.planDistribution.sort((s,l)=>l.value-s.value).map((s,l)=>m.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50/50 dark:bg-slate-800/20 rounded-3xl border border-transparent hover:border-indigo-100 dark:hover:border-indigo-900 hover:bg-indigo-50/20 dark:hover:bg-indigo-950/20 transition-all group",children:[m.jsxs("div",{className:"flex items-center gap-5",children:[m.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-white dark:bg-slate-800 flex flex-col items-center justify-center shadow-sm font-black text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform",children:[m.jsx("p",{className:"text-xs",children:s.count}),m.jsx("p",{className:"text-[8px] uppercase tracking-tighter",children:"Empresas"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-black text-slate-900 dark:text-white uppercase tracking-tighter",children:s.name}),m.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-bold uppercase tracking-widest mt-0.5",children:"SaaS Plan Tier"})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-lg font-black text-indigo-600 dark:text-indigo-400 tracking-tighter",children:["R$ ",s.value.toFixed(2)]}),m.jsx("p",{className:"text-[9px] text-slate-400 dark:text-slate-500 font-black uppercase tracking-widest",children:"Faturamento"})]})]},l)),n.planDistribution.length===0&&!e&&m.jsx("div",{className:"py-20 text-center",children:m.jsx("p",{className:"text-slate-300 dark:text-slate-700 font-black uppercase text-xs tracking-[0.2em]",children:"Aguardando dados de cobrana..."})})]}),m.jsx("div",{className:"mt-10 pt-8 border-t border-slate-100 dark:border-slate-800",children:m.jsxs("button",{className:"w-full py-5 bg-slate-900 dark:bg-slate-800 text-white rounded-2xl font-black text-[10px] hover:bg-indigo-600 transition-all uppercase tracking-[0.3em] flex items-center justify-center gap-3 shadow-xl dark:shadow-none",children:["Relatrios Completos ",m.jsx(qg,{size:18})]})})]})]})]})},hpe=()=>m.jsxs("div",{className:"max-w-4xl space-y-6",children:[m.jsxs("div",{className:"bg-indigo-600 rounded-[2.5rem] p-8 text-white shadow-2xl shadow-indigo-200 relative overflow-hidden",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"bg-white/20 p-2 rounded-xl backdrop-blur-md",children:m.jsx(Xa,{size:24})}),m.jsx("h2",{className:"text-xl font-black tracking-tighter uppercase",children:"Status de Segurana Master"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-5 rounded-3xl border border-white/10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-200",children:"Polticas RLS"}),m.jsx(jr,{size:16,className:"text-emerald-400"})]}),m.jsx("p",{className:"font-bold text-sm",children:"Proteo Ativa"}),m.jsx("p",{className:"text-[10px] text-indigo-100 mt-1 uppercase",children:"Apenas o Master Admin tem acesso total."})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-5 rounded-3xl border border-white/10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-200",children:"Autenticao"}),m.jsx(jr,{size:16,className:"text-emerald-400"})]}),m.jsx("p",{className:"font-bold text-sm",children:"Leaked Password Protection"}),m.jsx("p",{className:"text-[10px] text-indigo-100 mt-1 uppercase",children:"Verificao de senhas vazadas ativada."})]})]})]}),m.jsx(vD,{className:"absolute -right-10 -bottom-10 text-white/5",size:200})]}),m.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden",children:[m.jsxs("div",{className:"p-8 border-b border-slate-100",children:[m.jsx("h2",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Segurana da Plataforma"}),m.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"Ajustes crticos de segurana e criptografia BOOKI"})]}),m.jsxs("div",{className:"p-8 space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-slate-50 rounded-2xl text-slate-600",children:m.jsx(au,{size:20})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-black text-slate-800",children:"Autenticao de Dois Fatores (2FA)"}),m.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-tight",children:"Obrigatrio para Master Admin"})]})]}),m.jsx("div",{className:"w-12 h-6 bg-emerald-500 rounded-full relative shadow-inner",children:m.jsx("div",{className:"absolute right-1 top-1 w-4 h-4 bg-white rounded-full shadow-sm"})})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-slate-50 rounded-2xl text-slate-600",children:m.jsx(Xa,{size:20})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-black text-slate-800",children:"Monitoramento de Invaso"}),m.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-tight",children:"Alertas em tempo real via IA"})]})]}),m.jsx("div",{className:"w-12 h-6 bg-emerald-500 rounded-full relative shadow-inner",children:m.jsx("div",{className:"absolute right-1 top-1 w-4 h-4 bg-white rounded-full shadow-sm"})})]})]})]}),m.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden",children:[m.jsx("div",{className:"p-8 border-b border-slate-100",children:m.jsx("h2",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Infraestrutura Cloud"})}),m.jsxs("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("button",{className:"flex items-center gap-4 p-6 border border-slate-100 rounded-3xl hover:bg-slate-50 transition-all text-left group",children:[m.jsx(rD,{className:"text-indigo-500 group-hover:scale-110 transition-transform",size:24}),m.jsxs("div",{children:[m.jsx("p",{className:"font-black text-sm text-slate-800",children:"Backup do Banco"}),m.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mt-0.5",children:"Snapshots Dirios"})]})]}),m.jsxs("button",{className:"flex items-center gap-4 p-6 border border-slate-100 rounded-3xl hover:bg-slate-50 transition-all text-left group",children:[m.jsx(Gg,{className:"text-indigo-500 group-hover:scale-110 transition-transform",size:24}),m.jsxs("div",{children:[m.jsx("p",{className:"font-black text-sm text-slate-800",children:"Regies e CDN"}),m.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mt-0.5",children:"Latncia Global"})]})]})]})]})]}),Jm=({title:e,subtitle:t,icon:n,data:r,onAdd:i,onEdit:o,onDelete:a,onShare:s,columns:l,stats:u,sidebarInfo:c})=>m.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[u&&m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map((d,h)=>m.jsxs("div",{className:"group bg-white dark:bg-slate-900/50 backdrop-blur-md p-7 rounded-[2.5rem] border border-white dark:border-slate-800 shadow-xl shadow-slate-200/40 dark:shadow-none flex items-center gap-6 transition-all hover:scale-[1.02]",children:[m.jsx("div",{className:`p-4 rounded-2xl ${d.color} bg-opacity-10 text-opacity-100 flex items-center justify-center shadow-inner group-hover:rotate-3 transition-transform`,children:I.cloneElement(d.icon,{size:24})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1.5",children:d.label}),m.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter",children:d.value})]})]},h))}),m.jsxs("div",{className:"flex flex-col xl:flex-row gap-8",children:[m.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 rounded-[3rem] p-10 shadow-2xl shadow-slate-200/50 dark:shadow-none border border-white dark:border-slate-800 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-[0.02] dark:opacity-[0.05] pointer-events-none transform rotate-12 scale-150",children:n}),m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-8 mb-12 relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-[1.8rem] flex items-center justify-center text-white shadow-2xl shadow-indigo-200 dark:shadow-none transform -rotate-3 group-hover:rotate-0 transition-transform",children:I.cloneElement(n,{size:32})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter",children:e}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-pulse"}),m.jsx("p",{className:"text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.25em]",children:t})]})]})]}),m.jsxs("button",{onClick:i,className:"group flex items-center gap-4 px-8 py-4.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-[1.8rem] transition-all text-xs font-black shadow-2xl shadow-indigo-200 dark:shadow-none active:scale-95",children:[m.jsx(Ch,{size:20,className:"group-hover:rotate-90 transition-transform duration-500"}),"NOVO REGISTRO"]})]}),m.jsx("div",{className:"overflow-x-auto -mx-4 px-4 scrollbar-hide",children:m.jsxs("table",{className:"w-full text-left border-separate border-spacing-y-4",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-slate-300 dark:text-slate-600 uppercase",children:[l.map((d,h)=>m.jsx("th",{className:"px-8 py-2 text-[10px] font-black tracking-[0.25em]",children:d.label},h)),(o||a||s)&&m.jsx("th",{className:"px-8 py-2 text-[10px] font-black tracking-[0.25em] text-right",children:"Aes"})]})}),m.jsxs("tbody",{children:[r.map((d,h)=>m.jsxs("tr",{className:"group bg-slate-50/40 dark:bg-slate-800/30 hover:bg-white dark:hover:bg-slate-800 hover:shadow-2xl hover:shadow-slate-200/60 dark:hover:shadow-none transition-all duration-500 transform hover:-translate-y-1",children:[l.map((g,v)=>m.jsx("td",{className:"px-8 py-7 first:rounded-l-[2.5rem] last:rounded-r-[2.5rem] border-y border-transparent group-hover:border-slate-100 dark:group-hover:border-slate-700",children:m.jsx("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:g.render?g.render(d):d[g.key]})},v)),(o||a||s)&&m.jsx("td",{className:"px-8 py-7 rounded-r-[2.5rem] text-right border-y border-transparent group-hover:border-slate-100 dark:group-hover:border-slate-700",children:m.jsxs("div",{className:"flex items-center justify-end gap-3 opacity-40 group-hover:opacity-100 transition-opacity",children:[s&&m.jsx("button",{onClick:()=>s(d),className:"p-3 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded-2xl transition-all",children:m.jsx(gD,{size:18})}),o&&m.jsx("button",{onClick:()=>o(d),className:"p-3 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-2xl transition-all",children:m.jsx(Hg,{size:18})}),a&&m.jsx("button",{onClick:()=>a(d),className:"p-3 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-950/30 rounded-2xl transition-all",children:m.jsx(cu,{size:18})})]})})]},h)),r.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:l.length+1,className:"py-32 text-center",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:"w-24 h-24 bg-slate-50 dark:bg-slate-800 rounded-[2rem] flex items-center justify-center text-slate-200 dark:text-slate-700 mb-6",children:I.cloneElement(n,{size:48,strokeWidth:1.5})}),m.jsx("p",{className:"font-black uppercase text-[10px] text-slate-300 dark:text-slate-600 tracking-[0.4em]",children:"Nenhum registro encontrado"})]})})})]})]})})]}),m.jsxs("div",{className:"w-full xl:w-80 space-y-6",children:[c&&m.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-indigo-700 p-8 rounded-[3rem] text-white shadow-2xl shadow-indigo-200 dark:shadow-none relative overflow-hidden",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(QC,{size:20,className:"text-indigo-200"}),m.jsx("h3",{className:"font-black text-sm uppercase tracking-tighter",children:c.title})]}),m.jsx("p",{className:"text-indigo-100 text-sm font-medium leading-relaxed mb-8",children:c.description}),m.jsx("div",{className:"space-y-4",children:c.items.map((d,h)=>m.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/10",children:[m.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-200 tracking-widest",children:d.label}),m.jsx("span",{className:"text-sm font-black",children:d.value})]},h))})]}),m.jsx("div",{className:"absolute -bottom-10 -right-10 opacity-10 transform rotate-12",children:m.jsx(q0,{size:180})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[3rem] border border-slate-100 dark:border-slate-800 shadow-xl shadow-slate-200/30 dark:shadow-none",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx(Xa,{size:20,className:"text-emerald-500"}),m.jsx("h3",{className:"font-black text-xs text-slate-800 dark:text-white uppercase tracking-widest",children:"Segurana Ativa"})]}),m.jsx("p",{className:"text-[11px] text-slate-400 dark:text-slate-500 font-bold leading-relaxed",children:"Todos os dados deste mdulo so criptografados com o protocolo BOOKI Core-V2."})]})]})]})]}),ppe=({company:e,onLogout:t,theme:n,onToggleTheme:r})=>{var dx,fx;const[i,o]=O.useState("dashboard"),[a,s]=O.useState(!0),[l,u]=O.useState([]),[c,d]=O.useState(!1),[h,g]=O.useState(new Date),[v,b]=O.useState(new Date),[y,w]=O.useState([]),[x,_]=O.useState([]),[k,E]=O.useState([]),[S,T]=O.useState(!1),[A,C]=O.useState(!1),[N,R]=O.useState(!1),[M,L]=O.useState(!1),[$,D]=O.useState(null),[U,V]=O.useState(null),[P,j]=O.useState(null),[z,J]=O.useState([]),[G,oe]=O.useState([]),[pe,xe]=O.useState(!1),[We,Ot]=O.useState([]),[Ee,X]=O.useState("month"),[ue,ve]=O.useState(""),[q,Re]=O.useState({daily:0,monthly:0,professionalTotal:0,periodTotal:0}),we=["09:00","09:40","10:20","11:00","11:40","12:20","13:00","13:40","14:20","15:00","15:40","16:20","17:00"],[Be,nt]=O.useState(new Date),[Ke,rn]=O.useState(null),hn=O.useRef(null),fr=O.useRef(null),[De,Et]=O.useState({client_name:"",client_phone:"",professional_id:"",service_id:"",date:new Date().toISOString().split("T")[0],start_time:"09:00",end_time:"09:40",status:"CONFIRMED"}),[Wt,Hn]=O.useState({name:"",phone:""}),[Ut,ui]=O.useState({name:"",duration:30,price:0}),[K,fe]=O.useState({bookings:0,clients:0,revenue:0,services:0}),ke=[{id:"dashboard",label:"Dashboard",icon:m.jsx(KC,{size:20})},{id:"agendamentos",label:"Agendamentos",icon:m.jsx(rl,{size:20}),table:"bookings"},{id:"financeiro",label:"Financeiro",icon:m.jsx(sD,{size:20})},{id:"profissionais",label:"Profissionais",icon:m.jsx(_a,{size:20}),table:"professionals"},{id:"clientes",label:"Clientes",icon:m.jsx(um,{size:20}),table:"clients"},{id:"servicos",label:"Servios",icon:m.jsx(oa,{size:20}),table:"services"},{id:"perfil",label:"Perfil & Links",icon:m.jsx(Wg,{size:20})},{id:"produtos",label:"Produtos",icon:m.jsx(Ri,{size:20}),table:"products"},{id:"bloquear",label:"Bloquear Horrios",icon:m.jsx(WC,{size:20})}],[mt,Ft]=O.useState({whatsapp_url:"",instagram_url:""}),[Le,pn]=O.useState({show:!1,message:"",type:"success"});O.useEffect(()=>{Gs(),ux(),Go(h),aR(v),cx(h)},[h,v]),O.useEffect(()=>{const F=setInterval(()=>nt(new Date),6e4);return()=>clearInterval(F)},[]),O.useEffect(()=>{const F=ke.find(ee=>ee.id===i);F!=null&&F.table&&Wi(F.table),i==="perfil"&&Ar(),i==="financeiro"&&sR()},[i,Ee]),O.useEffect(()=>{const F=re.channel("company-dashboard").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:`company_id=eq.${e.id}`},()=>{Go(h),Gs(),i==="agendamentos"&&Wi("bookings")}).subscribe();return()=>{re.removeChannel(F)}},[e,h,i]);const hr=()=>{const ee=`${window.location.origin}/?companyId=${e.id}`;navigator.clipboard.writeText(ee).then(()=>{pn({show:!0,message:"Link pblico copiado!",type:"success"}),setTimeout(()=>pn({show:!1,message:"",type:"success"}),3e3)}).catch(()=>{pn({show:!0,message:"Erro ao copiar link",type:"error"}),setTimeout(()=>pn({show:!1,message:"",type:"error"}),3e3)})},Ar=async()=>{const{data:F}=await re.from("companies").select("whatsapp_url, instagram_url").eq("id",e.id).single();F&&Ft({whatsapp_url:F.whatsapp_url||"",instagram_url:F.instagram_url||""})},Hi=async F=>{F.preventDefault(),xe(!0);try{const{error:ee}=await re.from("companies").update(mt).eq("id",e.id);if(ee)throw ee;alert("Links atualizados com sucesso!")}catch(ee){alert("Erro ao atualizar: "+ee.message)}finally{xe(!1)}},Cr=()=>{D(null),Et({client_name:"",client_phone:"",service_id:"",professional_id:z.length>0?z[0].id:"",date:h.toISOString().split("T")[0],start_time:"09:00",end_time:"09:40",status:"CONFIRMED"}),T(!0)},pc=F=>{D(F.id);const ee=new Date(F.start_time);Et({client_name:F.client_name,client_phone:F.client_phone||"",service_id:F.service_id||"",professional_id:F.professional_id||"",date:ee.toISOString().split("T")[0],start_time:ee.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),end_time:F.end_time?new Date(F.end_time).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",status:F.status}),T(!0)},tR=F=>{V(F),j("booking"),C(!0)},nR=F=>{V(F),j("professional"),C(!0)},rR=F=>{Hn({name:F.name,phone:F.phone}),D(F.id),R(!0)},iR=F=>{const ee=G.find(Je=>Je.id===De.service_id),se=ee&&ee.duration||40,[Se,Y]=F.split(":").map(Number),me=Se*60+Y+se,ct=`${Math.floor(me/60).toString().padStart(2,"0")}:${(me%60).toString().padStart(2,"0")}`;Et(Je=>({...Je,start_time:F,end_time:ct}))},oR=F=>{Et(ee=>{const se=G.find(Y=>Y.id===F);let Se=ee.end_time;if(se&&ee.start_time){const[Y,me]=ee.start_time.split(":").map(Number),ct=Y*60+me+(se.duration||40);Se=`${Math.floor(ct/60).toString().padStart(2,"0")}:${(ct%60).toString().padStart(2,"0")}`}return{...ee,service_id:F,end_time:Se}})},ux=async()=>{const{data:F}=await re.from("professionals").select("*").eq("company_id",e.id),{data:ee}=await re.from("services").select("*").eq("company_id",e.id);F&&J(F),ee&&oe(ee)},Go=async F=>{const ee=F.toISOString().split("T")[0],{data:se}=await re.from("bookings").select("*, services(name, price)").eq("company_id",e.id).neq("status","CANCELLED").gte("start_time",`${ee}T00:00:00`).lte("start_time",`${ee}T23:59:59`);se&&w(se)},aR=async F=>{const ee=F.getFullYear(),se=F.getMonth(),Se=new Date(ee,se,1).toISOString(),Y=new Date(ee,se+1,0,23,59,59).toISOString(),{data:me}=await re.from("bookings").select("client_name, start_time").eq("company_id",e.id).gte("start_time",Se).lte("start_time",Y);me&&_(me)},cx=async F=>{const ee=F.toISOString().split("T")[0],{data:se}=await re.from("blocked_slots").select("*").eq("company_id",e.id).eq("slot_date",ee);se&&E(se)},Gs=async()=>{const{count:F}=await re.from("bookings").select("*",{count:"exact",head:!0}).eq("company_id",e.id),{count:ee}=await re.from("clients").select("*",{count:"exact",head:!0}).eq("company_id",e.id),{count:se}=await re.from("services").select("*",{count:"exact",head:!0}).eq("company_id",e.id),{data:Se}=await re.from("orders").select("total_amount").eq("company_id",e.id).eq("status","CLOSED"),Y=(Se==null?void 0:Se.reduce((me,ct)=>me+(Number(ct.total_amount)||0),0))||0;fe({bookings:F||0,clients:ee||0,services:se||0,revenue:Y})},Wi=async F=>{d(!0);const{data:ee}=await re.from(F).select("*").eq("company_id",e.id).order("created_at",{ascending:!1});u(ee||[]),d(!1)},sR=async()=>{d(!0);const F=new Date().toISOString().split("T")[0],{data:ee}=await re.from("bookings").select("*, services(name, price), professionals(name)").eq("company_id",e.id).neq("status","CANCELLED").order("start_time",{ascending:!1});if(ee){const se=ee.map(Je=>{var Pr,Ho,Ki,Hs;return{id:Je.id,date:Je.start_time,dateStr:Je.start_time.split("T")[0],amount:Number(((Pr=Je.services)==null?void 0:Pr.price)||0),client:Je.client_name,service:((Ho=Je.services)==null?void 0:Ho.name)||"Servio",professional:(Ki=Je.professionals)==null?void 0:Ki.name,professional_id:Je.professional_id||((Hs=Je.professionals)==null?void 0:Hs.id)}}),Se=se.filter(Je=>Je.dateStr===F).reduce((Je,Pr)=>Je+Pr.amount,0),Y=se.reduce((Je,Pr)=>Je+Pr.amount,0),me=se.length,ct=me>0?Y/me:0;Re({daily:Se,monthly:Y,professionalTotal:0,periodTotal:Y,totalTransactions:me,averageTicket:ct}),Ot(se)}d(!1)},lR=async F=>{const ee=h.toISOString().split("T")[0],se=k.find(Se=>Se.slot_time===F);se?await re.from("blocked_slots").delete().eq("id",se.id):await re.from("blocked_slots").insert([{company_id:e.id,slot_date:ee,slot_time:F}]),cx(h)},uR=async()=>{if(!U||!P)return;xe(!0);const F=P==="booking"?"bookings":P==="service"?"services":"professionals",{error:ee}=await re.from(F).delete().eq("id",U.id);if(!ee){C(!1),Go(h);const se=ke.find(Se=>Se.id===i);se!=null&&se.table&&Wi(se.table),Gs()}xe(!1)},cR=async F=>{if(!window.confirm("Tem certeza que deseja cancelar esta reserva? O horrio ficar disponvel novamente."))return;const ee=y.find(se=>se.id===F)||l.find(se=>se.id===F);xe(!0);try{const{error:se}=await re.from("bookings").update({status:"CANCELLED"}).eq("id",F);if(se)throw se;if(T(!1),Go(h),i==="agendamentos"&&Wi("bookings"),Gs(),ee&&ee.client_phone){const Se=new Date(ee.start_time).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),Y=`Ol ${ee.client_name}, informamos que seu agendamento para ${Se} foi cancelado.`,me=`https://wa.me/55${ee.client_phone.replace(/\D/g,"")}?text=${encodeURIComponent(Y)}`;window.confirm("Reserva cancelada! Deseja notificar o cliente via WhatsApp agora?")&&window.open(me,"_blank")}else alert("Reserva cancelada com sucesso!")}catch(se){alert("Erro ao cancelar: "+se.message)}finally{xe(!1)}},dR=async F=>{F.preventDefault(),xe(!0);const[ee,se]=De.start_time.split(":").map(Number),Se=De.date.split("-").map(Number),me=new Date(Se[0],Se[1]-1,Se[2],ee,se).toISOString(),[ct,Je]=De.end_time.split(":").map(Number),Ho=new Date(Se[0],Se[1]-1,Se[2],ct,Je).toISOString(),Ki={company_id:e.id,client_name:De.client_name,client_phone:De.client_phone,professional_id:De.professional_id||null,service_id:De.service_id||null,start_time:me,end_time:Ho,status:"CONFIRMED"};try{$?await re.from("bookings").update(Ki).eq("id",$):await re.from("bookings").insert([Ki]),T(!1),Go(h),i==="agendamentos"&&Wi("bookings")}catch{}finally{xe(!1)}},fR=async F=>{F.preventDefault(),xe(!0);try{if($){const{error:ee}=await re.from("professionals").update({name:Wt.name,phone:Wt.phone}).eq("id",$);if(ee)throw ee}else{const{error:ee}=await re.from("professionals").insert([{company_id:e.id,name:Wt.name,phone:Wt.phone}]);if(ee)throw ee}R(!1),D(null),Hn({name:"",phone:""}),Wi("professionals"),Gs()}catch(ee){alert(ee.message)}finally{xe(!1)}},hR=async F=>{F.preventDefault(),xe(!0);try{if(!Ut.name)throw new Error("Nome do servio  obrigatrio");const ee={company_id:e.id,name:Ut.name,duration:Number(Ut.duration)||30,price:Number(Ut.price)||0},{error:se}=await re.from("services").insert([ee]);if(se)throw se;L(!1),ui({name:"",duration:30,price:0}),Wi("services"),ux()}catch(ee){alert(ee.message||"Erro ao salvar servio")}finally{xe(!1)}},pR=()=>{const F=v.getFullYear(),ee=v.getMonth(),se=new Date(F,ee,1).getDay(),Se=new Date(F,ee+1,0).getDate(),Y=[];for(let me=0;me<se;me++)Y.push(null);for(let me=1;me<=Se;me++)Y.push(new Date(F,ee,me));return Y},mR=()=>{hn.current&&fr.current&&(fr.current.scrollTop=hn.current.scrollTop)},gR=()=>{const Y=we,me=Be.getHours(),ct=Be.getMinutes(),Pr=((me-8)*60+ct)*2,Ho=me>=8&&me<19,Ki=Ue=>{const Ie=new Date;Ie.setHours(0,0,0,0);const mn=new Date(Ue);mn.setHours(0,0,0,0);const Ir=mn.getTime()-Ie.getTime(),Wo=Math.ceil(Ir/(1e3*60*60*24));return Wo===0?"Hoje":Wo===1?"Amanh":Wo===-1?"Ontem":Ue.toLocaleDateString("pt-BR",{weekday:"long"})},Hs=(Ue,Ie)=>{rn(Ie),Ue.dataTransfer.effectAllowed="move",Ue.dataTransfer.setData("text/plain",JSON.stringify(Ie))},bR=Ue=>{Ue.preventDefault(),Ue.dataTransfer.dropEffect="move"},xR=async(Ue,Ie)=>{var Ks;if(Ue.preventDefault(),!Ke)return;const mn=Ue.currentTarget.getBoundingClientRect();Ue.clientY-mn.top+(((Ks=hn.current)==null?void 0:Ks.scrollTop)||0);const Ir=Ue.nativeEvent.offsetY,Mp=Math.round(Ir/30)*30/2,$p=8+Math.floor(Mp/60),Dp=Mp%60,Ws=new Date(h);Ws.setHours($p,Dp,0,0);const gc=new Date(Ke.start_time),vc=(Ke.end_time?new Date(Ke.end_time):new Date(gc.getTime()+40*6e4)).getTime()-gc.getTime(),Ji=new Date(Ws.getTime()+vc);try{const{error:Ko}=await re.from("bookings").update({start_time:Ws.toISOString(),end_time:Ji.toISOString(),professional_id:Ie}).eq("id",Ke.id);if(Ko)throw Ko;Go(h)}catch(Ko){console.error("Erro ao mover agendamento:",Ko),alert("No foi possvel mover o agendamento.")}rn(null)};return m.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-2xl shadow-slate-200/50 dark:shadow-none overflow-hidden border border-white dark:border-slate-800 relative animate-in fade-in duration-500",children:[m.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md z-30 sticky top-0",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter capitalize",children:Ki(h)}),m.jsxs("div",{className:"flex gap-1 bg-slate-100 dark:bg-slate-800 p-1.5 rounded-2xl",children:[m.jsx("button",{onClick:()=>g(new Date(h.setDate(h.getDate()-1))),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-xl transition-all shadow-sm text-slate-500",children:m.jsx(Ew,{size:18})}),m.jsx("button",{onClick:()=>g(new Date),className:"px-4 py-2 text-[10px] font-black uppercase tracking-widest hover:bg-white dark:hover:bg-slate-700 rounded-xl transition-all text-slate-600 dark:text-slate-300",children:"Hoje"}),m.jsx("button",{onClick:()=>g(new Date(h.setDate(h.getDate()+1))),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-xl transition-all shadow-sm text-slate-500",children:m.jsx(qg,{size:18})})]}),m.jsx("span",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest border-l border-slate-200 dark:border-slate-700 pl-6",children:h.toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{className:"px-5 py-3 text-[10px] font-black text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-2xl transition-all uppercase tracking-wider",children:"Visualizao"}),m.jsx("button",{className:"px-5 py-3 text-[10px] font-black text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-2xl transition-all uppercase tracking-wider",children:"Filtrar"}),m.jsxs("button",{onClick:Cr,className:"flex items-center gap-3 px-6 py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all shadow-lg shadow-indigo-200 dark:shadow-none active:scale-95",children:[m.jsx(Ch,{size:16})," Novo"]})]})]}),m.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[m.jsxs("div",{ref:fr,className:"w-20 flex-shrink-0 border-r border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50 overflow-y-hidden select-none z-20",children:[m.jsx("div",{className:"h-24 border-b border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 sticky top-0 z-30"})," ",m.jsx("div",{className:"relative",style:{height:660*2},children:Y.map(Ue=>{const[Ie,mn]=Ue.split(":").map(Number),Ir=(Ie-8)*60+mn;return m.jsx("div",{className:"absolute w-full text-right pr-4 text-[10px] font-black text-slate-400 dark:text-slate-500 tracking-wider",style:{top:Ir*2,transform:"translateY(-50%)"},children:Ue},Ue)})})]}),m.jsx("div",{ref:hn,onScroll:mR,className:"flex-1 overflow-y-auto custom-scrollbar relative bg-white dark:bg-slate-900",children:m.jsxs("div",{className:"flex min-w-full",style:{height:660*2+96},children:[m.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none mt-24",children:Y.map(Ue=>{const[Ie,mn]=Ue.split(":").map(Number),Ir=(Ie-8)*60+mn;return m.jsx("div",{className:"absolute w-full border-t border-slate-100 dark:border-slate-800/60",style:{top:Ir*2}},Ue)})}),Ho&&m.jsxs("div",{className:"absolute left-0 w-full z-10 flex items-center pointer-events-none mt-24",style:{top:Pr},children:[m.jsx("div",{className:"w-full h-[2px] bg-rose-500 shadow-sm opacity-50"}),m.jsx("div",{className:"absolute -left-1 w-3 h-3 bg-rose-500 rounded-full shadow-md"})]}),z.length>0?z.map(Ue=>m.jsxs("div",{className:"flex-1 min-w-[240px] border-r border-slate-100 dark:border-slate-800 relative group",children:[m.jsxs("div",{className:"sticky top-0 z-20 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm py-4 px-2 border-b border-slate-100 dark:border-slate-800 flex flex-col items-center justify-center h-24 transition-colors",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 text-white flex items-center justify-center font-black text-sm mb-2 shadow-lg shadow-indigo-200 dark:shadow-none ring-4 ring-white dark:ring-slate-900",children:Ue.name.charAt(0)}),m.jsx("span",{className:"text-[11px] font-black text-slate-700 dark:text-slate-300 uppercase tracking-widest truncate max-w-full px-2 leading-relaxed pb-1",children:Ue.name}),m.jsxs("span",{className:"text-[9px] font-bold text-slate-400 dark:text-slate-500",children:[y.filter(Ie=>Ie.professional_id===Ue.id&&Ie.status!=="CANCELLED").length," agendamentos"]})]}),m.jsx("div",{className:"relative w-full h-full z-10",onDragOver:bR,onDrop:Ie=>xR(Ie,Ue.id),children:y.filter(Ie=>Ie.professional_id===Ue.id&&Ie.status!=="CANCELLED").map(Ie=>{var Ks;const mn=new Date(Ie.start_time),Ir=new Date(mn.getTime()+40*6e4),Wo=(mn.getHours()-8)*60+mn.getMinutes(),$p=40*2,Dp=Wo*2,Ws=mn.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),gc=Ir.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),hx=((Ks=Ie.services)==null?void 0:Ks.name)||"Servio",vc=Ie.client_name||"Cliente";let Ji="bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800";return Ie.client_name.includes("Martin")?Ji="bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800":Ie.client_name.includes("Gertrude")?Ji="bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800":Ie.client_name.includes("Melanie")?Ji="bg-cyan-100 text-cyan-800 border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-300 dark:border-cyan-800":Ie.client_name.includes("Basira")&&(Ji="bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800"),m.jsxs("div",{draggable:!0,onDragStart:Ko=>Hs(Ko,Ie),onClick:()=>pc(Ie),className:`absolute left-2 right-2 rounded-2xl px-3 py-2 border-l-[6px] text-xs cursor-grab active:cursor-grabbing hover:brightness-95 hover:scale-[1.02] hover:shadow-xl transition-all shadow-sm flex flex-col justify-center group/card ${Ji} ${(Ke==null?void 0:Ke.id)===Ie.id?"opacity-50":""}`,style:{top:`${Dp}px`,height:`${$p}px`,minHeight:"50px"},children:[m.jsx("div",{className:"flex justify-between items-start mb-0.5",children:m.jsxs("span",{className:"font-black opacity-70 text-[10px] tracking-wider leading-none",children:[Ws," - ",gc]})}),m.jsx("div",{className:"font-black text-sm truncate leading-snug",title:vc,children:vc}),m.jsx("div",{className:"opacity-80 truncate text-[10px] font-bold mt-0.5 uppercase tracking-wide leading-none",children:hx})]},Ie.id)})})]},Ue.id)):m.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400 font-bold uppercase tracking-widest text-xs h-64",children:"Nenhum profissional cadastrado"})]})})]}),m.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-40",children:m.jsxs("button",{className:"flex items-center gap-3 px-8 py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-full font-black text-[10px] uppercase tracking-[0.2em] shadow-2xl hover:scale-105 hover:shadow-slate-900/20 transition-all active:scale-95",children:[m.jsx(rl,{size:16})," Calendrio"]})})]})},vR=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[3rem] p-8 md:p-12 shadow-xl shadow-slate-200/40 dark:shadow-none border border-white dark:border-slate-800 w-full",children:[m.jsxs("div",{className:"flex items-center justify-between mb-12",children:[m.jsxs("h3",{className:"text-3xl font-black text-slate-900 dark:text-white uppercase tracking-tighter flex items-center gap-4",children:[m.jsx(rl,{className:"text-indigo-600",size:32})," Calendrio"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>b(new Date(v.setMonth(v.getMonth()-1))),className:"p-3 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-colors",children:m.jsx(Ew,{size:20})}),m.jsx("span",{className:"text-lg font-black uppercase tracking-widest py-3 px-4",children:v.toLocaleString("pt-BR",{month:"long",year:"numeric"})}),m.jsx("button",{onClick:()=>b(new Date(v.setMonth(v.getMonth()+1))),className:"p-3 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-colors",children:m.jsx(qg,{size:20})})]})]}),m.jsxs("div",{className:"grid grid-cols-7 gap-4 md:gap-8 text-center",children:[["Dom","Seg","Ter","Qua","Qui","Sex","Sab"].map(F=>m.jsx("div",{className:"text-xs font-black text-slate-300 py-2 uppercase tracking-widest",children:F},F)),pR().map((F,ee)=>{if(!F)return m.jsx("div",{},ee);const se=F.toDateString()===h.toDateString();return m.jsx("button",{onClick:()=>g(F),className:`aspect-square flex items-center justify-center text-xl font-bold rounded-[2rem] transition-all ${se?"bg-indigo-600 text-white shadow-2xl shadow-indigo-200 dark:shadow-none scale-110":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:F.getDate()},ee)})]})]}),mc=({title:F,value:ee,icon:se,color:Se})=>m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] shadow-xl shadow-slate-200/50 dark:shadow-none border border-white dark:border-slate-800 flex flex-col justify-between hover:shadow-2xl transition-all group overflow-hidden relative",children:[m.jsx("div",{className:`p-4 rounded-2xl ${Se} w-fit mb-6 transition-transform group-hover:rotate-6 shadow-lg shadow-indigo-100 dark:shadow-none`,children:m.jsx(se,{size:24,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-slate-400 dark:text-slate-500 text-[10px] font-black uppercase tracking-[0.3em]",children:F}),m.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white mt-1 tracking-tighter",children:ee})]}),m.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity",children:m.jsx(se,{size:80})})]}),yR=()=>{var F;switch(i){case"dashboard":return gR();case"agendamentos":return m.jsx(Jm,{title:"Agenda Master",subtitle:"Viso unificada de atendimentos",icon:m.jsx(rl,{}),data:l,onAdd:()=>Cr(),onEdit:pc,onDelete:tR,stats:[{label:"Hoje",value:y.length,icon:m.jsx(Cw,{size:20}),color:"bg-indigo-500"},{label:"Confirmados",value:l.filter(Y=>Y.status==="CONFIRMED").length,icon:m.jsx(jr,{size:20}),color:"bg-emerald-500"},{label:"Ms Atual",value:x.length,icon:m.jsx(Rl,{size:20}),color:"bg-amber-500"}],sidebarInfo:{title:"Dica de Gesto",description:"Agendamentos confirmados geram 40% mais fidelidade. Use o link pblico para facilitar o acesso do seu cliente.",items:[{label:"Taxa de Ocupao",value:"84%"},{label:"Cancelamentos",value:"2%"}]},columns:[{key:"start_time",label:"Horrio do Servio",render:Y=>{const me=new Date(Y.start_time);return m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-indigo-950 rounded-2xl flex flex-col items-center justify-center border border-indigo-100 dark:border-indigo-900 shadow-sm",children:[m.jsx("span",{className:"text-[8px] font-black uppercase text-indigo-400 leading-none mb-0.5",children:me.toLocaleString("pt-BR",{month:"short"}).replace(".","")}),m.jsx("span",{className:"text-base font-black text-indigo-600 dark:text-indigo-300",children:me.getDate()})]}),m.jsxs("div",{className:"flex items-center gap-2 text-slate-900 dark:text-white font-black",children:[m.jsx(Yd,{size:16,className:"text-indigo-500"}),m.jsx("span",{className:"text-lg tracking-tighter",children:me.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})}},{key:"client_name",label:"Cliente",render:Y=>{var me;return m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-10 h-10 bg-indigo-600 text-white rounded-full flex items-center justify-center font-black text-sm shadow-xl shadow-indigo-100 dark:shadow-none border-2 border-white dark:border-slate-800",children:((me=Y.client_name)==null?void 0:me.charAt(0).toUpperCase())||"C"}),m.jsx("span",{className:"uppercase tracking-tight font-black text-slate-800 dark:text-slate-100",children:Y.client_name})]})}},{key:"status",label:"Status",render:Y=>m.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-wider ${Y.status==="CONFIRMED"?"bg-emerald-50 dark:bg-emerald-950/30 text-emerald-600 dark:text-emerald-400 border border-emerald-100/50 dark:border-emerald-900/30":"bg-amber-50 dark:bg-amber-950/30 text-amber-600 dark:text-amber-400 border border-amber-100/50 dark:border-amber-900/30"}`,children:[m.jsx("div",{className:`w-2 h-2 rounded-full ${Y.status==="CONFIRMED"?"bg-emerald-500":"bg-amber-500"} animate-pulse`}),Y.status]})}]});case"financeiro":const ee=new Date().toISOString().split("T")[0],se=Y=>{try{const me=new Date(Y),ct=new Date;if(Ee==="week"){const Je=new Date(ct);return Je.setDate(ct.getDate()-7),me>=Je&&me<=ct}return me.getMonth()===ct.getMonth()&&me.getFullYear()===ct.getFullYear()}catch{return!1}},Se=We.filter(Y=>se(Y.date)?ue&&ue!==""?Y.professional_id===ue||Y.professional===ue||Y.professional_id===Number(ue):!0:!1);return Se.filter(Y=>Y.date.split("T")[0]===ee).reduce((Y,me)=>Y+(me.amount||0),0),Se.reduce((Y,me)=>Y+(me.amount||0),0),Se.length,m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[m.jsx(mc,{title:"Faturamento Hoje",value:`R$ ${q.daily.toFixed(2)}`,icon:SD,color:"bg-emerald-600"}),m.jsx(mc,{title:"Faturamento Mensal",value:`R$ ${q.monthly.toFixed(2)}`,icon:Rl,color:"bg-indigo-600"}),m.jsx(mc,{title:"Ticket Mdio",value:`R$ ${((F=q.averageTicket)==null?void 0:F.toFixed(2))||"0.00"}`,icon:XC,color:"bg-blue-500"}),m.jsx(mc,{title:"Transaes",value:q.totalTransactions||0,icon:tD,color:"bg-violet-500"})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[3rem] p-10 shadow-xl shadow-slate-200/50 dark:shadow-none border border-white dark:border-slate-800",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8 justify-between",children:[m.jsx("div",{className:"p-4 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 rounded-2xl",children:m.jsx(ou,{size:24})}),m.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tighter",children:"Histrico de Transaes"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("select",{value:ue,onChange:Y=>ve(Y.target.value),className:"text-sm font-black bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-xl px-4 py-2",children:[m.jsx("option",{value:"",children:"Todos os profissionais"}),z.map(Y=>m.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),m.jsxs("select",{value:Ee,onChange:Y=>X(Y.target.value),className:"text-sm font-black bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-xl px-4 py-2",children:[m.jsx("option",{value:"month",children:"Ms"}),m.jsx("option",{value:"week",children:"ltimos 7 dias"})]})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-slate-400 dark:text-slate-500 text-[10px] font-black uppercase tracking-widest border-b border-slate-100 dark:border-slate-800",children:[m.jsx("th",{className:"pb-4 pl-4",children:"Data"}),m.jsx("th",{className:"pb-4",children:"Cliente"}),m.jsx("th",{className:"pb-4",children:"Servio"}),m.jsx("th",{className:"pb-4",children:"Profissional"}),m.jsx("th",{className:"pb-4 text-right pr-4",children:"Valor"})]})}),m.jsxs("tbody",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:[Se.slice(0,10).map(Y=>m.jsxs("tr",{className:"border-b border-slate-50 dark:border-slate-800/50 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[m.jsxs("td",{className:"py-4 pl-4",children:[new Date(Y.date).toLocaleDateString("pt-BR")," ",m.jsx("span",{className:"text-slate-400 text-xs ml-1",children:new Date(Y.date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),m.jsx("td",{className:"py-4",children:Y.client}),m.jsx("td",{className:"py-4",children:Y.service}),m.jsx("td",{className:"py-4",children:Y.professional||"-"}),m.jsxs("td",{className:"py-4 text-right pr-4 text-emerald-600 dark:text-emerald-400",children:["R$ ",(Y.amount||0).toFixed(2)]})]},Y.id)),Se.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"py-8 text-center text-slate-400 text-xs uppercase tracking-widest",children:"Nenhuma transao registrada"})})]})]})})]})]});case"profissionais":return m.jsx(Jm,{title:"Time de Especialistas",subtitle:"Gesto de profissionais ativos",icon:m.jsx(_a,{}),data:l,onAdd:()=>R(!0),onEdit:rR,onDelete:nR,stats:[{label:"Time Total",value:l.length,icon:m.jsx(_a,{size:20}),color:"bg-indigo-500"},{label:"Disponveis",value:l.length,icon:m.jsx(Pw,{size:20}),color:"bg-blue-500"},{label:"Rating Equipe",value:"4.9",icon:m.jsx(xD,{size:20}),color:"bg-amber-500"}],sidebarInfo:{title:"Performance",description:"Profissionais com fotos no perfil aumentam agendamentos em 30%. Incentive sua equipe a manter os dados atualizados.",items:[{label:"Mdia Mensal",value:"142 servios"},{label:"Top Profissional",value:"Lucas Silva"}]},columns:[{key:"name",label:"Especialista",render:Y=>m.jsxs("div",{className:"flex items-center gap-5",children:[m.jsx("div",{className:"w-12 h-12 bg-slate-50 dark:bg-slate-800 rounded-2xl flex items-center justify-center border border-slate-100 dark:border-slate-700 shadow-sm",children:m.jsx(um,{size:24,className:"text-slate-300"})}),m.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tight",children:Y.name})]})},{key:"phone",label:"Contato",render:Y=>m.jsxs("div",{className:"flex items-center gap-3 text-slate-500 dark:text-slate-400 font-bold",children:[m.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-950 rounded-lg",children:m.jsx(Xd,{size:14,className:"text-indigo-500"})}),Y.phone]})}]});case"servicos":return m.jsx(Jm,{title:"Cardpio de Servios",subtitle:"Catlogo oficial de itens",icon:m.jsx(oa,{}),data:l,onAdd:()=>L(!0),stats:[{label:"Itens Totais",value:l.length,icon:m.jsx(Ri,{size:20}),color:"bg-indigo-500"},{label:"Favorito",value:"Corte",icon:m.jsx(q0,{size:20}),color:"bg-fuchsia-500"},{label:"Preo Mdio",value:"R$ 42,00",icon:m.jsx(ou,{size:20}),color:"bg-emerald-500"}],sidebarInfo:{title:"Insights de Preo",description:"Seu ticket mdio est 15% acima da mdia regional. Isso indica alta percepo de valor pelos seus clientes.",items:[{label:"Lucratividade",value:"62%"},{label:"Servio Express",value:"Ativo"}]},columns:[{key:"name",label:"Servio",render:Y=>m.jsxs("div",{className:"flex items-center gap-5",children:[m.jsx("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-2xl flex items-center justify-center border border-indigo-100/50 dark:border-indigo-800 shadow-sm",children:m.jsx(oa,{size:20})}),m.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tight",children:Y.name})]})},{key:"duration",label:"Tempo Estimado",render:Y=>m.jsxs("div",{className:"flex items-center gap-3 font-bold text-slate-500 dark:text-slate-400",children:[m.jsx("div",{className:"p-2 bg-slate-50 dark:bg-slate-800 rounded-lg",children:m.jsx(Cw,{size:16,className:"text-indigo-500"})}),Y.duration," min"]})},{key:"price",label:"Valor de Venda",render:Y=>m.jsxs("div",{className:"text-lg font-black text-indigo-600 dark:text-indigo-400 tracking-tighter",children:["R$ ",Number(Y.price).toFixed(2)]})}]});case"perfil":return m.jsx("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-700",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[3rem] p-10 shadow-2xl shadow-slate-200/50 dark:shadow-none border border-white dark:border-slate-800 relative overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-6 mb-10",children:[m.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-[1.8rem] flex items-center justify-center text-white shadow-2xl shadow-indigo-200 dark:shadow-none",children:m.jsx(Wg,{size:32})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter",children:"Perfil da Empresa"}),m.jsx("p",{className:"text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-[0.25em] mt-1",children:"Configurao de Redes Sociais"})]})]}),m.jsxs("form",{onSubmit:Hi,className:"space-y-8",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-2 flex items-center gap-2",children:[m.jsx(wd,{size:14})," Link do WhatsApp"]}),m.jsx("input",{className:"w-full px-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm text-slate-900 dark:text-white focus:ring-4 focus:ring-indigo-50 dark:focus:ring-indigo-900/20 transition-all placeholder:text-slate-300",placeholder:"https://wa.me/5511999999999",value:mt.whatsapp_url,onChange:Y=>Ft({...mt,whatsapp_url:Y.target.value})}),m.jsxs("p",{className:"text-[10px] text-slate-400 ml-2",children:["Dica: Use o formato ",m.jsx("b",{children:"https://wa.me/55..."})," para criar um link direto."]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-2 flex items-center gap-2",children:[m.jsx(xd,{size:14})," Link do Instagram"]}),m.jsx("input",{className:"w-full px-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm text-slate-900 dark:text-white focus:ring-4 focus:ring-indigo-50 dark:focus:ring-indigo-900/20 transition-all placeholder:text-slate-300",placeholder:"https://instagram.com/suaempresa",value:mt.instagram_url,onChange:Y=>Ft({...mt,instagram_url:Y.target.value})})]}),m.jsx("button",{type:"submit",disabled:pe,className:"w-full py-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-[1.5rem] font-black text-sm uppercase tracking-widest transition-all shadow-xl shadow-indigo-200 dark:shadow-none flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 mt-4",children:pe?m.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:["Salvar Configuraes ",m.jsx(pD,{size:18})]})})]})]})});case"bloquear":return m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in slide-in-from-bottom-4 duration-700",children:[vR(),m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-12 rounded-[3rem] shadow-2xl shadow-slate-200/40 dark:shadow-none border border-white dark:border-slate-800",children:[m.jsxs("h3",{className:"text-xl font-black mb-10 dark:text-white uppercase tracking-tighter",children:["Bloquear Agenda: ",h.toLocaleDateString()]}),m.jsx("div",{className:"grid grid-cols-3 gap-5",children:we.map(Y=>{const me=k.find(ct=>ct.slot_time===Y);return m.jsx("button",{onClick:()=>lR(Y),className:`p-6 rounded-[1.5rem] border font-black text-xs transition-all ${me?"bg-rose-50 border-rose-200 text-rose-600 dark:bg-rose-950/20 dark:border-rose-900/50 shadow-inner":"bg-white dark:bg-transparent border-slate-100 dark:border-slate-800 text-slate-400 hover:border-indigo-500 hover:text-indigo-600 shadow-sm"}`,children:Y},Y)})})]})]});default:return null}};return m.jsxs("div",{className:"min-h-screen bg-[#f8fafc] dark:bg-slate-950 flex font-sans transition-colors duration-500 relative",children:[m.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.03] dark:opacity-[0.05] z-0",style:{backgroundImage:"radial-gradient(circle, #6366f1 1.5px, transparent 0)",backgroundSize:"40px 40px"}}),m.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-[90] w-72 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-r border-slate-100 dark:border-slate-800 flex flex-col transition-all duration-300 ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"} shadow-2xl lg:shadow-none`,children:[m.jsxs("div",{className:"p-10 flex flex-col items-center border-b border-slate-50 dark:border-slate-800",children:[m.jsx("div",{className:"bg-white p-4 rounded-[2rem] shadow-2xl mb-4 overflow-hidden transform hover:rotate-3 transition-transform border border-slate-50",children:m.jsx(Hy,{size:80})}),m.jsx("span",{className:"font-black text-lg tracking-tighter uppercase text-slate-900 dark:text-white truncate max-w-[200px] text-center",children:(e==null?void 0:e.name)||"Sua Empresa"}),m.jsx("button",{onClick:()=>s(!1),className:"lg:hidden absolute top-6 right-6 text-slate-400 hover:text-indigo-600",children:m.jsx(Rr,{size:24})})]}),m.jsxs("nav",{className:"flex-1 overflow-y-auto px-6 pb-10 mt-8 space-y-2",children:[ke.map(F=>m.jsxs("button",{onClick:()=>o(F.id),className:`w-full flex items-center gap-4 p-4 rounded-2xl transition-all ${i===F.id?"bg-indigo-600 text-white shadow-xl shadow-indigo-100 dark:shadow-none font-black":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[F.icon,m.jsx("span",{className:"text-[14px] leading-none tracking-tight uppercase",children:F.label})]},F.id)),m.jsx("div",{className:"pt-6 mt-6 border-t border-slate-100 dark:border-slate-800",children:m.jsxs("button",{onClick:hr,className:"w-full flex items-center gap-4 p-4 rounded-2xl transition-all text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-950/30 font-black uppercase text-[14px]",children:[m.jsx(lD,{size:20}),"Link Cliente"]})})]}),m.jsx("div",{className:"p-8 border-t border-slate-50 dark:border-slate-800",children:m.jsxs("button",{onClick:t,className:"w-full flex items-center gap-4 p-4 rounded-2xl text-slate-400 hover:text-rose-600 font-black text-sm uppercase transition-colors",children:[m.jsx(V0,{size:20})," ",m.jsx("span",{children:"Sair"})]})})]}),m.jsxs("main",{className:"flex-1 min-h-screen flex flex-col overflow-x-hidden relative z-10",children:[m.jsxs("header",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-2xl border-b border-white dark:border-slate-800 px-10 py-5 flex items-center justify-between sticky top-0 z-[80] shadow-sm shadow-slate-200/20",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("button",{onClick:()=>s(!0),className:"lg:hidden p-3 bg-slate-100 dark:bg-slate-800 rounded-2xl text-slate-500 transition-transform active:scale-90",children:m.jsx(YC,{size:20})}),m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter uppercase",children:(dx=ke.find(F=>F.id===i))==null?void 0:dx.label})]}),m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("button",{onClick:r,className:"p-3.5 bg-white dark:bg-slate-900 border border-slate-200 rounded-[1.2rem] text-slate-500 shadow-sm transition-all hover:scale-110 active:scale-90",children:n==="light"?m.jsx(su,{size:20}):m.jsx(uu,{size:20})}),m.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-[1.2rem] flex items-center justify-center text-white font-black shadow-xl shadow-indigo-100 dark:shadow-none border-2 border-white/20",children:((fx=e==null?void 0:e.name)==null?void 0:fx.charAt(0))||"B"})]})]}),m.jsx("div",{className:"p-10 max-w-7xl w-full mx-auto pb-32",children:yR()}),S&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-950/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3.5rem] shadow-2xl animate-in zoom-in-95 flex flex-col border border-white/20 dark:border-slate-800",children:[m.jsxs("div",{className:"p-10 pb-6 flex justify-between items-start",children:[m.jsxs("div",{className:"flex gap-5",children:[m.jsx("div",{className:"w-16 h-16 rounded-3xl bg-indigo-600 flex items-center justify-center text-white shadow-2xl",children:m.jsx(rl,{size:32})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter",children:$?"Editar Reserva":"Novo Agendamento"}),m.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs font-black uppercase tracking-[0.2em] mt-2",children:"Personalize o atendimento"})]})]}),m.jsx("button",{onClick:()=>T(!1),className:"p-4 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-3xl text-slate-400 transition-all",children:m.jsx(Rr,{size:28})})]}),m.jsxs("form",{onSubmit:dR,className:"p-10 pt-4 space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Nome do Cliente"}),m.jsxs("div",{className:"relative group",children:[m.jsx(um,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-700 group-focus-within:text-indigo-600",size:20}),m.jsx("input",{required:!0,className:"w-full pl-14 pr-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm transition-all focus:bg-white dark:focus:bg-slate-900 text-slate-900 dark:text-white placeholder:text-slate-300 dark:placeholder:text-slate-800 mb-4",value:De.client_name,onChange:F=>Et({...De,client_name:F.target.value}),placeholder:"Ex: Gabriel Oliveira"})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(Xd,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-700 group-focus-within:text-indigo-600",size:20}),m.jsx("input",{className:"w-full pl-14 pr-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm transition-all focus:bg-white dark:focus:bg-slate-900 text-slate-900 dark:text-white placeholder:text-slate-300 dark:placeholder:text-slate-800",value:De.client_phone,onChange:F=>Et({...De,client_phone:F.target.value}),placeholder:"Ex: (11) 99999-9999"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Data"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Rl,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-700 group-focus-within:text-indigo-600",size:20}),m.jsx("input",{required:!0,type:"date",className:"w-full pl-14 pr-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm text-slate-900 dark:text-white",value:De.date,onChange:F=>Et({...De,date:F.target.value})})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Servio"}),m.jsxs("div",{className:"relative group",children:[m.jsx(oa,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-700 group-focus-within:text-indigo-600",size:20}),m.jsxs("select",{required:!0,className:"w-full pl-14 pr-10 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm appearance-none text-slate-900 dark:text-white",value:De.service_id,onChange:F=>oR(F.target.value),children:[m.jsx("option",{value:"",children:"Selecione..."}),G.map(F=>m.jsxs("option",{value:F.id,children:[F.name," (",F.duration,"min)"]},F.id))]}),m.jsx(Jd,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:18})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Horrio"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Yd,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-700 group-focus-within:text-indigo-600",size:20}),m.jsxs("select",{required:!0,className:"w-full pl-14 pr-10 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm appearance-none text-slate-900 dark:text-white",value:De.start_time,onChange:F=>iR(F.target.value),children:[m.jsx("option",{value:"",children:"Selecione..."}),we.map(F=>m.jsx("option",{value:F,children:F},F))]}),m.jsx(Jd,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:18})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Profissional"}),m.jsxs("div",{className:"relative group",children:[m.jsx(Pw,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 dark:text-slate-700 group-focus-within:text-indigo-600",size:20}),m.jsxs("select",{className:"w-full pl-14 pr-10 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm appearance-none text-slate-900 dark:text-white",value:De.professional_id,onChange:F=>Et({...De,professional_id:F.target.value}),children:[m.jsx("option",{value:"",children:"Qualquer Disponvel"}),z.map(F=>m.jsx("option",{value:F.id,children:F.name},F.id))]})]})]})]}),m.jsxs("div",{className:"pt-8 space-y-3",children:[m.jsx("button",{type:"submit",disabled:pe,className:"group w-full text-white py-6 rounded-[2rem] font-black text-lg bg-indigo-600 hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3 disabled:opacity-50",children:pe?m.jsx("div",{className:"w-7 h-7 border-4 border-white/20 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[$?"Atualizar Reserva":"Confirmar Reserva"," ",m.jsx(jr,{size:24,className:"group-hover:translate-x-1 transition-transform"})]})}),$&&m.jsxs("button",{type:"button",onClick:()=>cR($),disabled:pe,className:"w-full text-rose-500 py-4 rounded-[2rem] font-black text-sm uppercase tracking-widest hover:bg-rose-50 dark:hover:bg-rose-900/20 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[m.jsx(Rr,{size:20})," Cancelar Reserva"]})]})]})]})}),N&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-950/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3.5rem] shadow-2xl animate-in zoom-in-95 flex flex-col border border-white/20 dark:border-slate-800",children:[m.jsxs("div",{className:"p-10 pb-6 flex justify-between items-start",children:[m.jsxs("div",{className:"flex gap-5",children:[m.jsx("div",{className:"w-16 h-16 rounded-3xl bg-indigo-600 flex items-center justify-center text-white shadow-2xl",children:m.jsx(_a,{size:32})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter",children:$?"Editar Profissional":"Novo Profissional"}),m.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs font-black uppercase tracking-[0.2em] mt-2",children:$?"Atualizar dados":"Cadastro de equipe"})]})]}),m.jsx("button",{onClick:()=>{R(!1),D(null),Hn({name:"",phone:""})},className:"p-4 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-3xl text-slate-400 transition-all",children:m.jsx(Rr,{size:28})})]}),m.jsxs("form",{onSubmit:fR,className:"p-10 pt-4 space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Nome Completo"}),m.jsx("input",{required:!0,className:"w-full px-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm text-slate-900 dark:text-white shadow-sm",value:Wt.name,onChange:F=>Hn({...Wt,name:F.target.value}),placeholder:"Ex: Lucas Silva"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Nmero de Contato"}),m.jsx("input",{required:!0,className:"w-full px-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm text-slate-900 dark:text-white shadow-sm",value:Wt.phone,onChange:F=>Hn({...Wt,phone:F.target.value}),placeholder:"Ex: (00) 00000-0000"})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{type:"submit",disabled:pe,className:"w-full text-white py-6 rounded-[2rem] font-black text-lg bg-indigo-600 hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",children:pe?m.jsx("div",{className:"w-7 h-7 border-4 border-white/20 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[$?"Atualizar Profissional":"Cadastrar Profissional"," ",m.jsx(jr,{size:24})]})})})]})]})}),M&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-950/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3.5rem] shadow-2xl animate-in zoom-in-95 flex flex-col border border-white/20 dark:border-slate-800",children:[m.jsxs("div",{className:"p-10 pb-6 flex justify-between items-start",children:[m.jsxs("div",{className:"flex gap-5",children:[m.jsx("div",{className:"w-16 h-16 rounded-3xl bg-indigo-600 flex items-center justify-center text-white shadow-2xl",children:m.jsx(oa,{size:32})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter",children:"Novo Servio"}),m.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs font-black uppercase tracking-[0.2em] mt-2",children:"Adicione um item ao cardpio"})]})]}),m.jsx("button",{onClick:()=>{L(!1),ui({name:"",duration:30,price:0})},className:"p-4 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-3xl text-slate-400 transition-all",children:m.jsx(Rr,{size:28})})]}),m.jsxs("form",{onSubmit:hR,className:"p-10 pt-4 space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Nome do Servio"}),m.jsx("input",{required:!0,className:"w-full px-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm text-slate-900 dark:text-white shadow-sm",value:Ut.name,onChange:F=>ui({...Ut,name:F.target.value}),placeholder:"Ex: Corte"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Tempo Estimado (min)"}),m.jsx("input",{required:!0,type:"number",min:5,className:"w-full px-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm text-slate-900 dark:text-white shadow-sm",value:Ut.duration,onChange:F=>ui({...Ut,duration:Number(F.target.value)})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Valor (R$)"}),m.jsx("input",{required:!0,type:"number",min:0,step:"0.01",className:"w-full px-6 py-5 rounded-[1.5rem] bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 outline-none font-bold text-sm text-slate-900 dark:text-white shadow-sm",value:Ut.price,onChange:F=>ui({...Ut,price:Number(F.target.value)})})]})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{type:"submit",disabled:pe,className:"w-full text-white py-6 rounded-[2rem] font-black text-lg bg-indigo-600 hover:bg-indigo-700 active:scale-95 transition-all shadow-2xl flex items-center justify-center gap-3",children:pe?m.jsx("div",{className:"w-7 h-7 border-4 border-white/20 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:["Cadastrar Servio ",m.jsx(jr,{size:24})]})})})]})]})}),A&&m.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 bg-slate-950/80 backdrop-blur-xl animate-in fade-in duration-300",children:m.jsx("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[3.5rem] shadow-2xl animate-in zoom-in-95 duration-500 overflow-hidden border border-white/10 dark:border-slate-800",children:m.jsxs("div",{className:"p-12 text-center",children:[m.jsx("div",{className:"w-24 h-24 bg-rose-50 dark:bg-rose-950/50 text-rose-500 rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-xl shadow-rose-100/50 dark:shadow-none animate-bounce",children:m.jsx(B0,{size:48})}),m.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tighter mb-4",children:"Ateno!"}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-base font-medium leading-relaxed px-4",children:["Tem certeza que deseja excluir permanentemente ",P==="booking"?`o agendamento de "${U==null?void 0:U.client_name}"`:`${P==="professional"?"o profissional":"o registro"} "${U==null?void 0:U.name}"`,"?"]}),m.jsxs("div",{className:"mt-12 flex flex-col gap-4",children:[m.jsx("button",{onClick:uR,disabled:pe,className:"w-full bg-rose-600 text-white py-5 rounded-[1.5rem] font-black text-sm uppercase tracking-[0.2em] hover:bg-rose-700 transition-all shadow-2xl shadow-rose-100 dark:shadow-none flex items-center justify-center gap-2",children:pe?m.jsx(lu,{className:"animate-spin",size:20}):m.jsxs(m.Fragment,{children:["CONFIRMAR EXCLUSO ",m.jsx(cu,{size:20})]})}),m.jsx("button",{onClick:()=>C(!1),className:"w-full bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 py-5 rounded-[1.5rem] font-black text-sm uppercase tracking-[0.2em] hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",children:"Manter Registro"})]})]})})}),m.jsx("footer",{className:"p-10 text-center mt-auto border-t border-slate-100 dark:border-slate-800 opacity-20",children:m.jsx("p",{className:"text-[10px] font-black text-slate-300 dark:text-slate-700 uppercase tracking-[0.4em]",children:"BOOKI SaaS FRAMEWORK  2024"})})]}),Le.show&&m.jsx("div",{className:"fixed bottom-6 left-6 right-6 md:left-auto md:right-6 md:max-w-sm z-50 animate-in slide-in-from-bottom-5 duration-300",children:m.jsxs("div",{className:`flex items-center gap-4 px-6 py-4 rounded-2xl shadow-lg font-semibold text-white border ${Le.type==="success"?"bg-emerald-500 border-emerald-600":Le.type==="error"?"bg-rose-500 border-rose-600":"bg-indigo-500 border-indigo-600"}`,children:[m.jsxs("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${Le.type==="success"?"bg-emerald-600":Le.type==="error"?"bg-rose-600":"bg-indigo-600"}`,children:[Le.type==="success"&&m.jsx(jr,{size:14}),Le.type==="error"&&m.jsx(Rr,{size:14}),Le.type==="info"&&m.jsx(X$,{size:14})]}),m.jsx("span",{className:"flex-1",children:Le.message}),m.jsx("button",{onClick:()=>pn({...Le,show:!1}),className:"text-white/60 hover:text-white transition-colors",children:m.jsx(Rr,{size:18})})]})})]})},RT=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},mpe=({companyId:e,slug:t,theme:n,onToggleTheme:r})=>{var Wt,Hn,Ut,ui;const[i,o]=O.useState(null),[a,s]=O.useState([]),[l,u]=O.useState([]),[c,d]=O.useState(!0),[h,g]=O.useState(!1),[v,b]=O.useState("LOGIN"),[y,w]=O.useState(null),[x,_]=O.useState({name:"",email:"",password:"",phone:""}),[k,E]=O.useState(!1),[S,T]=O.useState(!1),[A,C]=O.useState(new Date),[N,R]=O.useState(new Date),[M,L]=O.useState([]),[$,D]=O.useState([]),[U,V]=O.useState(!1),[P,j]=O.useState("booking"),[z,J]=O.useState([]),[G,oe]=O.useState(!1),[pe,xe]=O.useState(!0),[We,Ot]=O.useState(!1),[Ee,X]=O.useState({professional_id:"",service_id:"",start_time:""}),ue=["09:00","09:40","10:20","11:00","11:40","12:20","13:00","13:40","14:20","15:00","15:40","16:20","17:00"];O.useEffect(()=>{ve(),q(),Ot(!1)},[e,t]),O.useEffect(()=>{y&&i&&(Re(A),we(A))},[A,y,i]),O.useEffect(()=>{y&&P==="my_bookings"&&Be()},[y,P]),O.useEffect(()=>{const K=setTimeout(()=>xe(!1),8e3);return()=>clearTimeout(K)},[]),O.useEffect(()=>{if(!i)return;const K=re.channel("public-bookings").on("postgres_changes",{event:"*",schema:"public",table:"bookings",filter:`company_id=eq.${i.id}`},()=>{setTimeout(()=>{Re(A),y&&P==="my_bookings"&&Be()},500)}).subscribe();return()=>{re.removeChannel(K)}},[i,A,y,P]);const ve=async()=>{const{data:{session:K}}=await re.auth.getSession();K&&(w(K.user),b("LOGGED_IN"))},q=async()=>{d(!0),g(!1);try{let K=re.from("companies").select("*");e?K=K.eq("id",e):t&&(K=K.eq("slug",t));const{data:fe,error:ke}=await K.maybeSingle();if(!fe||ke){g(!0),d(!1);return}o(fe);const{data:mt}=await re.from("professionals").select("*").eq("company_id",fe.id),{data:Ft}=await re.from("services").select("*").eq("company_id",fe.id);s(mt||[]),u(Ft||[])}catch{g(!0)}finally{d(!1)}},Re=async K=>{const fe=RT(K),{data:ke}=await re.from("bookings").select("start_time, professional_id").eq("company_id",i.id).neq("status","CANCELLED").gte("start_time",`${fe}T00:00:00`).lte("start_time",`${fe}T23:59:59`);ke&&L(ke)},we=async K=>{const fe=RT(K),{data:ke}=await re.from("blocked_slots").select("*").eq("company_id",i.id).eq("slot_date",fe);ke&&D(ke)},Be=async()=>{if(y)try{const{data:K,error:fe}=await re.from("bookings").select("*, services(name, price, duration), professionals(name)").eq("client_id",y.id).order("start_time",{ascending:!1});if(fe)throw fe;K&&J(K)}catch(K){console.error("Erro ao buscar agendamentos:",K)}},nt=async K=>{if(confirm("Tem certeza que deseja cancelar este agendamento?"))try{const{error:fe}=await re.from("bookings").update({status:"CANCELLED"}).eq("id",K);if(fe)throw fe;alert("Agendamento cancelado com sucesso. A empresa foi notificada."),Be(),Re(A)}catch(fe){alert(fe.message)}},Ke=async K=>{K.preventDefault(),T(!0);try{if(v==="REGISTER"){const{error:fe}=await re.auth.signUp({email:x.email,password:x.password,options:{data:{full_name:x.name,phone:x.phone,role:"CLIENT"}}});if(fe)throw fe;alert("Cadastro realizado! Faa login."),b("LOGIN")}else{const{data:fe,error:ke}=await re.auth.signInWithPassword({email:x.email,password:x.password});if(ke)throw ke;w(fe.user),b("LOGGED_IN")}}catch(fe){alert(fe.message)}finally{T(!1)}},rn=async()=>{await re.auth.signOut(),w(null),b("LOGIN"),j("booking")},hn=async()=>{var Ar,Hi;if(!Ee.service_id||!Ee.start_time){alert("Selecione servio e horrio.");return}V(!0);const[K,fe]=Ee.start_time.split(":").map(Number),ke=new Date(A);ke.setHours(K,fe,0,0);const mt=ke.toISOString(),Ft=l.find(Cr=>Cr.id===Ee.service_id),Le=Ft?Number(Ft.duration||40):40,pn=new Date(ke);pn.setMinutes(ke.getMinutes()+Le);const hr=pn.toISOString();try{const{error:Cr}=await re.from("bookings").insert([{company_id:i.id,client_id:y.id,client_name:((Ar=y.user_metadata)==null?void 0:Ar.full_name)||x.name||y.email||"Cliente",client_phone:((Hi=y.user_metadata)==null?void 0:Hi.phone)||x.phone||"",professional_id:Ee.professional_id||null,service_id:Ee.service_id,start_time:mt,end_time:hr,status:"CONFIRMED"}]);if(Cr)throw Cr;Re(A),X(pc=>({...pc,start_time:""})),oe(!0)}catch(Cr){alert(Cr.message)}finally{V(!1)}},fr=()=>{const K=N.getFullYear(),fe=N.getMonth(),ke=new Date(K,fe,1).getDay(),mt=new Date(K,fe+1,0).getDate(),Ft=[];for(let Le=0;Le<ke;Le++)Ft.push(null);for(let Le=1;Le<=mt;Le++)Ft.push(new Date(K,fe,Le));return Ft},De=K=>{console.log(`Edit service with ID: ${K}`)},Et=async K=>{if(confirm("Tem certeza que deseja excluir este servio?"))try{const{error:fe}=await re.from("services").delete().eq("id",K);if(fe)throw fe;alert("Servio excludo com sucesso.");const{data:ke}=await re.from("services").select("*").eq("company_id",i.id);u(ke||[])}catch(fe){alert(fe.message)}};return c?m.jsx("div",{className:"min-h-screen flex items-center justify-center dark:bg-slate-950",children:m.jsx("div",{className:"w-10 h-10 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"})}):h?m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center dark:bg-slate-950",children:[m.jsx("h1",{className:"text-4xl font-black mb-4 dark:text-white",children:"Salo No Encontrado"}),m.jsx("p",{className:"text-slate-500 mb-8",children:"O link acessado  invlido ou a empresa no existe."}),m.jsx("button",{onClick:()=>window.location.href="/",className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black",children:"Voltar ao Incio"})]}):m.jsxs("div",{className:"min-h-screen bg-[#f8fafc] dark:bg-slate-950 font-sans transition-colors duration-500",children:[((i==null?void 0:i.whatsapp_url)||(i==null?void 0:i.instagram_url))&&m.jsxs("div",{className:"fixed bottom-24 md:bottom-8 right-6 z-[60] flex flex-col gap-3 animate-in slide-in-from-right duration-700 items-end",children:[(i==null?void 0:i.instagram_url)&&m.jsx("a",{href:i.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-gradient-to-tr from-amber-400 via-rose-500 to-fuchsia-600 text-white rounded-full flex items-center justify-center shadow-xl hover:scale-110 transition-transform active:scale-95",children:m.jsx(xd,{size:24})}),(i==null?void 0:i.whatsapp_url)&&m.jsxs("div",{className:"relative flex items-center",children:[pe&&m.jsxs("div",{className:"absolute right-16 bg-white dark:bg-slate-800 text-slate-900 dark:text-white px-4 py-2.5 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 whitespace-nowrap font-black text-[10px] uppercase tracking-wide animate-in fade-in slide-in-from-right-4 duration-700",children:["Precisa de ajuda?",m.jsx("div",{className:"absolute -right-1.5 top-1/2 -translate-y-1/2 w-3 h-3 bg-white dark:bg-slate-800 rotate-45 border-t border-r border-slate-100 dark:border-slate-700"})]}),m.jsx("a",{href:i.whatsapp_url,target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 bg-emerald-500 text-white rounded-full flex items-center justify-center shadow-xl shadow-emerald-500/20 hover:scale-110 transition-transform active:scale-95 relative z-10",children:m.jsx(wd,{size:28})})]})]}),v!=="LOGGED_IN"?m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-96 bg-indigo-600 rounded-b-[4rem] z-0 shadow-2xl"}),m.jsx("div",{className:"absolute top-10 right-10 z-10",children:m.jsx("button",{onClick:r,className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl text-white hover:bg-white/20 transition-all",children:n==="light"?m.jsx(su,{size:20}):m.jsx(uu,{size:20})})}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] p-10 flex flex-col items-center shadow-2xl relative z-10 animate-in fade-in zoom-in-95 duration-500 border border-slate-100 dark:border-slate-800",children:[m.jsx("div",{className:"w-24 h-24 bg-white rounded-[2rem] flex items-center justify-center mb-6 shadow-xl shadow-indigo-200 dark:shadow-none -mt-20 border-4 border-white dark:border-slate-900 overflow-hidden p-0",children:i!=null&&i.logo_url&&!We?m.jsx("img",{src:i.logo_url,alt:i==null?void 0:i.name,className:"block w-full h-full object-cover",onError:()=>Ot(!0)}):m.jsx("span",{className:"text-3xl font-black",children:(Wt=i==null?void 0:i.name)==null?void 0:Wt.charAt(0)})}),m.jsx("h1",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight mb-1",children:i==null?void 0:i.name}),m.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-8",children:"Portal do Cliente"}),m.jsx("h2",{className:"text-2xl font-black dark:text-white mb-8 self-start w-full",children:v==="REGISTER"?"Criar Conta":"Bem-vindo de volta!"}),m.jsxs("form",{onSubmit:Ke,className:"w-full space-y-4",children:[v==="REGISTER"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative group",children:[m.jsx(Qd,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),m.jsx("input",{required:!0,className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-slate-50 dark:bg-slate-800 border border-transparent focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 font-bold dark:text-white outline-none transition-all",placeholder:"Nome Completo",value:x.name,onChange:K=>_({...x,name:K.target.value})})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(Xd,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),m.jsx("input",{required:!0,className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-slate-50 dark:bg-slate-800 border border-transparent focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 font-bold dark:text-white outline-none transition-all",placeholder:"Seu WhatsApp",value:x.phone,onChange:K=>_({...x,phone:K.target.value})})]})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(JC,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),m.jsx("input",{required:!0,type:"email",className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-slate-50 dark:bg-slate-800 border border-transparent focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 font-bold dark:text-white outline-none transition-all",placeholder:"E-mail",value:x.email,onChange:K=>_({...x,email:K.target.value})})]}),m.jsxs("div",{className:"relative group",children:[m.jsx(au,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:20}),m.jsx("input",{required:!0,type:"password",className:"w-full pl-14 pr-6 py-4 rounded-2xl bg-slate-50 dark:bg-slate-800 border border-transparent focus:border-indigo-500 focus:bg-white dark:focus:bg-slate-900 font-bold dark:text-white outline-none transition-all",placeholder:"Senha",value:x.password,onChange:K=>_({...x,password:K.target.value})})]}),m.jsx("button",{type:"submit",disabled:S,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-5 rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-indigo-200 dark:shadow-none transition-all active:scale-95 mt-4",children:S?"Processando...":v==="REGISTER"?"Criar Conta":"Acessar"}),m.jsx("div",{className:"text-center pt-4",children:m.jsx("button",{type:"button",onClick:()=>b(v==="REGISTER"?"LOGIN":"REGISTER"),className:"text-xs font-bold text-slate-400 hover:text-indigo-600 transition-colors",children:v==="REGISTER"?"J possui uma conta? Faa Login":"No tem conta? Cadastre-se agora"})})]})]}),m.jsxs("footer",{className:"absolute bottom-6 w-full flex flex-col items-center gap-4 z-20",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[(i==null?void 0:i.whatsapp_url)&&m.jsx("a",{href:i.whatsapp_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-slate-400 hover:text-emerald-500 transition-colors bg-white/50 dark:bg-slate-800/50 rounded-xl backdrop-blur-sm",children:m.jsx(wd,{size:20})}),(i==null?void 0:i.instagram_url)&&m.jsx("a",{href:i.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-slate-400 hover:text-pink-600 transition-colors bg-white/50 dark:bg-slate-800/50 rounded-xl backdrop-blur-sm",children:m.jsx(xd,{size:20})}),(i==null?void 0:i.facebook_url)&&m.jsx("a",{href:i.facebook_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-slate-400 hover:text-blue-600 transition-colors bg-white/50 dark:bg-slate-800/50 rounded-xl backdrop-blur-sm",children:m.jsx(kw,{size:20})}),(i==null?void 0:i.website_url)&&m.jsx("a",{href:i.website_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-slate-400 hover:text-indigo-600 transition-colors bg-white/50 dark:bg-slate-800/50 rounded-xl backdrop-blur-sm",children:m.jsx(Gg,{size:20})})]}),m.jsx("p",{className:"opacity-30 font-black text-[10px] tracking-widest uppercase text-slate-500",children:"Powered by BOOKI SaaS"})]})]}):m.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen",children:[m.jsxs("aside",{className:"bg-white dark:bg-slate-900 border-r border-slate-100 dark:border-slate-800 md:w-72 flex-shrink-0 z-40 flex flex-col justify-between fixed md:sticky bottom-0 w-full md:h-screen order-2 md:order-1 shadow-[0_-4px_20px_rgba(0,0,0,0.05)] md:shadow-none",children:[m.jsxs("div",{className:"p-8 hidden md:flex flex-col items-center border-b border-slate-50 dark:border-slate-800",children:[m.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center text-white font-black text-2xl mb-4 shadow-lg shadow-indigo-200 dark:shadow-none",children:(Hn=i==null?void 0:i.name)==null?void 0:Hn.charAt(0)}),m.jsx("h2",{className:"font-black text-slate-900 dark:text-white uppercase tracking-tight text-center",children:i==null?void 0:i.name})]}),m.jsxs("nav",{className:"flex md:flex-col justify-around md:justify-start p-2 md:p-6 gap-1 md:gap-2",children:[m.jsxs("button",{onClick:()=>j("booking"),className:`flex flex-col md:flex-row items-center md:gap-4 p-3 md:px-6 md:py-4 rounded-2xl transition-all ${P==="booking"?"text-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[m.jsx(Rl,{size:24}),m.jsx("span",{className:"text-[10px] md:text-sm font-black uppercase tracking-wide mt-1 md:mt-0",children:"Agendar"})]}),m.jsxs("button",{onClick:()=>j("my_bookings"),className:`flex flex-col md:flex-row items-center md:gap-4 p-3 md:px-6 md:py-4 rounded-2xl transition-all ${P==="my_bookings"?"text-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[m.jsx(Tw,{size:24}),m.jsx("span",{className:"text-[10px] md:text-sm font-black uppercase tracking-wide mt-1 md:mt-0",children:"Meus Agendamentos"})]}),m.jsxs("button",{onClick:()=>j("account"),className:`flex flex-col md:flex-row items-center md:gap-4 p-3 md:px-6 md:py-4 rounded-2xl transition-all ${P==="account"?"text-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[m.jsx(_D,{size:24}),m.jsx("span",{className:"text-[10px] md:text-sm font-black uppercase tracking-wide mt-1 md:mt-0",children:"Minha Conta"})]})]}),m.jsxs("div",{className:"p-6 hidden md:block border-t border-slate-50 dark:border-slate-800",children:[m.jsxs("div",{className:"flex justify-center gap-3 mb-6",children:[(i==null?void 0:i.whatsapp_url)&&m.jsx("a",{href:i.whatsapp_url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-emerald-500 transition-colors",children:m.jsx(wd,{size:18})}),(i==null?void 0:i.instagram_url)&&m.jsx("a",{href:i.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-pink-600 transition-colors",children:m.jsx(xd,{size:18})}),(i==null?void 0:i.facebook_url)&&m.jsx("a",{href:i.facebook_url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-blue-600 transition-colors",children:m.jsx(kw,{size:18})}),(i==null?void 0:i.website_url)&&m.jsx("a",{href:i.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-indigo-600 transition-colors",children:m.jsx(Gg,{size:18})})]}),m.jsxs("button",{onClick:rn,className:"w-full flex items-center gap-4 p-4 rounded-2xl text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 font-black uppercase text-xs transition-all",children:[m.jsx(V0,{size:20})," Sair"]})]})]}),m.jsxs("main",{className:"flex-1 p-6 md:p-12 pb-32 md:pb-12 overflow-y-auto order-1 md:order-2",children:[m.jsxs("header",{className:"flex justify-between items-center mb-10",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl md:text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:["Ol, ",((Ut=y.user_metadata.full_name)==null?void 0:Ut.split(" ")[0])||"Cliente","!"]}),m.jsxs("p",{className:"text-slate-400 font-bold text-sm mt-1",children:["Bem-vindo ao ",i==null?void 0:i.name]})]}),m.jsx("button",{onClick:r,className:"p-3 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl text-slate-500 shadow-sm",children:n==="light"?m.jsx(su,{size:20}):m.jsx(uu,{size:20})})]}),P==="booking"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-900 p-6 rounded-[2rem] border border-slate-100 dark:border-slate-800 shadow-xl shadow-slate-200/50 dark:shadow-none",children:[m.jsxs("h3",{className:"text-lg font-black mb-6 dark:text-white uppercase flex items-center gap-3",children:[m.jsx(Rl,{className:"text-indigo-600"})," Selecione a Data"]}),m.jsxs("div",{className:"grid grid-cols-7 gap-2 md:gap-4 text-center",children:[["D","S","T","Q","Q","S","S"].map(K=>m.jsx("div",{className:"text-[10px] md:text-xs font-black text-slate-300 uppercase py-2",children:K},K)),fr().map((K,fe)=>{if(!K)return m.jsx("div",{},fe);const ke=K.toDateString()===A.toDateString(),mt=K.toDateString()===new Date().toDateString();return m.jsx("button",{onClick:()=>C(K),className:`aspect-square flex flex-col items-center justify-center text-sm md:text-lg font-bold rounded-2xl transition-all ${ke?"bg-indigo-600 text-white shadow-lg shadow-indigo-200 dark:shadow-none scale-110":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"} ${mt?"border-2 border-indigo-600 text-indigo-600":""}`,children:K.getDate()},fe)})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-[2rem] border border-slate-100 dark:border-slate-800 shadow-xl shadow-slate-200/50 dark:shadow-none h-fit",children:[m.jsxs("h3",{className:"text-lg font-black mb-6 dark:text-white uppercase flex items-center gap-3",children:[m.jsx(Yd,{className:"text-indigo-600"})," Horrios"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Profissional"}),m.jsxs("select",{className:"w-full p-3 rounded-xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 font-bold text-sm dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20",value:Ee.professional_id,onChange:K=>X({...Ee,professional_id:K.target.value}),children:[m.jsx("option",{value:"",children:"Qualquer disponvel"}),a.map(K=>m.jsx("option",{value:K.id,children:K.name},K.id))]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Servio"}),m.jsxs("select",{className:"w-full p-3 rounded-xl bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 font-bold text-sm dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20",value:Ee.service_id,onChange:K=>X({...Ee,service_id:K.target.value}),children:[m.jsx("option",{value:"",children:"Selecione..."}),l.map(K=>m.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-slate-900 p-6 rounded-[2rem] border border-slate-100 dark:border-slate-800 shadow-xl shadow-slate-200/50 dark:shadow-none",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-full flex items-center justify-center",children:m.jsx(oa,{size:20})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-black text-lg text-slate-900 dark:text-white",children:K.name}),m.jsxs("p",{className:"text-slate-400 font-bold text-sm",children:[K.duration," min"]})]})]}),m.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[m.jsxs("p",{className:"font-black text-slate-900 dark:text-white",children:["R$ ",K.price]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>De(K.id),className:"text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 p-2 rounded-lg",children:m.jsx(bD,{size:16})}),m.jsx("button",{onClick:()=>Et(K.id),className:"text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 p-2 rounded-lg",children:m.jsx(wD,{size:16})})]})]})]},K.id))]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Disponibilidade"}),m.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-[240px] overflow-y-auto pr-2 custom-scrollbar",children:ue.map(K=>{const fe=M.filter(Le=>{const pn=new Date(Le.start_time),hr=pn.getHours().toString().padStart(2,"0"),Ar=pn.getMinutes().toString().padStart(2,"0");return`${hr}:${Ar}`===K});let ke=!1;Ee.professional_id?ke=fe.some(Le=>Le.professional_id===Ee.professional_id):a.length>0&&(ke=fe.length>=a.length);const mt=$.find(Le=>Le.slot_time===K),Ft=Ee.start_time===K;return ke||mt?null:m.jsx("button",{onClick:()=>X({...Ee,start_time:K}),className:`py-3 rounded-xl border font-black text-xs transition-all ${Ft?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-200 dark:shadow-none":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-700 text-slate-500 hover:border-indigo-300"}`,children:K},K)})})]})]}),m.jsx("button",{onClick:hn,disabled:U||!Ee.start_time||!Ee.service_id,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white py-5 rounded-2xl font-black uppercase mt-8 transition-all shadow-xl shadow-emerald-200 dark:shadow-none active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:U?"Reservando...":"Confirmar Agendamento"})]})]}),P==="my_bookings"&&m.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 max-w-3xl",children:[m.jsxs("h2",{className:"text-2xl font-black dark:text-white mb-6 flex items-center gap-3",children:[m.jsx(Tw,{className:"text-indigo-600"})," Histrico de Agendamentos"]}),z.length===0?m.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-[2.5rem] border border-slate-100 dark:border-slate-800",children:[m.jsx("div",{className:"w-20 h-20 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-300",children:m.jsx(WC,{size:40})}),m.jsx("p",{className:"text-slate-500 font-bold text-lg",children:"Voc ainda no tem agendamentos."}),m.jsx("button",{onClick:()=>j("booking"),className:"mt-6 text-indigo-600 font-black uppercase text-xs tracking-widest hover:underline",children:"Fazer meu primeiro agendamento"})]}):m.jsx("div",{className:"grid gap-4",children:z.map(K=>{if(!K||!K.start_time)return null;const fe=new Date(K.start_time);if(isNaN(fe.getTime()))return null;const ke=fe<new Date,mt=(hr,Ar)=>{var Hi;return hr?Array.isArray(hr)?(Hi=hr[0])==null?void 0:Hi[Ar]:hr[Ar]:null},Ft=mt(K.services,"name"),Le=mt(K.services,"price"),pn=mt(K.professionals,"name");return m.jsxs("div",{className:`bg-white dark:bg-slate-900 p-6 rounded-[2rem] border border-slate-100 dark:border-slate-800 flex items-center justify-between transition-all hover:shadow-xl hover:shadow-slate-200/40 dark:hover:shadow-none ${ke?"opacity-60 grayscale":""}`,children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsxs("div",{className:`w-16 h-16 rounded-2xl flex flex-col items-center justify-center border ${ke?"bg-slate-50 border-slate-100 text-slate-400":"bg-indigo-50 border-indigo-100 text-indigo-600 dark:bg-indigo-900/20 dark:border-indigo-900 dark:text-indigo-400"}`,children:[m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:fe.toLocaleString("pt-BR",{month:"short"}).replace(".","")}),m.jsx("span",{className:"text-2xl font-black",children:fe.getDate()})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-black text-lg text-slate-900 dark:text-white",children:Ft||"Servio"}),m.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs font-bold text-slate-400",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Yd,{size:14})," ",fe.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Qd,{size:14})," ",pn||"Profissional"]})]})]})]}),m.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[m.jsx("span",{className:`px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-wider ${K.status==="CONFIRMED"?"bg-emerald-100 text-emerald-700":K.status==="CANCELLED"?"bg-rose-100 text-rose-700":"bg-slate-100 text-slate-500"}`,children:K.status==="CONFIRMED"?"Confirmado":K.status==="CANCELLED"?"Cancelado":K.status}),m.jsxs("p",{className:"font-black text-slate-900 dark:text-white",children:["R$ ",Le]}),!ke&&K.status!=="CANCELLED"&&m.jsx("button",{onClick:()=>nt(K.id),className:"text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider transition-colors",children:"Cancelar"})]})]},K.id)})})]}),P==="account"&&m.jsx("div",{className:"max-w-2xl animate-in fade-in zoom-in-95 duration-500",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-10 rounded-[2.5rem] border border-slate-100 dark:border-slate-800 shadow-xl shadow-slate-200/50 dark:shadow-none text-center",children:[m.jsx("div",{className:"w-24 h-24 bg-indigo-600 text-white rounded-full flex items-center justify-center text-3xl font-black mx-auto mb-6 shadow-lg shadow-indigo-200 dark:shadow-none",children:(ui=y.user_metadata.full_name)==null?void 0:ui.charAt(0)}),m.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white",children:y.user_metadata.full_name}),m.jsx("p",{className:"text-slate-400 font-bold mb-8",children:y.email}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:[m.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800 rounded-3xl",children:[m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Telefone"}),m.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:y.user_metadata.phone||"No informado"})]}),m.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800 rounded-3xl",children:[m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Membro Desde"}),m.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:new Date(y.created_at).toLocaleDateString("pt-BR")})]})]}),m.jsx("button",{onClick:rn,className:"w-full mt-8 py-4 rounded-2xl border-2 border-rose-100 text-rose-500 font-black uppercase tracking-widest hover:bg-rose-50 transition-colors",children:"Sair da Conta"})]})})]}),G&&m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-950/60 backdrop-blur-md animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2.5rem] p-8 flex flex-col items-center text-center shadow-2xl border border-white/20 dark:border-slate-800 animate-in zoom-in-95",children:[m.jsx("div",{className:"w-20 h-20 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-full flex items-center justify-center mb-6",children:m.jsx(jr,{size:40})}),m.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2",children:"Agendado!"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium mb-8",children:"Seu horrio foi reservado com sucesso. Te esperamos l!"}),m.jsx("button",{onClick:()=>{oe(!1),j("my_bookings")},className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-4 rounded-2xl font-black uppercase tracking-widest transition-all shadow-lg shadow-indigo-200 dark:shadow-none",children:"Ver Meus Agendamentos"})]})})]})]})},Ym="3d577496-f12a-4cb8-abda-e2fc2ea24987",gpe="https://rvocbjrzruiohrxuiqnq.supabase.co/storage/v1/object/public/logos/Booki%20LOGOMARCA%20-%20Copia.png",Hy=({size:e=24,className:t=""})=>m.jsx("img",{src:gpe,alt:"BOOKI Official Logo",className:`object-contain ${t}`,style:{maxWidth:e,maxHeight:e,width:"auto",height:"auto",display:"block"},onError:n=>{n.target.src="https://via.placeholder.com/400x150?text=BOOKI"}}),vpe=()=>{var M,L;const[e,t]=O.useState("dashboard"),[n,r]=O.useState(!1),[i,o]=O.useState(null),[a,s]=O.useState(null),[l,u]=O.useState(null),[c,d]=O.useState(!0),[h,g]=O.useState(null),[v,b]=O.useState(()=>localStorage.getItem("booki_theme")||"light"),[y,w]=O.useState(""),[x,_]=O.useState(""),[k,E]=O.useState(!1),[S,T]=O.useState(null);console.log("=== APP RENDER ==="),console.log("State:",{session:i,companySession:a,loading:c,publicCompanyId:h}),console.log("================="),O.useEffect(()=>{const D=new URLSearchParams(window.location.search).get("companyId");D&&g(D)},[]),O.useEffect(()=>{const $=window.document.documentElement;v==="dark"?$.classList.add("dark"):$.classList.remove("dark"),localStorage.setItem("booki_theme",v)},[v]),O.useEffect(()=>{re.auth.getSession().then(({data:{session:U}})=>{o(U),U?A(U.user.id):d(!1)});const{data:{subscription:$}}=re.auth.onAuthStateChange((U,V)=>{o(V),V?A(V.user.id):(u(null),d(!1))}),D=localStorage.getItem("booki_company_session");return D&&s(JSON.parse(D)),()=>$.unsubscribe()},[]);const A=async $=>{const{data:D}=await re.from("profiles").select("*").eq("id",$).single();D&&u(D),d(!1)},C=()=>{b($=>$==="light"?"dark":"light")},N=()=>{re.auth.signOut(),s(null),localStorage.removeItem("booki_company_session")},R=async $=>{var D;$.preventDefault(),d(!0),T(null);try{const{data:U,error:V}=await re.auth.signInWithPassword({email:y.trim(),password:x});if(!V&&((D=U.session)==null?void 0:D.user.id)===Ym){o(U.session),d(!1);return}const P=y.trim().toLowerCase(),{data:j,error:z}=await re.from("companies").select("*").eq("owner_email",P).eq("access_password",x).maybeSingle();if(z)throw z;j?j.status==="INACTIVE"?T("Empresa Inativa."):(s(j),localStorage.setItem("booki_company_session",JSON.stringify(j))):T("Senha incorreta. Verifique suas credenciais.")}catch{T("Erro de conexo com o servidor.")}finally{d(!1)}};if(h)return m.jsx(mpe,{companyId:h,theme:v,onToggleTheme:C});if(c&&!i&&!a)return m.jsx("div",{className:"flex items-center justify-center min-h-screen bg-white dark:bg-slate-950",children:m.jsx("div",{className:"w-10 h-10 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"})});if(a)return m.jsx(ppe,{company:a,onLogout:N,theme:v,onToggleTheme:C});if(i&&i.user.id===Ym){const $=[{id:"dashboard",label:"Painel Geral",icon:m.jsx(KC,{size:20})},{id:"companies",label:"Empresas SaaS",icon:m.jsx(HC,{size:20})},{id:"plans",label:"Planos SaaS",icon:m.jsx(Ri,{size:20})},{id:"finance",label:"Financeiro",icon:m.jsx(nD,{size:20})},{id:"settings",label:"Ajustes",icon:m.jsx(Wg,{size:20})}];return m.jsxs("div",{className:"flex min-h-screen bg-slate-50 dark:bg-slate-950 font-sans text-slate-900 dark:text-slate-100 overflow-x-hidden transition-colors",children:[m.jsxs("aside",{className:`fixed inset-y-0 left-0 z-[70] bg-indigo-600 text-white flex flex-col transition-transform duration-300 ${n?"translate-x-0":"-translate-x-full lg:translate-x-0"} w-72 shadow-2xl shadow-indigo-500/10`,children:[m.jsxs("div",{className:"p-8 flex flex-col items-center border-b border-white/10",children:[m.jsx("div",{className:"bg-white p-4 rounded-[1.5rem] shadow-2xl mb-4 hover:scale-105 transition-transform cursor-pointer flex items-center justify-center min-w-[120px] min-h-[60px]",children:m.jsx(Hy,{size:140})}),m.jsx("span",{className:"font-black text-[10px] tracking-[0.3em] uppercase text-indigo-100/60 mt-1",children:"SaaS Core Manager"})]}),m.jsx("nav",{className:"flex-1 px-4 mt-8 space-y-1",children:$.map(D=>m.jsxs("button",{onClick:()=>t(D.id),className:`w-full flex items-center gap-4 p-4 rounded-2xl transition-all ${e===D.id?"bg-white text-indigo-600 shadow-xl font-black":"text-indigo-100 hover:bg-white/10 font-bold"}`,children:[D.icon,m.jsx("span",{className:"text-sm uppercase tracking-wide",children:D.label})]},D.id))}),m.jsx("div",{className:"p-6",children:m.jsxs("button",{onClick:N,className:"w-full flex items-center gap-4 p-4 hover:bg-white/10 rounded-2xl transition-all font-bold text-sm",children:[m.jsx(V0,{size:20}),m.jsx("span",{children:"Sair do Sistema"})]})})]}),m.jsxs("main",{className:"flex-1 flex flex-col lg:ml-72 min-h-screen",children:[m.jsxs("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 p-6 flex items-center justify-between sticky top-0 z-[60]",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>r(!0),className:"lg:hidden p-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:m.jsx(YC,{size:24})}),m.jsx("h1",{className:"text-xl font-black text-black dark:text-white tracking-tighter uppercase",children:(M=$.find(D=>D.id===e))==null?void 0:M.label})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:C,className:"p-3 bg-slate-100 dark:bg-slate-800 rounded-2xl text-slate-600 dark:text-slate-300 hover:scale-110 transition-transform",children:v==="light"?m.jsx(su,{size:20}):m.jsx(uu,{size:20})}),m.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-slate-200 dark:border-slate-700",children:[m.jsxs("div",{className:"text-right hidden sm:block",children:[m.jsx("p",{className:"text-xs font-black text-black dark:text-white leading-none",children:"Master Admin"}),m.jsx("p",{className:"text-[10px] text-indigo-600 font-bold uppercase tracking-widest mt-1",children:"Status: Online"})]}),m.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-2xl flex items-center justify-center text-white font-black shadow-lg shadow-indigo-200",children:((L=l==null?void 0:l.full_name)==null?void 0:L.charAt(0))||"M"})]})]})]}),m.jsxs("div",{className:"p-6 md:p-10 max-w-7xl mx-auto w-full",children:[e==="dashboard"&&m.jsx(upe,{theme:v}),e==="companies"&&m.jsx(cpe,{}),e==="plans"&&m.jsx(dpe,{}),e==="finance"&&m.jsx(fpe,{}),e==="settings"&&m.jsx(hpe,{})]})]}),n&&m.jsx("div",{onClick:()=>r(!1),className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[65] lg:hidden animate-in fade-in duration-300"})]})}if(i&&i.user.id!==Ym)return m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-slate-950 p-6 text-center",children:[m.jsx(au,{className:"text-rose-600 mb-6",size:64}),m.jsx("h1",{className:"text-4xl font-black text-black dark:text-white tracking-tighter",children:"Acesso No Autorizado"}),m.jsx("p",{className:"text-slate-500 mt-2",children:"Esta conta no possui privilgios master."}),m.jsx("button",{onClick:N,className:"mt-8 bg-black dark:bg-white dark:text-black text-white px-8 py-4 rounded-2xl font-black",children:"Sair e Tentar Novamente"})]});if(!i&&!a&&!h&&!c)return m.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row bg-slate-50 dark:bg-slate-950 font-sans antialiased transition-colors",style:{minHeight:"100vh",display:"flex"},children:[m.jsxs("div",{className:"lg:flex-1 bg-indigo-600 flex flex-col items-center justify-center p-12 text-white relative overflow-hidden",style:{backgroundColor:"#4f46e5",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative"},children:[m.jsx("div",{className:"absolute top-0 right-0 p-8 md:p-12 z-50",children:m.jsx("button",{onClick:C,title:"Alternar Tema",className:"p-4 bg-white/10 hover:bg-white/20 rounded-[1.5rem] backdrop-blur-md transition-all active:scale-90 border border-white/10",children:v==="light"?m.jsx(su,{size:24,className:"animate-in fade-in zoom-in duration-300"}):m.jsx(uu,{size:24,className:"animate-in fade-in zoom-in duration-300"})})}),m.jsxs("div",{className:"relative z-10 text-center",children:[m.jsx("div",{className:"bg-white p-6 rounded-[2.5rem] shadow-2xl mb-8 inline-block animate-in zoom-in duration-700",children:m.jsx(Hy,{size:200})}),m.jsx("h1",{className:"text-5xl font-extrabold tracking-tighter mb-4 antialiased",children:"Booki Agenda"}),m.jsx("p",{className:"text-indigo-100 text-lg font-medium opacity-80 max-w-md mx-auto",children:"A soluo inteligente para gesto de agendamentos e servios em tempo real."})]}),m.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 bg-white/10 rounded-full blur-3xl"}),m.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-indigo-400/20 rounded-full blur-3xl"})]}),m.jsx("div",{className:"lg:flex-1 bg-white dark:bg-slate-900 p-10 flex flex-col justify-center animate-in slide-in-from-right duration-500 shadow-2xl transition-colors",children:m.jsxs("div",{className:"max-w-md w-full mx-auto",children:[m.jsx("h2",{className:"text-4xl font-extrabold text-slate-900 dark:text-white tracking-tight mb-2 antialiased",children:"Seja bem-vindo!"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-base mb-12 antialiased",children:"Identifique-se para acessar seu painel de gesto."}),m.jsxs("form",{onSubmit:R,className:"space-y-5",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"E-mail de Acesso"}),m.jsx("input",{type:"email",required:!0,value:y,onChange:$=>w($.target.value),className:"w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-2xl outline-none focus:ring-4 focus:ring-indigo-50 dark:focus:ring-indigo-900/20 font-bold transition-all text-slate-900 dark:text-white placeholder:text-slate-400",placeholder:"exemplo@booki.com.br"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-300 uppercase tracking-widest ml-1",children:"Senha"}),m.jsxs("div",{className:"relative group",children:[m.jsx("input",{type:k?"text":"password",required:!0,value:x,onChange:$=>{_($.target.value),S&&T(null)},className:`w-full px-6 py-4 bg-slate-50 dark:bg-slate-800 border rounded-2xl outline-none focus:ring-4 font-bold transition-all text-slate-900 dark:text-white placeholder:text-slate-400 pr-14 ${S?"border-rose-500 dark:border-rose-500 focus:ring-rose-50 dark:focus:ring-rose-900/20":"border-slate-100 dark:border-slate-700 focus:ring-indigo-50 dark:focus:ring-indigo-900/20"}`,placeholder:""}),m.jsx("button",{type:"button",onClick:()=>E(!k),className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 text-slate-400 dark:text-slate-500 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:k?"Ocultar senha":"Mostrar senha",children:k?m.jsx(iD,{size:18}):m.jsx(oD,{size:18})})]}),S&&m.jsxs("p",{className:"text-xs font-bold text-rose-600 dark:text-rose-400 mt-1 flex items-center gap-1",children:[m.jsx(au,{size:14})," ",S]})]}),m.jsx("button",{type:"submit",disabled:c,className:"w-full py-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-black text-sm uppercase tracking-widest transition-all shadow-xl shadow-indigo-100 dark:shadow-none flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 mt-4",children:c?m.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:["Acessar Plataforma ",m.jsx(z0,{size:18})]})})]}),m.jsxs("div",{className:"mt-12 flex items-center justify-center gap-2 text-[10px] font-black text-slate-300 dark:text-slate-600 uppercase tracking-widest",children:[m.jsx(Xa,{size:14}),m.jsx("span",{children:"Criptografia BOOKI Unificada Ativa"})]})]})})]})};class ype extends I.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,n){console.error("React Error:",t),console.error("Error Info:",n)}render(){return this.state.hasError?m.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f8fafc",fontFamily:"Inter, sans-serif",flexDirection:"column",gap:"20px",padding:"20px"},children:m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("h1",{style:{color:"#000",fontSize:"24px",fontWeight:"bold",margin:"0 0 10px 0"},children:" Erro na Aplicao"}),m.jsx("p",{style:{color:"#666",fontSize:"14px",margin:"0"},children:"Verifique o console do navegador para mais detalhes."})]})}):this.props.children}}const eR=document.getElementById("root");if(!eR)throw new Error("Could not find root element to mount to");const bpe=Xm.createRoot(eR);bpe.render(m.jsx(I.StrictMode,{children:m.jsx(ype,{children:m.jsx(vpe,{})})}));
